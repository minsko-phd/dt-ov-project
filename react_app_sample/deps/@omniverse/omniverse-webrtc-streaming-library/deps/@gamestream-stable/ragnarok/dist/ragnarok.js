/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ 393:
/*!*****************************************!*\
  !*** ../ragnarok-core/dist/ragnarok.js ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __unused_webpack_exports, __webpack_require__) => {

var $module$exports$rtcutils_core$output$eventemitter$EventEmitter$$ = class {
  constructor($emitSynchronously$$) {
    this.$u$ = new Map();
    this.$ca$ = $emitSynchronously$$;
  }
  addListener($eventname$jscomp$10$$, $handler$jscomp$7$$) {
    var $handles_newHandles$$ = this.$u$.get($eventname$jscomp$10$$);
    void 0 !== $handles_newHandles$$ ? $handles_newHandles$$.add($handler$jscomp$7$$) : ($handles_newHandles$$ = new Set(), $handles_newHandles$$.add($handler$jscomp$7$$), this.$u$.set($eventname$jscomp$10$$, $handles_newHandles$$));
  }
  removeListener($eventname$jscomp$11_handles$jscomp$1$$, $handler$jscomp$8$$) {
    $eventname$jscomp$11_handles$jscomp$1$$ = this.$u$.get($eventname$jscomp$11_handles$jscomp$1$$);
    null === $eventname$jscomp$11_handles$jscomp$1$$ || void 0 === $eventname$jscomp$11_handles$jscomp$1$$ ? void 0 : $eventname$jscomp$11_handles$jscomp$1$$.delete($handler$jscomp$8$$);
  }
  removeAllListenersOfEvent($eventname$jscomp$12$$) {
    this.$u$.delete($eventname$jscomp$12$$);
  }
  removeAllListeners() {
    this.$u$.clear();
  }
  hasListener($eventname$jscomp$13_handles$jscomp$2$$) {
    $eventname$jscomp$13_handles$jscomp$2$$ = this.$u$.get($eventname$jscomp$13_handles$jscomp$2$$);
    return void 0 !== $eventname$jscomp$13_handles$jscomp$2$$ && 0 < $eventname$jscomp$13_handles$jscomp$2$$.size;
  }
  emit($eventname$jscomp$14$$, ...$args$jscomp$5$$) {
    try {
      let $handles$jscomp$3$$ = this.$u$.get($eventname$jscomp$14$$);
      if ($handles$jscomp$3$$) {
        for (const $handler$jscomp$9$$ of $handles$jscomp$3$$) {
          this.$ca$ ? $handler$jscomp$9$$(...$args$jscomp$5$$) : window.setTimeout($handler$jscomp$9$$, 0, ...$args$jscomp$5$$);
        }
      }
    } catch ($err$jscomp$3$$) {
      console.log("Exception in emit: " + $err$jscomp$3$$);
    }
  }
};
var $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ = !0, $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ = !1;
function $module$contents$rtcutils_core$output$settings_toBool$$($value$jscomp$91$$) {
  if ($value$jscomp$91$$) {
    switch($value$jscomp$91$$) {
      case "enable":
      case "on":
      case "1":
      case "true":
        return !0;
      case "disable":
      case "off":
      case "0":
      case "false":
        return !1;
    }
  }
}
function $module$contents$rtcutils_core$output$settings_ConfigureRtcUtilsSettings$$($data$jscomp$80_getSettingBool$$) {
  var $_a$$, $_b$$;
  if ($data$jscomp$80_getSettingBool$$.overrideData) {
    const $settingsMap$$ = new URLSearchParams($data$jscomp$80_getSettingBool$$.overrideData.toLowerCase());
    "lean" === $settingsMap$$.get("mode") && ($module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ = !1);
    $data$jscomp$80_getSettingBool$$ = $key$jscomp$37_value$jscomp$92$$ => {
      $key$jscomp$37_value$jscomp$92$$ = $settingsMap$$.get($key$jscomp$37_value$jscomp$92$$);
      return $module$contents$rtcutils_core$output$settings_toBool$$($key$jscomp$37_value$jscomp$92$$);
    };
    $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ = ($module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ = null !== ($_a$$ = $data$jscomp$80_getSettingBool$$("log")) && void 0 !== $_a$$ ? $_a$$ : $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$) && (null !== ($_b$$ = $data$jscomp$80_getSettingBool$$("console")) && void 0 !== $_b$$ ? $_b$$ : $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$);
  }
}
;function $JSCompiler_StaticMethods_emitLogMsg$$($JSCompiler_StaticMethods_emitLogMsg$self$$, $level$jscomp$19_logevent$jscomp$3$$, $tag$jscomp$6$$, $logmsg_msg$jscomp$8$$, $args$jscomp$10$$) {
  $logmsg_msg$jscomp$8$$ = `${$logmsg_msg$jscomp$8$$}${$JSCompiler_StaticMethods_stringifyArgs$$(...$args$jscomp$10$$)}`;
  $level$jscomp$19_logevent$jscomp$3$$ = {logModule:"R", timeStamp:$JSCompiler_StaticMethods_renderDate$$(), logLevel:$level$jscomp$19_logevent$jscomp$3$$, logtag:$tag$jscomp$6$$, logstr:$logmsg_msg$jscomp$8$$};
  $JSCompiler_StaticMethods_emitLogMsg$self$$.commit($level$jscomp$19_logevent$jscomp$3$$);
}
function $JSCompiler_StaticMethods_formatString$$($str$jscomp$6$$, ...$args$jscomp$9$$) {
  return $str$jscomp$6$$.replace(/{(\d+)}/g, function($match$$, $number$jscomp$1$$) {
    return "undefined" != typeof $args$jscomp$9$$[$number$jscomp$1$$] ? $args$jscomp$9$$[$number$jscomp$1$$] : $match$$;
  });
}
function $JSCompiler_StaticMethods_renderDate$$() {
  var $date$jscomp$3$$ = new Date();
  const $lpad$$ = ($value$jscomp$93$$, $chars_howMany$jscomp$1$$, $padWith$$) => {
    $chars_howMany$jscomp$1$$ -= $value$jscomp$93$$.length;
    if (0 < $chars_howMany$jscomp$1$$) {
      let $res$$ = "";
      for (let $i$jscomp$3$$ = 0; $i$jscomp$3$$ < $chars_howMany$jscomp$1$$; $i$jscomp$3$$++) {
        $res$$ += $padWith$$;
      }
      return $res$$ + $value$jscomp$93$$;
    }
    return $value$jscomp$93$$;
  };
  let $ds$$ = "";
  return $ds$$ = $lpad$$($date$jscomp$3$$.getFullYear().toString(), 4, "0") + "-" + $lpad$$(($date$jscomp$3$$.getMonth() + 1).toString(), 2, "0") + "-" + $lpad$$($date$jscomp$3$$.getDate().toString(), 2, "0") + " " + $lpad$$($date$jscomp$3$$.getHours().toString(), 2, "0") + ":" + $lpad$$($date$jscomp$3$$.getMinutes().toString(), 2, "0") + ":" + $lpad$$($date$jscomp$3$$.getSeconds().toString(), 2, "0") + "." + $lpad$$($date$jscomp$3$$.getMilliseconds().toString(), 3, "0");
}
function $JSCompiler_StaticMethods_stringifyArgs$$(...$args$jscomp$8$$) {
  return $args$jscomp$8$$.length ? `##${JSON.stringify($args$jscomp$8$$)}` : "";
}
var $module$exports$rtcutils_core$output$logger$LogImpl$$ = class extends $module$exports$rtcutils_core$output$eventemitter$EventEmitter$$ {
  constructor() {
    super(!0);
    this.$g$ = [];
    this.$h$ = () => {
    };
    this.$j$ = ($tag$jscomp$2$$, $msg$jscomp$1$$, ...$jsonObject$jscomp$1$$) => $JSCompiler_StaticMethods_emitLogMsg$$(this, "DEBUG", $tag$jscomp$2$$, $msg$jscomp$1$$, $jsonObject$jscomp$1$$);
    this.$o$ = ($tag$jscomp$3$$, $msg$jscomp$2$$, ...$jsonObject$jscomp$2$$) => $JSCompiler_StaticMethods_emitLogMsg$$(this, "INFO", $tag$jscomp$3$$, $msg$jscomp$2$$, $jsonObject$jscomp$2$$);
    this.$s$ = ($tag$jscomp$4$$, $msg$jscomp$3$$, ...$jsonObject$jscomp$3$$) => $JSCompiler_StaticMethods_emitLogMsg$$(this, "WARN", $tag$jscomp$4$$, $msg$jscomp$3$$, $jsonObject$jscomp$3$$);
    this.$l$ = ($tag$jscomp$5$$, $msg$jscomp$4$$, ...$jsonObject$jscomp$4$$) => $JSCompiler_StaticMethods_emitLogMsg$$(this, "ERROR", $tag$jscomp$5$$, $msg$jscomp$4$$, $jsonObject$jscomp$4$$);
    this.$m$ = ($msg$jscomp$6$$, ...$args$jscomp$7$$) => $JSCompiler_StaticMethods_formatString$$($msg$jscomp$6$$, ...$args$jscomp$7$$);
  }
  get d() {
    return $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ ? console.debug.bind(console, "%s DEBUG [%s] %s@@", $JSCompiler_StaticMethods_renderDate$$()) : $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ ? this.$j$ : this.$h$;
  }
  get w() {
    return $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ ? console.warn.bind(console, "%s WARN  [%s] %s@@", $JSCompiler_StaticMethods_renderDate$$()) : $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ ? this.$s$ : this.$h$;
  }
  get i() {
    return $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ ? console.info.bind(console, "%s INFO  [%s] %s@@", $JSCompiler_StaticMethods_renderDate$$()) : $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$loggingEnabled$$ ? this.$o$ : this.$h$;
  }
  get e() {
    return $module$exports$rtcutils_core$output$settings$RtcUtilsSettings$consoleLoggingEnabled$$ ? console.error.bind(console, "%s ERROR [%s] %s@@", $JSCompiler_StaticMethods_renderDate$$()) : this.$l$;
  }
  sanitize($msg$jscomp$7$$) {
    if (!$msg$jscomp$7$$) {
      return $msg$jscomp$7$$;
    }
    const $sanitizationGroups$$ = [{$secretBlock$:/(partnerCustomData" *: *")((\\"|[^"])*)(?=")/g, $replaceStr$:"$1***"}, {$secretBlock$:/("clientIp" *: *")(\b\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?=")/g, $replaceStr$:"$1***"}];
    for (const $group$$ of $sanitizationGroups$$) {
      $msg$jscomp$7$$ = $msg$jscomp$7$$.replace($group$$.$secretBlock$, $group$$.$replaceStr$);
    }
    return $msg$jscomp$7$$;
  }
  get format() {
    return this.$m$;
  }
  commit($logevent$jscomp$2$$) {
    this.hasListener("Log") ? this.emit("Log", $logevent$jscomp$2$$) : this.$g$.push($logevent$jscomp$2$$);
  }
  addListener($eventname$jscomp$15$$, $handler$jscomp$10$$) {
    super.addListener($eventname$jscomp$15$$, $handler$jscomp$10$$);
    if ("Log" == $eventname$jscomp$15$$ && 0 < this.$g$.length) {
      for (const $logevent$jscomp$4$$ of this.$g$) {
        this.commit($logevent$jscomp$4$$);
      }
      this.$g$ = [];
    }
  }
}, $module$exports$rtcutils_core$output$logger$Log$$ = new $module$exports$rtcutils_core$output$logger$LogImpl$$();
var _opentelemetry$api = __webpack_require__(/*! @opentelemetry/api */ 754);
function $module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$() {
  $module$exports$rtcutils_core$output$tracingmanager$TracingManager$instance$$ || ($module$exports$rtcutils_core$output$tracingmanager$TracingManager$instance$$ = new $module$exports$rtcutils_core$output$tracingmanager$TracingManager$$());
  return $module$exports$rtcutils_core$output$tracingmanager$TracingManager$instance$$;
}
function $JSCompiler_StaticMethods_createSpan$$($JSCompiler_StaticMethods_createSpan$self$$, $operationName$$, $fn$$) {
  const $span$$ = $JSCompiler_StaticMethods_createSpan$self$$.$g$.startSpan($operationName$$);
  return _opentelemetry$api.context.with(_opentelemetry$api.trace.setSpan(_opentelemetry$api.context.active(), $span$$), async() => {
    try {
      const $result$jscomp$1$$ = $fn$$();
      return $result$jscomp$1$$ instanceof Promise ? await $result$jscomp$1$$ : $result$jscomp$1$$;
    } finally {
      $span$$.end();
    }
  });
}
var $module$exports$rtcutils_core$output$tracingmanager$TracingManager$$ = class {
  constructor() {
    this.$g$ = _opentelemetry$api.trace.getTracer("gfn-web-gamestream", "2.0");
  }
}, $module$exports$rtcutils_core$output$tracingmanager$TracingManager$instance$$;
var $module$exports$rtcutils_core$output$cancellablewait$CancellableWait$$ = class {
  constructor($waitTimeInMS$$, $signal$$) {
    var $_a$jscomp$1$$;
    this.$g$ = 0;
    this.$h$ = this.$o$ = !1;
    this.promise = new Promise(($resolve$$, $reject$$) => {
      this.$v$ = $resolve$$;
      this.$m$ = $reject$$;
    });
    (null === $signal$$ || void 0 === $signal$$ ? 0 : $signal$$.aborted) ? (this.$h$ = !0, this.$m$()) : (this.$j$ = $signal$$, this.$l$ = this.$s$.bind(this), null === ($_a$jscomp$1$$ = this.$j$) || void 0 === $_a$jscomp$1$$ ? void 0 : $_a$jscomp$1$$.addEventListener("abort", this.$l$), this.$g$ = window.setTimeout(this.$u$.bind(this), $waitTimeInMS$$));
  }
  cancel() {
    var $_a$jscomp$2$$;
    null === ($_a$jscomp$2$$ = this.$j$) || void 0 === $_a$jscomp$2$$ ? void 0 : $_a$jscomp$2$$.removeEventListener("abort", this.$l$);
    this.$g$ && (window.clearTimeout(this.$g$), this.$g$ = 0);
    this.$j$ = void 0;
  }
  $s$() {
    this.$h$ = !0;
    this.$m$();
    this.cancel();
  }
  $u$() {
    this.$o$ = !0;
    this.$v$();
    this.$g$ = 0;
    this.cancel();
  }
};
function $module$exports$rtcutils_core$output$sdp$SDPUtils$SplitLines$$($blob$jscomp$12$$) {
  return $blob$jscomp$12$$.trim().split("\n").map($line$$ => $line$$.trim());
}
function $module$exports$rtcutils_core$output$sdp$SDPUtils$SplitSections$$($blob$jscomp$13$$) {
  return $blob$jscomp$13$$.split("\nm=").map(($part$$, $index$jscomp$97$$) => (0 < $index$jscomp$97$$ ? "m=" + $part$$ : $part$$).trim() + "\r\n");
}
function $module$exports$rtcutils_core$output$sdp$SDPUtils$MatchPrefix$$($blob$jscomp$16$$, $prefix$jscomp$2$$) {
  return $module$exports$rtcutils_core$output$sdp$SDPUtils$SplitLines$$($blob$jscomp$16$$).filter($line$jscomp$1$$ => 0 === $line$jscomp$1$$.indexOf($prefix$jscomp$2$$));
}
function $module$exports$rtcutils_core$output$sdp$SDPUtils$ParseFingerprint$$($line$jscomp$2_parts$jscomp$1$$) {
  $line$jscomp$2_parts$jscomp$1$$ = $line$jscomp$2_parts$jscomp$1$$.substr(14).split(" ");
  return {algorithm:$line$jscomp$2_parts$jscomp$1$$[0].toLowerCase(), value:$line$jscomp$2_parts$jscomp$1$$[1].toUpperCase()};
}
;function $module$contents$rtcutils_core$output$utils_IsXboxEdge$$($platform$jscomp$2$$) {
  return "Xbox" === $platform$jscomp$2$$.os && "Edge" === $platform$jscomp$2$$.browser;
}
function $module$contents$rtcutils_core$output$utils_IsiDevice$$($platform$jscomp$5$$) {
  return "iOS" === $platform$jscomp$5$$.os || "iPadOS" === $platform$jscomp$5$$.os;
}
function $module$contents$rtcutils_core$output$utils_IsValidIPv4$$($ipaddress$$) {
  return /^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test($ipaddress$$) ? !0 : !1;
}
function $module$contents$rtcutils_core$output$utils_GetHexString$$($code$jscomp$2$$) {
  return "0x" + ("00000000" + ($code$jscomp$2$$ >>> 0).toString(16).toUpperCase()).slice(-8);
}
function $module$contents$rtcutils_core$output$utils_IsiPhone$$($platformDetails$jscomp$1$$) {
  return $platformDetails$jscomp$1$$ ? "iOS" === $platformDetails$jscomp$1$$.os : /iPhone|iPod/.test(navigator.userAgent);
}
function $module$contents$rtcutils_core$output$utils_IsWebOS$$($platformDetails$jscomp$3$$) {
  return "WebOS" === $platformDetails$jscomp$3$$.os;
}
function $module$contents$rtcutils_core$output$utils_IsChromeOS$$($platformDetails$jscomp$4$$) {
  return "ChromeOS" === $platformDetails$jscomp$4$$.os;
}
function $module$contents$rtcutils_core$output$utils_IsWindowsOS$$($platformDetails$jscomp$5$$) {
  return "Windows" === $platformDetails$jscomp$5$$.os;
}
function $module$contents$rtcutils_core$output$utils_IsMacOS$$($platformDetails$jscomp$6$$) {
  return "macOS" === $platformDetails$jscomp$6$$.os;
}
var $module$exports$rtcutils_core$output$utils$DefaultHttpRequestOptions$$ = {method:"GET", headers:{}, body:"", $retryCount$:0, timeout:0, keepalive:!1};
function $module$contents$rtcutils_core$output$utils_addErrorAttributes$$() {
  const $span$jscomp$3$$ = _opentelemetry$api.trace.getActiveSpan();
  $span$jscomp$3$$ && $span$jscomp$3$$.setAttribute("error", "true");
}
function $module$contents$rtcutils_core$output$utils_performHttpRequest$$($url$jscomp$23$$, $options$jscomp$56$$ = $module$exports$rtcutils_core$output$utils$DefaultHttpRequestOptions$$, $authInfo$jscomp$4$$, $abortController$$) {
  var $_a$jscomp$3$$;
  const $method$jscomp$2$$ = null !== ($_a$jscomp$3$$ = $options$jscomp$56$$.method) && void 0 !== $_a$jscomp$3$$ ? $_a$jscomp$3$$ : "GET";
  return $JSCompiler_StaticMethods_createSpan$$($module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$(), $method$jscomp$2$$, () => {
    var $headers$jscomp$inline_137$$ = $options$jscomp$56$$.headers;
    const $span$jscomp$inline_138$$ = _opentelemetry$api.trace.getActiveSpan();
    if ($span$jscomp$inline_138$$) {
      var $httpRequestAttributes$jscomp$inline_139$$ = new Map([["component", "rtcutils-core"], ["component.version", "2.0"], ["http.method", $method$jscomp$2$$], ["http.url", $url$jscomp$23$$], ["type", ""], ["http.hostname", ""], ["http.path", ""]]);
      try {
        const $url$jscomp$inline_140$$ = new URL($url$jscomp$23$$);
        $httpRequestAttributes$jscomp$inline_139$$.set("type", $url$jscomp$inline_140$$.protocol);
        $httpRequestAttributes$jscomp$inline_139$$.set("http.hostname", $url$jscomp$inline_140$$.hostname);
        $httpRequestAttributes$jscomp$inline_139$$.set("http.path", $url$jscomp$inline_140$$.pathname);
      } catch ($err$jscomp$inline_141$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{d988e7f}", "{997fb3a}");
      }
      for (const [$key__tsickle_destructured_1$jscomp$inline_142$$, $value__tsickle_destructured_2$jscomp$inline_143$$] of $httpRequestAttributes$jscomp$inline_139$$) {
        $span$jscomp$inline_138$$.setAttribute($key__tsickle_destructured_1$jscomp$inline_142$$, $value__tsickle_destructured_2$jscomp$inline_143$$);
      }
      $span$jscomp$inline_138$$.setAttributes($headers$jscomp$inline_137$$);
    }
    return $module$contents$rtcutils_core$output$utils_performHttpRequestImpl$$($url$jscomp$23$$, $options$jscomp$56$$, $authInfo$jscomp$4$$, $abortController$$);
  });
}
function $module$contents$rtcutils_core$output$utils_performHttpRequestImpl$$($url$jscomp$24$$, $options$jscomp$57$$ = $module$exports$rtcutils_core$output$utils$DefaultHttpRequestOptions$$, $authInfo$jscomp$5$$, $abortController$jscomp$1$$) {
  var $_a$jscomp$4$$, $_b$jscomp$1$$;
  let $retryCount$$ = void 0 === $options$jscomp$57$$.$retryCount$ ? 1 : $options$jscomp$57$$.$retryCount$ + 1;
  const $max_retry_count$$ = $retryCount$$, $backOffIncrement$$ = null !== ($_a$jscomp$4$$ = $options$jscomp$57$$.$backOffDelay$) && void 0 !== $_a$jscomp$4$$ ? $_a$jscomp$4$$ : 500;
  let $backOffTime$$ = $backOffIncrement$$;
  const $method$jscomp$3$$ = null !== ($_b$jscomp$1$$ = $options$jscomp$57$$.method) && void 0 !== $_b$jscomp$1$$ ? $_b$jscomp$1$$ : "GET";
  let $requestHeaders$$ = new Headers();
  const $controller$$ = null !== $abortController$jscomp$1$$ && void 0 !== $abortController$jscomp$1$$ ? $abortController$jscomp$1$$ : new AbortController();
  ($authInfo$jscomp$6_carrier$$ => {
    if ($authInfo$jscomp$6_carrier$$) {
      switch($authInfo$jscomp$6_carrier$$.type) {
        case 1:
          $authInfo$jscomp$6_carrier$$.token && $requestHeaders$$.set("authorization", "GFNJWT " + $authInfo$jscomp$6_carrier$$.token);
          break;
        case 2:
          $authInfo$jscomp$6_carrier$$.token && $requestHeaders$$.set("authorization", "GFNPartnerJWT auth=" + $authInfo$jscomp$6_carrier$$.token);
      }
    }
    void 0 !== $options$jscomp$57$$.headers && Object.keys($options$jscomp$57$$.headers).forEach($key$jscomp$39$$ => {
      $requestHeaders$$.set($key$jscomp$39$$, $options$jscomp$57$$.headers[$key$jscomp$39$$]);
    });
    $authInfo$jscomp$6_carrier$$ = {};
    _opentelemetry$api.propagation.inject(_opentelemetry$api.context.active(), $authInfo$jscomp$6_carrier$$);
    for (const [$key__tsickle_destructured_3$$, $value__tsickle_destructured_4$$] of Object.entries($authInfo$jscomp$6_carrier$$)) {
      $requestHeaders$$.set($key__tsickle_destructured_3$$, $value__tsickle_destructured_4$$);
    }
  })($authInfo$jscomp$5$$);
  return new Promise(($resolve_$$, $reject_$$) => {
    const $reject$jscomp$1$$ = $x$jscomp$91$$ => {
      $module$contents$rtcutils_core$output$utils_addErrorAttributes$$();
      $reject_$$($x$jscomp$91$$);
    }, $performRequest$$ = () => {
      const $retryRequest$$ = $errorCode$$ => {
        if (1 < $retryCount$$) {
          $retryCount$$--;
          $module$exports$rtcutils_core$output$logger$Log$$.d("{d988e7f}", "{97555ed}", $errorCode$$, $retryCount$$);
          const $wait$$ = new $module$exports$rtcutils_core$output$cancellablewait$CancellableWait$$($backOffTime$$, $controller$$.signal);
          $wait$$.promise.then($performRequest$$).catch($err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$ => {
            $wait$$.$h$ ? ($err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$ = {code:15867905, $retries$:$max_retry_count$$ - $retryCount$$}, $module$contents$rtcutils_core$output$utils_addErrorAttributes$$(), $reject_$$($err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$)) : ($module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{d3ca39d}", JSON.stringify($err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$)), $err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$ = {code:3237089284, 
            $retries$:$max_retry_count$$ - $retryCount$$}, $module$contents$rtcutils_core$output$utils_addErrorAttributes$$(), $reject_$$($err$jscomp$5_x$jscomp$inline_145_x$jscomp$inline_147$$));
          });
          $backOffTime$$ += $backOffIncrement$$;
          return !0;
        }
        return !1;
      };
      if (navigator.onLine) {
        let $reqInit$$ = {method:$method$jscomp$3$$, headers:$requestHeaders$$, mode:"cors", keepalive:$options$jscomp$57$$.keepalive, signal:$controller$$.signal};
        "GET" !== $method$jscomp$3$$ && "HEAD" !== $method$jscomp$3$$ && ($reqInit$$.body = $options$jscomp$57$$.body);
        let $fetchResponseStatus$$;
        const $retryCodes$$ = [0, DOMException.NETWORK_ERR, DOMException.TIMEOUT_ERR, 503], $fetchTimeoutWait$$ = $options$jscomp$57$$.timeout ? new $module$exports$rtcutils_core$output$cancellablewait$CancellableWait$$($options$jscomp$57$$.timeout) : void 0, $promises$$ = [];
        $promises$$.push(fetch($url$jscomp$24$$, $reqInit$$));
        $fetchTimeoutWait$$ && $promises$$.push($fetchTimeoutWait$$.promise);
        Promise.race($promises$$).then($response$jscomp$3$$ => {
          if (null === $fetchTimeoutWait$$ || void 0 === $fetchTimeoutWait$$ ? 0 : $fetchTimeoutWait$$.$o$) {
            throw $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{5a69b89}", $url$jscomp$24$$), {code:DOMException.TIMEOUT_ERR, message:"Timeout while performing HTTP request"};
          }
          if ($response$jscomp$3$$ instanceof globalThis.Response) {
            return $fetchResponseStatus$$ = $response$jscomp$3$$.status, $response$jscomp$3$$.text();
          }
        }).then($data$jscomp$81_response$jscomp$inline_149$$ => {
          if (!$data$jscomp$81_response$jscomp$inline_149$$ && $retryCodes$$.includes($fetchResponseStatus$$)) {
            if (1 < $retryCount$$) {
              throw {code:$fetchResponseStatus$$, message:"Internal server error."};
            }
            $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{d639e52}", $fetchResponseStatus$$, $max_retry_count$$);
          }
          $data$jscomp$81_response$jscomp$inline_149$$ = {status:$fetchResponseStatus$$, data:null !== $data$jscomp$81_response$jscomp$inline_149$$ && void 0 !== $data$jscomp$81_response$jscomp$inline_149$$ ? $data$jscomp$81_response$jscomp$inline_149$$ : "", $retries$:$max_retry_count$$ - $retryCount$$};
          var $status$jscomp$inline_1133$$ = $data$jscomp$81_response$jscomp$inline_149$$.status;
          const $span$jscomp$inline_1134$$ = _opentelemetry$api.trace.getActiveSpan();
          $span$jscomp$inline_1134$$ && ($span$jscomp$inline_1134$$.setAttribute("error", "false"), $span$jscomp$inline_1134$$.setAttribute("http.status_code", $status$jscomp$inline_1133$$.toString()));
          $resolve_$$($data$jscomp$81_response$jscomp$inline_149$$);
        }).catch($err$jscomp$6_errCode$$ => {
          const $getUtilsErrorCode$$ = $fetchError$$ => {
            if ([0, DOMException.NETWORK_ERR, DOMException.TIMEOUT_ERR].includes($fetchError$$)) {
              return $module$exports$rtcutils_core$output$logger$Log$$.d("{d988e7f}", "{0a9fabe}"), 3237089282;
            }
            if ($fetchError$$ == DOMException.ABORT_ERR) {
              return $module$exports$rtcutils_core$output$logger$Log$$.d("{d988e7f}", "{235387a}"), 15867905;
            }
            $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{f116c88}", $fetchError$$);
            return 3237089284;
          };
          $module$exports$rtcutils_core$output$logger$Log$$.d("{d988e7f}", "{ec768a1}", JSON.stringify($err$jscomp$6_errCode$$), $err$jscomp$6_errCode$$);
          $err$jscomp$6_errCode$$ = ($rejectReason$$ => {
            let $errorCode$jscomp$1$$ = 0;
            if (null === $rejectReason$$ || void 0 === $rejectReason$$ ? 0 : $rejectReason$$.code) {
              $errorCode$jscomp$1$$ = null === $rejectReason$$ || void 0 === $rejectReason$$ ? void 0 : $rejectReason$$.code;
            } else if (null === $rejectReason$$ || void 0 === $rejectReason$$ ? 0 : $rejectReason$$.name) {
              "AbortError" === $rejectReason$$.name ? $errorCode$jscomp$1$$ = DOMException.ABORT_ERR : "NetworkError" === $rejectReason$$.name ? $errorCode$jscomp$1$$ = DOMException.NETWORK_ERR : "TimeoutError" === $rejectReason$$.name && ($errorCode$jscomp$1$$ = DOMException.TIMEOUT_ERR);
            }
            return $errorCode$jscomp$1$$;
          })($err$jscomp$6_errCode$$);
          0 == $err$jscomp$6_errCode$$ && $options$jscomp$57$$.keepalive && ($options$jscomp$57$$.keepalive = !1);
          $retryCodes$$.includes($err$jscomp$6_errCode$$) ? $retryRequest$$($err$jscomp$6_errCode$$) || ($module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{dff1a05}", $max_retry_count$$, $err$jscomp$6_errCode$$), $reject$jscomp$1$$({code:$getUtilsErrorCode$$($err$jscomp$6_errCode$$), $retries$:$max_retry_count$$ - $retryCount$$})) : $reject$jscomp$1$$({code:$getUtilsErrorCode$$($err$jscomp$6_errCode$$), $retries$:$max_retry_count$$ - $retryCount$$});
        }).finally(() => {
          null === $fetchTimeoutWait$$ || void 0 === $fetchTimeoutWait$$ ? void 0 : $fetchTimeoutWait$$.cancel();
        });
      } else {
        $reject$jscomp$1$$({code:3237089281, description:"No network", $retries$:$max_retry_count$$ - $retryCount$$});
      }
    };
    $performRequest$$();
  });
}
function $module$contents$rtcutils_core$output$utils_IsTouchDevice$$() {
  var $_a$jscomp$5$$, $_b$jscomp$2$$;
  return null === ($_b$jscomp$2$$ = null === ($_a$jscomp$5$$ = window.matchMedia) || void 0 === $_a$jscomp$5$$ ? void 0 : $_a$jscomp$5$$.call(window, "(pointer:coarse)")) || void 0 === $_b$jscomp$2$$ ? void 0 : $_b$jscomp$2$$.matches;
}
function $module$contents$rtcutils_core$output$utils_IsTouchCapable$$() {
  var $_a$jscomp$6$$, $_b$jscomp$3$$;
  return !!window.TouchEvent && (null === ($_b$jscomp$3$$ = null === ($_a$jscomp$6$$ = window.matchMedia) || void 0 === $_a$jscomp$6$$ ? void 0 : $_a$jscomp$6$$.call(window, "(any-pointer:coarse)")) || void 0 === $_b$jscomp$3$$ ? void 0 : $_b$jscomp$3$$.matches);
}
function $module$contents$rtcutils_core$output$utils_IsTV$$($platformDetails$jscomp$12$$) {
  return "Tizen" === $platformDetails$jscomp$12$$.os || "WebOS" === $platformDetails$jscomp$12$$.os;
}
function $module$contents$rtcutils_core$output$utils_getNewGuid$$() {
  let $array$jscomp$6$$ = new Uint8Array(36);
  window.crypto.getRandomValues($array$jscomp$6$$);
  let $guid$$ = "";
  for (let $i$jscomp$4$$ = 0; 36 > $i$jscomp$4$$; $i$jscomp$4$$++) {
    let $randomNumber$$ = $array$jscomp$6$$[$i$jscomp$4$$] % 16;
    8 == $i$jscomp$4$$ || 13 == $i$jscomp$4$$ || 18 == $i$jscomp$4$$ || 23 == $i$jscomp$4$$ ? $guid$$ += "-" : 14 == $i$jscomp$4$$ ? $guid$$ += "4" : (19 == $i$jscomp$4$$ && ($randomNumber$$ = $randomNumber$$ & 3 | 8), $guid$$ += $randomNumber$$.toString(16));
  }
  $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{534eaf4}", $guid$$);
  return $guid$$;
}
function $module$contents$rtcutils_core$output$utils_VersionListIsAtLeast$$($actual$$, $desired$$) {
  for (let $i$jscomp$5$$ = 0; $i$jscomp$5$$ < $desired$$.length && $i$jscomp$5$$ < $actual$$.length; ++$i$jscomp$5$$) {
    const $actualPart$$ = $actual$$[$i$jscomp$5$$], $desiredPart$$ = $desired$$[$i$jscomp$5$$];
    if ($actualPart$$ > $desiredPart$$) {
      break;
    } else if ($actualPart$$ < $desiredPart$$) {
      return !1;
    }
  }
  return !0;
}
function $module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$($platformDetails$jscomp$15$$, $desired$jscomp$1_major$$, $minor$$, $build$$, $patch$$) {
  if ("Chrome" != $platformDetails$jscomp$15$$.browser) {
    return !1;
  }
  $desired$jscomp$1_major$$ = [$desired$jscomp$1_major$$, null !== $minor$$ && void 0 !== $minor$$ ? $minor$$ : 0, null !== $build$$ && void 0 !== $build$$ ? $build$$ : 0, null !== $patch$$ && void 0 !== $patch$$ ? $patch$$ : 0];
  try {
    const $actual$jscomp$1$$ = $platformDetails$jscomp$15$$.browserFullVer.split(".").map($x$jscomp$92$$ => Number.parseInt($x$jscomp$92$$));
    return $module$contents$rtcutils_core$output$utils_VersionListIsAtLeast$$($actual$jscomp$1$$, $desired$jscomp$1_major$$);
  } catch ($_ex$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{bcd8f94}");
  }
  return !0;
}
function $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($platformDetails$jscomp$17$$, $exact$$, $major$jscomp$2$$, $minor$jscomp$2$$) {
  if (!$module$contents$rtcutils_core$output$utils_IsiDevice$$($platformDetails$jscomp$17$$)) {
    return !1;
  }
  const $desired$jscomp$3$$ = [$major$jscomp$2$$, null !== $minor$jscomp$2$$ && void 0 !== $minor$jscomp$2$$ ? $minor$jscomp$2$$ : 0];
  try {
    const $actual$jscomp$3$$ = $platformDetails$jscomp$17$$.osVer.replace(/[^0-9.]/, "").split(".").map($x$jscomp$94$$ => Number.parseInt($x$jscomp$94$$));
    1 === $actual$jscomp$3$$.length && $actual$jscomp$3$$.push(0);
    return $exact$$ ? $actual$jscomp$3$$.every(($val$$, $index$jscomp$98$$) => $val$$ === $desired$jscomp$3$$[$index$jscomp$98$$]) : $module$contents$rtcutils_core$output$utils_VersionListIsAtLeast$$($actual$jscomp$3$$, $desired$jscomp$3$$);
  } catch ($_ex$jscomp$2$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{cf4149f}");
  }
  return $exact$$ ? !1 : !0;
}
function $module$contents$rtcutils_core$output$utils_customFetch$$($url$jscomp$25$$, $timeoutMs$$ = 500) {
  const $controller$jscomp$1$$ = new AbortController();
  window.setTimeout(() => {
    $controller$jscomp$1$$.abort();
  }, $timeoutMs$$);
  return fetch($url$jscomp$25$$, {method:"OPTIONS", signal:$controller$jscomp$1$$.signal}).then($response$jscomp$4$$ => $response$jscomp$4$$).catch($err$jscomp$7$$ => {
    throw $err$jscomp$7$$;
  });
}
function $module$contents$rtcutils_core$output$utils_getRErrorDetails$$($code$jscomp$4$$, $description$jscomp$4$$, $error$jscomp$2$$) {
  return {code:$code$jscomp$4$$, description:$description$jscomp$4$$, error:null !== $error$jscomp$2$$ ? $error$jscomp$2$$ : void 0};
}
;function $module$contents$rtcutils_core$output$workerutils_makeWorkerUrlFromInterface$$($interfaceRef$jscomp$1$$, $connectHandler$$) {
  var $messageHandler$$ = $module$contents$rtcutils_core$output$workerutils_commonMessageHandler$$, $errorHandler$$ = $module$contents$rtcutils_core$output$workerutils_commonErrorHandler$$;
  let $blobStrings$jscomp$1$$ = [];
  var $interfaceRef$jscomp$inline_151$$ = $interfaceRef$jscomp$1$$;
  let $classes$jscomp$inline_153$$ = [];
  do {
    $classes$jscomp$inline_153$$.push($interfaceRef$jscomp$inline_151$$), $interfaceRef$jscomp$inline_151$$ = Object.getPrototypeOf($interfaceRef$jscomp$inline_151$$);
  } while ("" != $interfaceRef$jscomp$inline_151$$.name);
  $classes$jscomp$inline_153$$.reverse();
  for (let $klaz$jscomp$inline_154$$ of $classes$jscomp$inline_153$$) {
    $blobStrings$jscomp$1$$.push($klaz$jscomp$inline_154$$.toString().replace(/(extends )[^ {]*\.([^ ]*[ {])/, "$1$2"));
  }
  $blobStrings$jscomp$1$$.push(`${$messageHandler$$.toString()}`);
  $connectHandler$$ ? ($blobStrings$jscomp$1$$.push(`${$connectHandler$$.toString()}`), $blobStrings$jscomp$1$$.push(`onconnect = (event) => { ${$connectHandler$$.name}(${$interfaceRef$jscomp$1$$.name}, event, ${$messageHandler$$.name}); };`)) : $blobStrings$jscomp$1$$.push(`onmessage = (event) => { ${$messageHandler$$.name}(${$interfaceRef$jscomp$1$$.name}, event); };`);
  $blobStrings$jscomp$1$$.push(`${$errorHandler$$.toString()}`);
  $blobStrings$jscomp$1$$.push(`onerror = (event) => { ${$errorHandler$$.name}(event); };`);
  return URL.createObjectURL(new Blob($blobStrings$jscomp$1$$, {type:"text/javascript"}));
}
function $module$contents$rtcutils_core$output$workerutils_makeWorkerFromInterface$$($interfaceRef$jscomp$2_workerUrl$$, $callback$jscomp$57$$, $errorCallback$jscomp$31$$) {
  if (!$interfaceRef$jscomp$2_workerUrl$$.prototype.$doWork$) {
    throw Error("Invalid Worker class provided");
  }
  $interfaceRef$jscomp$2_workerUrl$$ = $module$contents$rtcutils_core$output$workerutils_makeWorkerUrlFromInterface$$($interfaceRef$jscomp$2_workerUrl$$);
  const $worker$$ = new Worker($interfaceRef$jscomp$2_workerUrl$$);
  URL.revokeObjectURL($interfaceRef$jscomp$2_workerUrl$$);
  $module$contents$rtcutils_core$output$workerutils_setupWorkerAndCallback$$($worker$$, $callback$jscomp$57$$, $errorCallback$jscomp$31$$);
}
function $module$contents$rtcutils_core$output$workerutils_makeSharedWorkerFromInterface$$($interfaceRef$jscomp$3_workerUrl$jscomp$1$$, $callback$jscomp$58$$, $errorCallback$jscomp$32$$) {
  var $w$jscomp$11_worker$jscomp$1$$ = window;
  if ("undefined" == typeof $w$jscomp$11_worker$jscomp$1$$.SharedWorker) {
    throw Error("SharedWorker not supported");
  }
  if (!$interfaceRef$jscomp$3_workerUrl$jscomp$1$$.prototype.$doWork$) {
    throw Error("Invalid Worker class provided");
  }
  $interfaceRef$jscomp$3_workerUrl$jscomp$1$$ = $module$contents$rtcutils_core$output$workerutils_makeWorkerUrlFromInterface$$($interfaceRef$jscomp$3_workerUrl$jscomp$1$$, $module$contents$rtcutils_core$output$workerutils_connectHandler$$);
  $w$jscomp$11_worker$jscomp$1$$ = new $w$jscomp$11_worker$jscomp$1$$.SharedWorker($interfaceRef$jscomp$3_workerUrl$jscomp$1$$);
  URL.revokeObjectURL($interfaceRef$jscomp$3_workerUrl$jscomp$1$$);
  $module$contents$rtcutils_core$output$workerutils_setupWorkerAndCallback$$($w$jscomp$11_worker$jscomp$1$$, $callback$jscomp$58$$, $errorCallback$jscomp$32$$);
  return $w$jscomp$11_worker$jscomp$1$$;
}
const $module$contents$rtcutils_core$output$workerutils_workerCloseTimers$$ = new Map();
function $module$contents$rtcutils_core$output$workerutils_stopWorkerInternal$$($workerPort$jscomp$1$$) {
  if (!$module$contents$rtcutils_core$output$workerutils_workerCloseTimers$$.has($workerPort$jscomp$1$$)) {
    $workerPort$jscomp$1$$.postMessage.bind($workerPort$jscomp$1$$)({$cmd$:2, data:null});
    var $timer$$ = window.setTimeout(() => {
      const $timer$jscomp$1$$ = $module$contents$rtcutils_core$output$workerutils_workerCloseTimers$$.get($workerPort$jscomp$1$$);
      $timer$jscomp$1$$ && (clearTimeout($timer$jscomp$1$$), $module$contents$rtcutils_core$output$workerutils_workerCloseTimers$$.delete($workerPort$jscomp$1$$));
      $workerPort$jscomp$1$$ instanceof Worker ? $workerPort$jscomp$1$$.terminate() : $workerPort$jscomp$1$$ instanceof MessagePort && $workerPort$jscomp$1$$.close();
    }, 150);
    $module$contents$rtcutils_core$output$workerutils_workerCloseTimers$$.set($workerPort$jscomp$1$$, $timer$$);
  }
}
function $module$contents$rtcutils_core$output$workerutils_setupWorkerAndCallback$$($worker$jscomp$5$$, $callback$jscomp$59$$, $errorCallback$jscomp$33$$) {
  const $workerPort$jscomp$2$$ = "port" in $worker$jscomp$5$$ ? $worker$jscomp$5$$.port : $worker$jscomp$5$$, $postMessage$jscomp$2$$ = $workerPort$jscomp$2$$.postMessage.bind($workerPort$jscomp$2$$);
  let $hadError$$ = !1;
  const $errHandler$$ = $error$jscomp$3$$ => {
    $hadError$$ || ($hadError$$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.e("{10ca8e2}", "{03baf25}", $error$jscomp$3$$, typeof $error$jscomp$3$$), $module$contents$rtcutils_core$output$workerutils_stopWorkerInternal$$($workerPort$jscomp$2$$), $errorCallback$jscomp$33$$($error$jscomp$3$$));
  };
  $workerPort$jscomp$2$$.onmessage = $cmdMsg_event$jscomp$7$$ => {
    $cmdMsg_event$jscomp$7$$ = $cmdMsg_event$jscomp$7$$.data;
    let $data$jscomp$83$$ = $cmdMsg_event$jscomp$7$$.data;
    switch($cmdMsg_event$jscomp$7$$.$cmd$) {
      case 1:
        $postMessage$jscomp$2$$({$cmd$:3, data:null});
        break;
      case 4:
        $callback$jscomp$59$$($data$jscomp$83$$);
        $module$contents$rtcutils_core$output$workerutils_stopWorkerInternal$$($workerPort$jscomp$2$$);
        break;
      case 5:
        $errHandler$$($data$jscomp$83$$);
    }
  };
  "onmessageerror" in $workerPort$jscomp$2$$ && ($workerPort$jscomp$2$$.onmessageerror = $errHandler$$);
  $worker$jscomp$5$$.onerror = $errHandler$$;
  $postMessage$jscomp$2$$({$cmd$:0, data:null});
}
function $module$contents$rtcutils_core$output$workerutils_connectHandler$$($func$jscomp$3$$, $event$jscomp$8$$, $messageHandler$jscomp$1$$) {
  const $thisObj$$ = globalThis;
  $thisObj$$.port = $event$jscomp$8$$.ports[0];
  $thisObj$$.port.onmessage = $messageHandler$jscomp$1$$.bind(self, $func$jscomp$3$$);
}
function $module$contents$rtcutils_core$output$workerutils_commonMessageHandler$$($func$jscomp$4$$, $cmd$jscomp$1_event$jscomp$9$$) {
  var $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$;
  const $thisObj$jscomp$1$$ = globalThis;
  $thisObj$jscomp$1$$.$msgHandlers$ = null !== ($_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$ = $thisObj$jscomp$1$$.$msgHandlers$) && void 0 !== $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$ ? $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$ : {};
  $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$ = $cmd$jscomp$1_event$jscomp$9$$.data;
  $cmd$jscomp$1_event$jscomp$9$$ = $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$.$cmd$;
  $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$ = $_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$.data;
  let $messagePoster$$ = "port" in $thisObj$jscomp$1$$ ? $thisObj$jscomp$1$$.port : self;
  switch($cmd$jscomp$1_event$jscomp$9$$) {
    case 0:
      var $_b$jscomp$4_msgHandler$$ = new $func$jscomp$4$$();
      $thisObj$jscomp$1$$.$msgHandlers$[$func$jscomp$4$$.name] = $_b$jscomp$4_msgHandler$$;
      $messagePoster$$.postMessage({$cmd$:1, data:null});
      break;
    case 2:
      null === ($_b$jscomp$4_msgHandler$$ = null === self || void 0 === self ? void 0 : self.close) || void 0 === $_b$jscomp$4_msgHandler$$ ? void 0 : $_b$jscomp$4_msgHandler$$.call(self);
      break;
    case 3:
      Promise.resolve($thisObj$jscomp$1$$.$msgHandlers$[$func$jscomp$4$$.name].$doWork$()).then($value$jscomp$96$$ => {
        $messagePoster$$.postMessage({$cmd$:4, data:$value$jscomp$96$$});
      });
      break;
    default:
      throw Error(`Unknown message: ${$cmd$jscomp$1_event$jscomp$9$$}:${$_a$jscomp$7_cmdMsg$jscomp$1_data$jscomp$84$$}`);
  }
}
function $module$contents$rtcutils_core$output$workerutils_commonErrorHandler$$($event$jscomp$10$$) {
  const $thisObj$jscomp$2$$ = globalThis;
  ("port" in $thisObj$jscomp$2$$ ? $thisObj$jscomp$2$$.port : self).postMessage({$cmd$:5, data:$event$jscomp$10$$});
}
;function $module$contents$rtcutils_core$output$platform_getDeviceType$$($platformName$jscomp$1$$, $deviceModel$$) {
  switch($deviceModel$$) {
    case "STEAMDECK":
      return "CONSOLE";
  }
  switch($platformName$jscomp$1$$) {
    case "iOS":
      return "PHONE";
    case "iPadOS":
      return "TABLET";
    case "Xbox":
      return "CONSOLE";
    case "WebOS":
    case "Tizen":
      return "TV";
    default:
      return "DESKTOP";
  }
}
function $JSCompiler_StaticMethods_getDetectorPromise$$($JSCompiler_StaticMethods_getDetectorPromise$self$$) {
  $JSCompiler_StaticMethods_getDetectorPromise$self$$.start = performance.now();
  return new Promise($resolve$jscomp$2$$ => {
    $JSCompiler_StaticMethods_getDetectorPromise$self$$.$rb$ ? $resolve$jscomp$2$$($JSCompiler_StaticMethods_getDetectorPromise$self$$.$platformDetails$) : $JSCompiler_StaticMethods_beginChecking$$($JSCompiler_StaticMethods_getDetectorPromise$self$$).then(() => {
      $JSCompiler_StaticMethods_getDetectorPromise$self$$.$rb$ = !0;
      $resolve$jscomp$2$$($JSCompiler_StaticMethods_getDetectorPromise$self$$.$platformDetails$);
    });
  });
}
async function $JSCompiler_StaticMethods_beginChecking$$($JSCompiler_StaticMethods_beginChecking$self$$) {
  var $JSCompiler_temp_const$jscomp$13$$ = Promise, $JSCompiler_temp_const$jscomp$12$$ = $JSCompiler_temp_const$jscomp$13$$.all, $JSCompiler_temp_const$jscomp$11$$ = $JSCompiler_StaticMethods_checkGlDebugInfo$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$10$$ = $JSCompiler_StaticMethods_checkHighEntropy$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$9$$ = $JSCompiler_StaticMethods_checkAvif$$($JSCompiler_StaticMethods_beginChecking$self$$), 
  $JSCompiler_temp_const$jscomp$8$$ = $JSCompiler_StaticMethods_checkVoices$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$7$$ = $JSCompiler_StaticMethods_checkUserAgentVersion$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$6$$ = $JSCompiler_StaticMethods_checkWindowProperties$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$5$$ = $JSCompiler_StaticMethods_checkPlatform$$($JSCompiler_StaticMethods_beginChecking$self$$), 
  $JSCompiler_temp_const$jscomp$4$$ = $JSCompiler_StaticMethods_checkApplePay$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_temp_const$jscomp$3$$ = $JSCompiler_StaticMethods_checkPlugins$$($JSCompiler_StaticMethods_beginChecking$self$$);
  navigator.maxTouchPoints && 0 < navigator.maxTouchPoints && ($JSCompiler_StaticMethods_beginChecking$self$$.$T$ = !0);
  await $JSCompiler_temp_const$jscomp$12$$.call($JSCompiler_temp_const$jscomp$13$$, [$JSCompiler_temp_const$jscomp$11$$, $JSCompiler_temp_const$jscomp$10$$, $JSCompiler_temp_const$jscomp$9$$, $JSCompiler_temp_const$jscomp$8$$, $JSCompiler_temp_const$jscomp$7$$, $JSCompiler_temp_const$jscomp$6$$, $JSCompiler_temp_const$jscomp$5$$, $JSCompiler_temp_const$jscomp$4$$, $JSCompiler_temp_const$jscomp$3$$, void 0, $JSCompiler_StaticMethods_checkMediaQueries$$($JSCompiler_StaticMethods_beginChecking$self$$), 
  $JSCompiler_StaticMethods_checkTvDevices$$($JSCompiler_StaticMethods_beginChecking$self$$)]).then(() => {
    if ($JSCompiler_StaticMethods_beginChecking$self$$.$aa$) {
      if ($JSCompiler_StaticMethods_beginChecking$self$$.$V$ != $JSCompiler_StaticMethods_beginChecking$self$$.$F$ || $JSCompiler_StaticMethods_beginChecking$self$$.$W$ != $JSCompiler_StaticMethods_beginChecking$self$$.$J$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0;
      }
      ($JSCompiler_StaticMethods_beginChecking$self$$.$I$ || $JSCompiler_StaticMethods_beginChecking$self$$.$S$ || $JSCompiler_StaticMethods_beginChecking$self$$.$R$ || $JSCompiler_StaticMethods_beginChecking$self$$.$da$) && !$JSCompiler_StaticMethods_beginChecking$self$$.$K$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0);
      $JSCompiler_StaticMethods_beginChecking$self$$.$o$ && $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer && !$JSCompiler_StaticMethods_compareBrowserVersions$$($JSCompiler_StaticMethods_beginChecking$self$$.$o$, $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer) && ($JSCompiler_StaticMethods_beginChecking$self$$.$ja$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$ga$ && !$JSCompiler_StaticMethods_compareBrowserVersions$$($JSCompiler_StaticMethods_beginChecking$self$$.$ga$, 
      $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer) && ($JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0) : $JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0);
      if ($JSCompiler_StaticMethods_beginChecking$self$$.$I$ && !$JSCompiler_StaticMethods_beginChecking$self$$.$ia$ || $JSCompiler_StaticMethods_beginChecking$self$$.$S$ && !$JSCompiler_StaticMethods_beginChecking$self$$.$N$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0;
      }
      $JSCompiler_StaticMethods_beginChecking$self$$.$ua$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$M$ && !$JSCompiler_StaticMethods_beginChecking$self$$.$J$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0 : $JSCompiler_StaticMethods_beginChecking$self$$.$B$ && !$JSCompiler_StaticMethods_beginChecking$self$$.$F$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0) : $JSCompiler_StaticMethods_beginChecking$self$$.$va$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$I$ || 
      ($JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0) : $JSCompiler_StaticMethods_beginChecking$self$$.$wa$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0 : $JSCompiler_StaticMethods_beginChecking$self$$.$M$ || !$JSCompiler_StaticMethods_beginChecking$self$$.$B$ || $JSCompiler_StaticMethods_beginChecking$self$$.$F$ || ($JSCompiler_StaticMethods_beginChecking$self$$.$s$ = !0);
      $JSCompiler_StaticMethods_beginChecking$self$$.$u$ = $JSCompiler_StaticMethods_beginChecking$self$$.$aa$ && !$JSCompiler_StaticMethods_beginChecking$self$$.$s$;
      $JSCompiler_StaticMethods_beginChecking$self$$.$ba$ = $JSCompiler_StaticMethods_beginChecking$self$$.$aa$ && $JSCompiler_StaticMethods_beginChecking$self$$.$s$;
    }
    var $_a$jscomp$inline_161_os$jscomp$inline_1145$$, $_b$jscomp$inline_162$$, $_c$jscomp$inline_163$$, $_d$jscomp$inline_164$$, $_e$jscomp$inline_165$$, $_f$jscomp$inline_166$$, $_g$jscomp$inline_167$$, $_h$jscomp$inline_168$$, $_j$jscomp$inline_169$$, $_k$jscomp$inline_170$$, $_l$jscomp$inline_171$$, $_m$jscomp$inline_172$$, $_o$jscomp$inline_173$$, $_p$jscomp$inline_174$$, $_q$jscomp$inline_175$$, $_r$jscomp$inline_176$$, $_s$jscomp$inline_177$$, $_t$jscomp$inline_178$$, $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$;
    if (!$JSCompiler_StaticMethods_beginChecking$self$$.$Va$ && $JSCompiler_StaticMethods_beginChecking$self$$.$ca$) {
      $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$O$ = !0, $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 3, $JSCompiler_StaticMethods_beginChecking$self$$.$v$ = "0", $JSCompiler_StaticMethods_beginChecking$self$$.$o$ = "0", $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer = "0", $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{049d298}");
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$va$) {
      $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "ChromeOS", $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_beginChecking$self$$);
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$ua$) {
      $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$M$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$B$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$u$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$J$ ? 
      $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$F$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$I$ || $JSCompiler_StaticMethods_beginChecking$self$$.$S$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "ChromeOS", $JSCompiler_StaticMethods_beginChecking$self$$.$O$ = !0, $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 
      7) : $JSCompiler_StaticMethods_beginChecking$self$$.$da$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$)) : $JSCompiler_StaticMethods_beginChecking$self$$.$W$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$V$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = 
      "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$K$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$) : $JSCompiler_StaticMethods_beginChecking$self$$.$ea$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "FreeBSD" : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", 
      "{101497c}"));
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$wa$) {
      $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$M$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$B$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$Zb$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = 
      "Android", $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$)) : $JSCompiler_StaticMethods_beginChecking$self$$.$K$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$) : $JSCompiler_StaticMethods_beginChecking$self$$.$ea$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "FreeBSD" : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = 
      "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{49fcccb}"));
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$Yb$) {
      $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Edge", $JSCompiler_StaticMethods_beginChecking$self$$.$Qa$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$u$ && $JSCompiler_StaticMethods_beginChecking$self$$.$P$ || $JSCompiler_StaticMethods_beginChecking$self$$.$D$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Xbox", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "MICROSOFT", $JSCompiler_StaticMethods_beginChecking$self$$.$oa$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$G$ = 
      "XBOXSERIES" : $JSCompiler_StaticMethods_beginChecking$self$$.$D$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$G$ = "XBOXONE")) : $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$B$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$ta$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Android", 
      $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$)) : $JSCompiler_StaticMethods_beginChecking$self$$.$u$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$P$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Xbox", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "MICROSOFT", $JSCompiler_StaticMethods_beginChecking$self$$.$oa$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$G$ = "XBOXSERIES" : $JSCompiler_StaticMethods_beginChecking$self$$.$D$ && 
      ($JSCompiler_StaticMethods_beginChecking$self$$.$G$ = "XBOXONE")) : $JSCompiler_StaticMethods_beginChecking$self$$.$J$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$F$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$I$ || $JSCompiler_StaticMethods_beginChecking$self$$.$S$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = 
      "ChromeOS", $JSCompiler_StaticMethods_beginChecking$self$$.$O$ = !0, $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 7) : $JSCompiler_StaticMethods_beginChecking$self$$.$R$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Android", $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$)) : $JSCompiler_StaticMethods_beginChecking$self$$.$da$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$)) : 
      $JSCompiler_StaticMethods_beginChecking$self$$.$W$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Windows" : $JSCompiler_StaticMethods_beginChecking$self$$.$V$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "APPLE") : $JSCompiler_StaticMethods_beginChecking$self$$.$U$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Android", $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$)) : 
      $JSCompiler_StaticMethods_beginChecking$self$$.$K$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$) : $JSCompiler_StaticMethods_beginChecking$self$$.$ea$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "FreeBSD" : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 5);
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$M$) {
      $JSCompiler_StaticMethods_beginChecking$self$$.$Qa$ ? $JSCompiler_StaticMethods_determineWindowsBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$) : ($JSCompiler_StaticMethods_determineWindowsBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$O$ = !0, $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 5);
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$B$) {
      $JSCompiler_StaticMethods_determineAppleBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$);
    } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$ta$) {
      $JSCompiler_StaticMethods_determineAndroidBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$);
    } else {
      if ($JSCompiler_StaticMethods_beginChecking$self$$.$u$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$P$ || $JSCompiler_StaticMethods_beginChecking$self$$.$J$) || $JSCompiler_StaticMethods_beginChecking$self$$.$W$ || $JSCompiler_StaticMethods_beginChecking$self$$.$D$) {
        $JSCompiler_StaticMethods_determineWindowsBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$);
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$u$ && $JSCompiler_StaticMethods_beginChecking$self$$.$F$ || $JSCompiler_StaticMethods_beginChecking$self$$.$Ha$ || $JSCompiler_StaticMethods_beginChecking$self$$.$qa$ || $JSCompiler_StaticMethods_beginChecking$self$$.$V$) {
        $JSCompiler_StaticMethods_determineAppleBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$);
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$u$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$I$ || $JSCompiler_StaticMethods_beginChecking$self$$.$S$)) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "ChromeOS", $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_beginChecking$self$$);
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$mb$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "ccOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "HKMC", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Chromium";
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$u$ && $JSCompiler_StaticMethods_beginChecking$self$$.$R$ || $JSCompiler_StaticMethods_beginChecking$self$$.$U$) {
        $JSCompiler_StaticMethods_determineAndroidBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$);
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$u$ && $JSCompiler_StaticMethods_beginChecking$self$$.$da$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$Ga$ || $JSCompiler_StaticMethods_beginChecking$self$$.$T$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 3) : $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$) || ($JSCompiler_StaticMethods_beginChecking$self$$.$h$ = 
        "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{54c6569}"));
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$nb$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "WebOS", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "LG", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Chromium";
      } else if ($JSCompiler_StaticMethods_beginChecking$self$$.$pa$) {
        $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Tizen";
        $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Samsung";
        if (null === ($_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ = window.webapis) || void 0 === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ ? 0 : $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$.productinfo) {
          try {
            $JSCompiler_StaticMethods_beginChecking$self$$.$v$ = window.webapis.productinfo.getFirmware(), $JSCompiler_StaticMethods_beginChecking$self$$.deviceName = window.webapis.productinfo.getRealModel(), $JSCompiler_StaticMethods_beginChecking$self$$.$ya$ = window.webapis.productinfo.getLicensedVendor();
          } catch ($_b$jscomp$inline_1140$$) {
            $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{bc7dd9b}");
          }
        } else {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{844af47}"), $JSCompiler_StaticMethods_beginChecking$self$$.$v$ = "0", $JSCompiler_StaticMethods_beginChecking$self$$.deviceName = "";
        }
        $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "Samsung" !== $JSCompiler_StaticMethods_beginChecking$self$$.$ya$ && $JSCompiler_StaticMethods_beginChecking$self$$.$ya$ ? "TIZENLICENSED" : "SAMSUNG";
        $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ = /(([0-9]+\.)*[0-9]+)\/(([0-9]+\.)*[0-9]+)/;
        const $uaString$jscomp$inline_1139$$ = navigator.userAgent;
        $uaString$jscomp$inline_1139$$ && ($_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ = $uaString$jscomp$inline_1139$$.match($_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$), $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer = null === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ || 
        void 0 === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ ? void 0 : $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$[0], $JSCompiler_StaticMethods_beginChecking$self$$.$Z$ = null === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ || void 0 === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ ? 
        void 0 : $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$[1], $JSCompiler_StaticMethods_beginChecking$self$$.$Z$ && ($_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$Z$.split("."), $JSCompiler_StaticMethods_beginChecking$self$$.$xa$ = null === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ || 
        void 0 === $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$ ? void 0 : $_a$jscomp$inline_1137_browserTizenRe$jscomp$inline_1138_btMatch$jscomp$inline_1141_majorVer$jscomp$inline_1142$$[0], $JSCompiler_StaticMethods_beginChecking$self$$.$o$ = $JSCompiler_StaticMethods_beginChecking$self$$.$xa$));
      } else {
        $JSCompiler_StaticMethods_beginChecking$self$$.$K$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$Ya$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Android", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "AMAZON", $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$C$ = "TV") : $JSCompiler_StaticMethods_beginChecking$self$$.$ma$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = 
        "Android", $JSCompiler_StaticMethods_beginChecking$self$$.$j$ = "SAMSUNG", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Samsung", $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$)) : $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$) ? $JSCompiler_StaticMethods_beginChecking$self$$.$ba$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$) : 
        !$JSCompiler_StaticMethods_beginChecking$self$$.$pb$ || $JSCompiler_StaticMethods_beginChecking$self$$.$ob$ || $JSCompiler_StaticMethods_beginChecking$self$$.$qb$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$K$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Linux") : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Chromium", 
        $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 7) : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 0, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{be86380}")) : $JSCompiler_StaticMethods_beginChecking$self$$.$ea$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = "FreeBSD", $JSCompiler_StaticMethods_beginChecking$self$$.$ca$ ? 
        $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Chrome" : $JSCompiler_StaticMethods_beginChecking$self$$.$la$ ? $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_beginChecking$self$$) : ($JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 3, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{a2c16e4}"))) : $JSCompiler_StaticMethods_beginChecking$self$$.$Ba$ || $JSCompiler_StaticMethods_beginChecking$self$$.$Da$ || 
        $JSCompiler_StaticMethods_beginChecking$self$$.$Ca$ ? ($JSCompiler_StaticMethods_beginChecking$self$$.$qa$ = !0, $JSCompiler_StaticMethods_determineAppleBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 7) : $JSCompiler_StaticMethods_beginChecking$self$$.$ma$ ? ($JSCompiler_StaticMethods_determineAndroidBrowser$$($JSCompiler_StaticMethods_beginChecking$self$$), $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 7) : ($JSCompiler_StaticMethods_beginChecking$self$$.$g$ = 
        "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_beginChecking$self$$.$l$ = 0, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{f2eecc9}"));
      }
    }
    $JSCompiler_StaticMethods_beginChecking$self$$.$ba$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$v$ = "0", $JSCompiler_StaticMethods_beginChecking$self$$.$o$ = "0", $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer = "0");
    $JSCompiler_StaticMethods_beginChecking$self$$.$Sa$ = performance.now();
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.os = null !== ($_a$jscomp$inline_161_os$jscomp$inline_1145$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$g$) && void 0 !== $_a$jscomp$inline_161_os$jscomp$inline_1145$$ ? $_a$jscomp$inline_161_os$jscomp$inline_1145$$ : "Unknown";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.browser = null !== ($_b$jscomp$inline_162$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$h$) && void 0 !== $_b$jscomp$inline_162$$ ? $_b$jscomp$inline_162$$ : "Unknown";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.osRawVer = null !== ($_c$jscomp$inline_163$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$cc$) && void 0 !== $_c$jscomp$inline_163$$ ? $_c$jscomp$inline_163$$ : "0";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.osVer = null !== ($_d$jscomp$inline_164$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$v$) && void 0 !== $_d$jscomp$inline_164$$ ? $_d$jscomp$inline_164$$ : "0";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.browserVer = null !== ($_f$jscomp$inline_166$$ = null !== ($_e$jscomp$inline_165$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$o$) && void 0 !== $_e$jscomp$inline_165$$ ? $_e$jscomp$inline_165$$ : "WebOS" === $JSCompiler_StaticMethods_beginChecking$self$$.$g$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$xa$ : void 0) && void 0 !== $_f$jscomp$inline_166$$ ? $_f$jscomp$inline_166$$ : "0";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.browserFullVer = null !== ($_h$jscomp$inline_168$$ = null !== ($_g$jscomp$inline_167$$ = $JSCompiler_StaticMethods_beginChecking$self$$.browserFullVer) && void 0 !== $_g$jscomp$inline_167$$ ? $_g$jscomp$inline_167$$ : "WebOS" === $JSCompiler_StaticMethods_beginChecking$self$$.$g$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$Z$ : void 0) && void 0 !== $_h$jscomp$inline_168$$ ? $_h$jscomp$inline_168$$ : "0";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.confidence = null !== ($_o$jscomp$inline_173$$ = null !== ($_m$jscomp$inline_172$$ = null !== ($_l$jscomp$inline_171$$ = null !== ($_k$jscomp$inline_170$$ = null !== ($_j$jscomp$inline_169$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$l$) && void 0 !== $_j$jscomp$inline_169$$ ? $_j$jscomp$inline_169$$ : "Unknown" === $JSCompiler_StaticMethods_beginChecking$self$$.$g$ ? 0 : void 0) && void 0 !== $_k$jscomp$inline_170$$ ? $_k$jscomp$inline_170$$ : 
    "Unknown" === $JSCompiler_StaticMethods_beginChecking$self$$.$h$ ? 5 : void 0) && void 0 !== $_l$jscomp$inline_171$$ ? $_l$jscomp$inline_171$$ : $JSCompiler_StaticMethods_beginChecking$self$$.$Ra$ ? 6 : void 0) && void 0 !== $_m$jscomp$inline_172$$ ? $_m$jscomp$inline_172$$ : $JSCompiler_StaticMethods_beginChecking$self$$.$ba$ ? 8 : void 0) && void 0 !== $_o$jscomp$inline_173$$ ? $_o$jscomp$inline_173$$ : 10;
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.forging = null !== ($_p$jscomp$inline_174$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$O$) && void 0 !== $_p$jscomp$inline_174$$ ? $_p$jscomp$inline_174$$ : !1;
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.spoofing = null !== ($_q$jscomp$inline_175$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$ba$) && void 0 !== $_q$jscomp$inline_175$$ ? $_q$jscomp$inline_175$$ : !1;
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.vendor = null !== ($_r$jscomp$inline_176$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$j$) && void 0 !== $_r$jscomp$inline_176$$ ? $_r$jscomp$inline_176$$ : "";
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.vendorFull = null !== ($_s$jscomp$inline_177$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$ya$) && void 0 !== $_s$jscomp$inline_177$$ ? $_s$jscomp$inline_177$$ : $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.vendor;
    $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = void 0;
    switch($JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.os) {
      case "ChromeOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "CHROMEOS";
        break;
      case "Windows":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "WINDOWS";
        break;
      case "macOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "MACOS";
        break;
      case "Linux":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "LINUX";
        break;
      case "iOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "IOS";
        break;
      case "iPadOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "IPADOS";
        break;
      case "Tizen":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "TIZEN";
        break;
      case "WebOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "WEBOS";
        break;
      case "Android":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "ANDROID";
        break;
      case "Xbox":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "XBOX";
        break;
      case "SteamOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "STEAMOS";
        break;
      case "ccOS":
        $_a$jscomp$inline_161_os$jscomp$inline_1145$$ = "CCOS";
    }
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.deviceOS = $_a$jscomp$inline_161_os$jscomp$inline_1145$$;
    $JSCompiler_StaticMethods_beginChecking$self$$.$Fa$ ? $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.deviceModel = "STEAMDECK" : $JSCompiler_StaticMethods_beginChecking$self$$.$G$ && ($JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.deviceModel = $JSCompiler_StaticMethods_beginChecking$self$$.$G$);
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.deviceType = null !== ($_t$jscomp$inline_178$$ = $JSCompiler_StaticMethods_beginChecking$self$$.$C$) && void 0 !== $_t$jscomp$inline_178$$ ? $_t$jscomp$inline_178$$ : $module$contents$rtcutils_core$output$platform_getDeviceType$$($JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.os, $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.deviceModel);
    $JSCompiler_StaticMethods_beginChecking$self$$.$platformDetails$.totalTime = $JSCompiler_StaticMethods_beginChecking$self$$.$Sa$ - $JSCompiler_StaticMethods_beginChecking$self$$.start;
  });
}
function $JSCompiler_StaticMethods_checkVoicesInternal$$($JSCompiler_StaticMethods_checkVoicesInternal$self$$, $voiceID_voices$$) {
  if (!$JSCompiler_StaticMethods_checkVoicesInternal$self$$.$tb$) {
    for (const $voice$$ of $voiceID_voices$$) {
      $voiceID_voices$$ = $voice$$.voiceURI || "", $voiceID_voices$$.startsWith("Chrome OS") ? $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$va$ = !0 : $voiceID_voices$$.startsWith("Google") ? $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$ua$ = !0 : $voiceID_voices$$.includes("moz-tts") ? ($voiceID_voices$$.includes("android") && ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$Zb$ = !0, $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$U$ = !0), $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$wa$ = 
      !0) : "English United States" == $voiceID_voices$$ && ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$ta$ = !0), $voiceID_voices$$.includes("Microsoft") ? ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$M$ = !0, $voiceID_voices$$.includes("Online") ? $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$Yb$ = !0 : $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$Qa$ = !0) : $voiceID_voices$$.includes("com.apple") ? ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$B$ = 
      !0, $voiceID_voices$$.includes("Ellen") && ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$Xb$ = !0)) : "Zuzana" == $voiceID_voices$$ && ($JSCompiler_StaticMethods_checkVoicesInternal$self$$.$B$ = !0);
    }
    $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$$b$ = $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$B$ || $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$M$ || $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$ua$ || $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$va$ || $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$wa$ || $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$ta$;
    $JSCompiler_StaticMethods_checkVoicesInternal$self$$.$tb$ = !0;
  }
}
function $JSCompiler_StaticMethods_checkVoices$$($JSCompiler_StaticMethods_checkVoices$self$$) {
  const $synthesis$$ = window.speechSynthesis;
  if ($synthesis$$) {
    const $getVoices$$ = $synthesis$$.getVoices;
    let $curVoices$$ = (null === $getVoices$$ || void 0 === $getVoices$$ ? void 0 : $getVoices$$.call($synthesis$$)) || [];
    return new Promise($resolve$jscomp$4$$ => {
      if (!$getVoices$$ || $curVoices$$.length) {
        $JSCompiler_StaticMethods_checkVoicesInternal$$($JSCompiler_StaticMethods_checkVoices$self$$, $curVoices$$), $resolve$jscomp$4$$();
      } else {
        let $startedVoiceChecking$$ = 0;
        const $checkVoicesLambda$$ = () => {
          $curVoices$$ = $getVoices$$.call($synthesis$$);
          const $now$$ = performance.now();
          0 == $curVoices$$.length && (0 == $startedVoiceChecking$$ || 600 > $now$$ - $startedVoiceChecking$$) ? ($JSCompiler_StaticMethods_checkVoices$self$$.$L$ && clearTimeout($JSCompiler_StaticMethods_checkVoices$self$$.$L$), $JSCompiler_StaticMethods_checkVoices$self$$.$L$ = window.setTimeout($checkVoicesLambda$$, 150)) : ($JSCompiler_StaticMethods_checkVoices$self$$.$L$ && (clearTimeout($JSCompiler_StaticMethods_checkVoices$self$$.$L$), $JSCompiler_StaticMethods_checkVoices$self$$.$L$ = 0), 
          $JSCompiler_StaticMethods_checkVoicesInternal$$($JSCompiler_StaticMethods_checkVoices$self$$, $curVoices$$), $resolve$jscomp$4$$());
        };
        void 0 !== $synthesis$$.onvoiceschanged && ($synthesis$$.onvoiceschanged = $checkVoicesLambda$$);
        window.setTimeout(() => {
          $curVoices$$ = $getVoices$$.call($synthesis$$);
          $curVoices$$.length ? $checkVoicesLambda$$() : ($JSCompiler_StaticMethods_checkVoices$self$$.$L$ = window.setTimeout($checkVoicesLambda$$, 150), $startedVoiceChecking$$ = performance.now());
        }, 0);
      }
    });
  }
  return new Promise($resolve$jscomp$3$$ => {
    $resolve$jscomp$3$$();
  });
}
function $JSCompiler_StaticMethods_checkGlDebugInfo$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$) {
  return new Promise($resolve$jscomp$6$$ => {
    let $glCheckFallbackCompleted$$ = !1;
    const $handleGlInfo$$ = $glDbgInfo$jscomp$1$$ => {
      if ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$$$) {
        clearTimeout($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$$$), $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$$$ = 0;
      } else if ($glCheckFallbackCompleted$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{c1bb269}");
        $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL", $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Ua$ - performance.now());
        return;
      }
      if (!$JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Ma$) {
        var $matches$jscomp$inline_182_renderer$jscomp$inline_181$$ = $glDbgInfo$jscomp$1$$.$rendererName$;
        $matches$jscomp$inline_182_renderer$jscomp$inline_181$$.includes("SraKmd") ? ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$D$ = !0, $matches$jscomp$inline_182_renderer$jscomp$inline_181$$.includes("SraKmd_arden") && ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$oa$ = !0), ($matches$jscomp$inline_182_renderer$jscomp$inline_181$$ = /D3D11-(\d{2,}\.\d{1,}\.\d{5,}\.\d{4,})/.exec($matches$jscomp$inline_182_renderer$jscomp$inline_181$$)) && 1 < $matches$jscomp$inline_182_renderer$jscomp$inline_181$$.length && 
        ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$v$ = $matches$jscomp$inline_182_renderer$jscomp$inline_181$$[1])) : $matches$jscomp$inline_182_renderer$jscomp$inline_181$$.includes("AMD VANGOGH") && ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Fa$ = !0);
        $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Va$ = $glDbgInfo$jscomp$1$$.$present$;
        $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Ma$ = !0;
      }
      $resolve$jscomp$6$$();
    };
    let $glCheckWithWorker$$ = !1, $glCheckWithWorkerFailed$$ = !1;
    const $handleGlError$$ = $error$jscomp$5$$ => {
      "string" == typeof $error$jscomp$5$$ ? $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL", $error$jscomp$5$$) : "data" in $error$jscomp$5$$ ? $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL", $error$jscomp$5$$) : $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL", $error$jscomp$5$$);
      $glCheckWithWorkerFailed$$ = !0;
      $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{9e45306}", $error$jscomp$5$$);
    };
    let $timeoutDelay$jscomp$1$$ = 0;
    try {
      self.OffscreenCanvas && ($glCheckWithWorker$$ = !0, $module$contents$rtcutils_core$output$workerutils_makeWorkerFromInterface$$($module$contents$rtcutils_core$output$platform_GLWorker$$, $handleGlInfo$$, $handleGlError$$), $timeoutDelay$jscomp$1$$ = 150);
    } catch ($ex$jscomp$1$$) {
      $glCheckWithWorkerFailed$$ = !0, $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL", $ex$jscomp$1$$), $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{caf8cd7}", $ex$jscomp$1$$);
    }
    window.setTimeout(() => {
      $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Ma$ || ($JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$$$ = window.setTimeout(() => {
        $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$$$ = 0;
        $JSCompiler_StaticMethods_checkGlDebugInfo$self$$.$Ua$ = performance.now();
        $glCheckWithWorkerFailed$$ ? $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{fbe663c}") : $glCheckWithWorker$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{2577061}"), $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, "GL")) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{3c72abb}", "{95c252e}"), $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_checkGlDebugInfo$self$$, 
        "GL"));
        const $glDbgInfo$jscomp$2$$ = (new $module$contents$rtcutils_core$output$platform_GLWorker$$()).$doWork$();
        $handleGlInfo$$($glDbgInfo$jscomp$2$$);
        $glCheckFallbackCompleted$$ = !0;
      }, $timeoutDelay$jscomp$1$$));
    }, 0);
  });
}
function $JSCompiler_StaticMethods_checkHighEntropy$$($JSCompiler_StaticMethods_checkHighEntropy$self$$) {
  return new Promise($resolve$jscomp$8$$ => {
    if (navigator.userAgentData) {
      $JSCompiler_StaticMethods_checkHighEntropy$self$$.$aa$ = !0;
      var $setHEBasedFlags$$ = $heValues$$ => {
        var $_a$jscomp$10$$;
        if (!$JSCompiler_StaticMethods_checkHighEntropy$self$$.$sb$) {
          var $model_sanitiseVer$$ = $heValues$$.model, $derivePlatformVer_platform$jscomp$8$$ = $heValues$$.platform, $platformVer$$ = $heValues$$.platformVersion, $uaVer$$ = $heValues$$.uaFullVersion, $bitness$$ = $heValues$$.bitness;
          "" == $model_sanitiseVer$$ && "" == $derivePlatformVer_platform$jscomp$8$$ && "" == $platformVer$$ && "" == $uaVer$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$Ea$ && $JSCompiler_StaticMethods_checkHighEntropy$self$$.$U$ || $JSCompiler_StaticMethods_checkHighEntropy$self$$.$pa$ || void 0 == $bitness$$ || ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$s$ = !0) : "" == $bitness$$ && "Android" != $derivePlatformVer_platform$jscomp$8$$ && ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$s$ = 
          !0);
          $model_sanitiseVer$$ && ("Xbox" === $model_sanitiseVer$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$P$ = !0 : $model_sanitiseVer$$.startsWith("AFT") ? ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$fb$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = !0) : $model_sanitiseVer$$.includes("BRAVIA") ? ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$cb$ = !0) : "Chromecast" === $model_sanitiseVer$$ ? 
          ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$eb$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.deviceName = "CHROMECAST") : "SHIELD Android TV" === $model_sanitiseVer$$ ? ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$ib$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.deviceName = "SHIELDTV") : $model_sanitiseVer$$.startsWith("MiTV") ? ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = 
          !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$gb$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.deviceName = "MITV") : $model_sanitiseVer$$.startsWith("TVision") && ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$H$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$jb$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.deviceName = "TVISION"));
          "Windows" === $derivePlatformVer_platform$jscomp$8$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$J$ = !0 : "macOS" === $derivePlatformVer_platform$jscomp$8$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$F$ = !0 : "Chrome OS" === $derivePlatformVer_platform$jscomp$8$$ || "ChromeOS" === $derivePlatformVer_platform$jscomp$8$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$I$ = !0 : "Chromium OS" === $derivePlatformVer_platform$jscomp$8$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$S$ = 
          !0 : "Android" === $derivePlatformVer_platform$jscomp$8$$ ? $JSCompiler_StaticMethods_checkHighEntropy$self$$.$R$ = !0 : "Linux" === $derivePlatformVer_platform$jscomp$8$$ && ("" == $platformVer$$ ? ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$R$ = !0, $JSCompiler_StaticMethods_checkHighEntropy$self$$.$kb$ = !0) : $JSCompiler_StaticMethods_checkHighEntropy$self$$.$da$ = !0);
          $model_sanitiseVer$$ = $version$jscomp$4$$ => {
            if ($version$jscomp$4$$ && "string" == typeof $version$jscomp$4$$) {
              return $version$jscomp$4$$.replace(/[-._,:;|#@]/g, ".");
            }
          };
          var $deriveWindowsVer$$ = $version$jscomp$5$$ => {
            if (!$version$jscomp$5$$ || !$JSCompiler_StaticMethods_checkHighEntropy$self$$.$ga$ || 95 > +$JSCompiler_StaticMethods_checkHighEntropy$self$$.$ga$) {
              return $version$jscomp$5$$;
            }
            switch($version$jscomp$5$$.split(".").map($x$jscomp$95$$ => Number.parseInt($x$jscomp$95$$))[0]) {
              case 0:
                return "8-";
              case 1:
                return "10.0.10240";
              case 2:
                return "10.0.10586";
              case 3:
                return "10.0.14393";
              case 4:
                return "10.0.15063";
              case 5:
                return "10.0.16299";
              case 6:
                return "10.0.17134";
              case 7:
                return "10.0.17763";
              case 8:
                return "10.0.18362+";
              case 9:
                return "10.0.9";
              case 10:
                return "10.0.19041+";
              case 11:
                return "10.0.11";
              case 12:
                return "10.0.12";
              case 13:
                return "11.0.0";
              case 14:
                return "11.0.22000.0";
              case 15:
                return "11.0.22621.0";
              default:
                return "11.0.22621.0+";
            }
          };
          $derivePlatformVer_platform$jscomp$8$$ = $version$jscomp$6$$ => $JSCompiler_StaticMethods_checkHighEntropy$self$$.$J$ && !$JSCompiler_StaticMethods_checkHighEntropy$self$$.$P$ ? $deriveWindowsVer$$($version$jscomp$6$$) : $version$jscomp$6$$;
          $heValues$$.brands && $JSCompiler_StaticMethods_internalCheckUserAgentData$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, $heValues$$);
          $JSCompiler_StaticMethods_checkHighEntropy$self$$.browserFullVer = $model_sanitiseVer$$($uaVer$$);
          $JSCompiler_StaticMethods_checkHighEntropy$self$$.$cc$ = $platformVer$$;
          $JSCompiler_StaticMethods_checkHighEntropy$self$$.$v$ = null !== ($_a$jscomp$10$$ = $JSCompiler_StaticMethods_checkHighEntropy$self$$.$v$) && void 0 !== $_a$jscomp$10$$ ? $_a$jscomp$10$$ : $derivePlatformVer_platform$jscomp$8$$($model_sanitiseVer$$($platformVer$$));
          $JSCompiler_StaticMethods_checkHighEntropy$self$$.$sb$ = !0;
        }
      }, $handleHEValues$$ = $heValues$jscomp$1$$ => {
        $heValues$jscomp$1$$ && ($JSCompiler_StaticMethods_checkHighEntropy$self$$.$ha$ && (clearTimeout($JSCompiler_StaticMethods_checkHighEntropy$self$$.$ha$), $JSCompiler_StaticMethods_checkHighEntropy$self$$.$ha$ = 0), $setHEBasedFlags$$($heValues$jscomp$1$$), $resolve$jscomp$8$$());
      }, $heCheckWithWorker$$ = !1, $heCheckWithWorkerFailed$$ = !1, $handleHEError$$ = $error$jscomp$7$$ => {
        "string" == typeof $error$jscomp$7$$ ? $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, "HE", $error$jscomp$7$$) : "data" in $error$jscomp$7$$ ? $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, "HE", $error$jscomp$7$$) : $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, "HE", $error$jscomp$7$$);
        $heCheckWithWorkerFailed$$ = !0;
        $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{217e106}", $error$jscomp$7$$);
      }, $timeoutDelay$jscomp$3$$ = 0;
      try {
        if (self.SharedWorker) {
          $heCheckWithWorker$$ = !0;
          var $worker$jscomp$9$$ = $module$contents$rtcutils_core$output$workerutils_makeSharedWorkerFromInterface$$($module$contents$rtcutils_core$output$platform_HighEntropyWorker$$, $handleHEValues$$, $handleHEError$$);
          $timeoutDelay$jscomp$3$$ = 300;
        }
      } catch ($ex$jscomp$3$$) {
        $heCheckWithWorkerFailed$$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{a583546}", $ex$jscomp$3$$), $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, "HE", $ex$jscomp$3$$);
      }
      $JSCompiler_StaticMethods_checkHighEntropy$self$$.$ha$ = window.setTimeout(() => {
        $worker$jscomp$9$$ && $module$contents$rtcutils_core$output$workerutils_stopWorkerInternal$$("port" in $worker$jscomp$9$$ ? $worker$jscomp$9$$.port : $worker$jscomp$9$$);
        $heCheckWithWorkerFailed$$ ? $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{dbf4b42}") : $heCheckWithWorker$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{0bf7a38}"), $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, "HE"), $JSCompiler_StaticMethods_checkHighEntropy$self$$.$Ra$ = !0) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{3c72abb}", "{7a82b59}"), $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_checkHighEntropy$self$$, 
        "HE"));
        (new $module$contents$rtcutils_core$output$platform_HighEntropyWorker$$()).$doWork$().then($heValues$jscomp$2$$ => {
          $handleHEValues$$($heValues$jscomp$2$$);
        });
      }, $timeoutDelay$jscomp$3$$);
    } else {
      $resolve$jscomp$8$$();
    }
  });
}
async function $JSCompiler_StaticMethods_checkAvif$$($JSCompiler_StaticMethods_checkAvif$self$$) {
  $JSCompiler_StaticMethods_checkAvif$self$$.$Pa$ = window.chrome ? await $JSCompiler_StaticMethods_avifSupported$$() : !1;
}
function $JSCompiler_StaticMethods_checkUserAgentVersion$$($JSCompiler_StaticMethods_checkUserAgentVersion$self$$) {
  return new Promise($resolve$jscomp$9$$ => {
    var $chromeRe_matches$jscomp$1$$ = /Chrome\/(([0-9]+\.)*[0-9]+)/, $majorMatches_uaString$$ = navigator.userAgent;
    $majorMatches_uaString$$ && ($chromeRe_matches$jscomp$1$$ = $majorMatches_uaString$$.match($chromeRe_matches$jscomp$1$$), $JSCompiler_StaticMethods_checkUserAgentVersion$self$$.$Z$ = null === $chromeRe_matches$jscomp$1$$ || void 0 === $chromeRe_matches$jscomp$1$$ ? void 0 : $chromeRe_matches$jscomp$1$$[1], $JSCompiler_StaticMethods_checkUserAgentVersion$self$$.$Z$ && ($majorMatches_uaString$$ = $majorMatches_uaString$$.match(/Chrome\/([0-9]+)/), $JSCompiler_StaticMethods_checkUserAgentVersion$self$$.$xa$ = 
    null === $majorMatches_uaString$$ || void 0 === $majorMatches_uaString$$ ? void 0 : $majorMatches_uaString$$[1]));
    $resolve$jscomp$9$$();
  });
}
function $JSCompiler_StaticMethods_checkWindowProperties$$($JSCompiler_StaticMethods_checkWindowProperties$self$$) {
  var $_a$jscomp$8$$, $_b$jscomp$5$$, $_c$$, $_d$$, $_e$$, $_f$$, $_g$$, $_h$$, $_j$$, $_k$$, $_l$$;
  const $w$jscomp$12$$ = window, $ownProp$$ = $w$jscomp$12$$.hasOwnProperty, $navi$$ = $w$jscomp$12$$.navigator;
  $ownProp$$.call($w$jscomp$12$$, "MSMediaKeys") ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Xa$ = !0 : $ownProp$$.call($w$jscomp$12$$, "_firefoxTV_cachedScrollPosition") ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ya$ = !0 : void 0 !== $w$jscomp$12$$.__edgeActiveElement || $w$jscomp$12$$.__edgeTrackingPreventionStatistics ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ca$ = !0 : $w$jscomp$12$$.safari ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$bb$ = 
  !0 : $w$jscomp$12$$.opr ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Za$ = !0 : $w$jscomp$12$$.oprt ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$$a$ = !0 : $navi$$.brave ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$ka$ = !0 : void 0 !== $w$jscomp$12$$.OperaTouch || $w$jscomp$12$$.ethereum ? ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ea$ = !0, $JSCompiler_StaticMethods_checkWindowProperties$self$$.$U$ = !0) : $w$jscomp$12$$.yandex ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$na$ = 
  !0 : $w$jscomp$12$$.QuickAccess ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$ma$ = !0 : $w$jscomp$12$$.chrome ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$ca$ = !0 : $w$jscomp$12$$.netscape ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$la$ = !0 : $w$jscomp$12$$.__firefox__ ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Da$ = !0 : $w$jscomp$12$$.__gCrWeb ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ba$ = !0 : $w$jscomp$12$$.ReactNativeWebView && 
  ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$ab$ = !0);
  void 0 !== $w$jscomp$12$$.contacts || void 0 !== $w$jscomp$12$$.ContactsManager ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$U$ = !0 : $ownProp$$.call($w$jscomp$12$$, "onwebOSAccessibilityAlertDone") || $w$jscomp$12$$.webOSSystem || $ownProp$$.call($w$jscomp$12$$, "onwebosaccessibilityalertdone") ? $JSCompiler_StaticMethods_checkWindowProperties$self$$.$nb$ = !0 : $w$jscomp$12$$.tizen || $w$jscomp$12$$.TizenTVApiInfo || $w$jscomp$12$$.addEdgeEffectONSCROLLTizenUIF || $w$jscomp$12$$.tizentvwasm ? 
  $JSCompiler_StaticMethods_checkWindowProperties$self$$.$pa$ = !0 : $w$jscomp$12$$.HardkeyEvent && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$mb$ = !0);
  const $intl$$ = $w$jscomp$12$$.Intl;
  if (null === ($_a$jscomp$8$$ = $navi$$.mediaCapabilities) || void 0 === $_a$jscomp$8$$ ? 0 : $_a$jscomp$8$$.decodingInfo) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Hb$ = !0;
  }
  $w$jscomp$12$$.BigInt && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$zb$ = !0, $w$jscomp$12$$.BigInt64Array && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ab$ = !0));
  $w$jscomp$12$$.PerformanceNavigationTiming && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Qb$ = !0);
  $w$jscomp$12$$.WebAssembly && $w$jscomp$12$$.WebAssembly.Exception && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ub$ = !0);
  $w$jscomp$12$$.BroadcastChannel && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Bb$ = !0);
  $w$jscomp$12$$.GPUBuffer && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Lb$ = !0);
  $w$jscomp$12$$.SharedWorker && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Sb$ = !0);
  $w$jscomp$12$$.MediaRecorder && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ob$ = !0);
  $w$jscomp$12$$.CSSCounterStyleRule && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Db$ = !0);
  $ownProp$$.call($w$jscomp$12$$, "ondevicelight") && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Ib$ = !0);
  if (null === ($_b$jscomp$5$$ = $w$jscomp$12$$.AbortSignal) || void 0 === $_b$jscomp$5$$ ? 0 : $_b$jscomp$5$$.abort) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$vb$ = !0;
  }
  $ownProp$$.call($w$jscomp$12$$, "onbeforeinput") && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$yb$ = !0);
  $intl$$ && ($intl$$.DisplayNames && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$sa$ = !0), $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Mb$ = "pinyin" == (null === ($_c$$ = (new $intl$$.Collator("zh", {collation:"pinyin"})).resolvedOptions()) || void 0 === $_c$$ ? void 0 : $_c$$.collation));
  $w$jscomp$12$$.Credential && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Gb$ = !0);
  if (null === ($_d$$ = $w$jscomp$12$$.browser) || void 0 === $_d$$ ? 0 : $_d$$.runtime) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Cb$ = !0;
  }
  $w$jscomp$12$$.LargestContentfulPaint && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Nb$ = !0);
  if (null === ($_e$$ = $w$jscomp$12$$.CSS) || void 0 === $_e$$ ? 0 : $_e$$.registerProperty) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Fb$ = !0;
  }
  $navi$$.xr && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Wb$ = !0);
  $navi$$.getInstalledRelatedApps && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Kb$ = !0);
  $w$jscomp$12$$.BarcodeDetector && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$xb$ = !0);
  $w$jscomp$12$$.WakeLock && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Tb$ = !0);
  if (null === ($_f$$ = $w$jscomp$12$$.Promise) || void 0 === $_f$$ ? 0 : $_f$$.any) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Rb$ = !0;
  }
  $w$jscomp$12$$.FileSystemHandle && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Jb$ = !0);
  if (null === ($_g$$ = $w$jscomp$12$$.Atomics) || void 0 === $_g$$ ? 0 : $_g$$.waitAsync) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$wb$ = !0;
  }
  if (null === ($_j$$ = null === ($_h$$ = $w$jscomp$12$$.CSS) || void 0 === $_h$$ ? void 0 : $_h$$.supports) || void 0 === $_j$$ ? 0 : $_j$$.call($_h$$, "aspect-ratio: auto")) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Eb$ = !0;
  }
  $w$jscomp$12$$.HID && ($JSCompiler_StaticMethods_checkWindowProperties$self$$.$Vb$ = !0);
  if (null === ($_l$$ = null === ($_k$$ = $w$jscomp$12$$.CSS) || void 0 === $_k$$ ? void 0 : $_k$$.supports) || void 0 === $_l$$ ? 0 : $_l$$.call($_k$$, "overflow: clip")) {
    $JSCompiler_StaticMethods_checkWindowProperties$self$$.$Pb$ = !0;
  }
}
function $JSCompiler_StaticMethods_checkPlatform$$($JSCompiler_StaticMethods_checkPlatform$self$$) {
  return new Promise($resolve$jscomp$5$$ => {
    let $platCheckFallbackCompleted$$ = !1;
    const $handlePlatInfo$$ = $platInfo$jscomp$1_platform$jscomp$inline_187$$ => {
      if ($JSCompiler_StaticMethods_checkPlatform$self$$.$fa$) {
        clearTimeout($JSCompiler_StaticMethods_checkPlatform$self$$.$fa$), $JSCompiler_StaticMethods_checkPlatform$self$$.$fa$ = 0;
      } else if ($platCheckFallbackCompleted$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{b02109c}");
        $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat", $JSCompiler_StaticMethods_checkPlatform$self$$.$ub$ - performance.now());
        return;
      }
      $JSCompiler_StaticMethods_checkPlatform$self$$.$Na$ || ($platInfo$jscomp$1_platform$jscomp$inline_187$$ = $platInfo$jscomp$1_platform$jscomp$inline_187$$.platform, "MacIntel" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ ? $JSCompiler_StaticMethods_checkPlatform$self$$.$V$ = !0 : "iPhone" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ ? $JSCompiler_StaticMethods_checkPlatform$self$$.$qa$ = !0 : "Win32" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ ? $JSCompiler_StaticMethods_checkPlatform$self$$.$W$ = 
      !0 : "iPad" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ ? $JSCompiler_StaticMethods_checkPlatform$self$$.$Ha$ = !0 : "FreeBSD amd64" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ ? $JSCompiler_StaticMethods_checkPlatform$self$$.$ea$ = !0 : "Windows" === $platInfo$jscomp$1_platform$jscomp$inline_187$$ && ($JSCompiler_StaticMethods_checkPlatform$self$$.$W$ = !0, $JSCompiler_StaticMethods_checkPlatform$self$$.$O$ = !0), $platInfo$jscomp$1_platform$jscomp$inline_187$$.startsWith("Linux") && 
      ($JSCompiler_StaticMethods_checkPlatform$self$$.$K$ = !0), $JSCompiler_StaticMethods_checkPlatform$self$$.$Na$ = !0);
      $resolve$jscomp$5$$();
    };
    let $platCheckWithWorker$$ = !1, $platCheckWithWorkerFailed$$ = !1;
    const $handlePlatError$$ = $error$jscomp$4$$ => {
      "string" == typeof $error$jscomp$4$$ ? $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat", $error$jscomp$4$$) : "data" in $error$jscomp$4$$ ? $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat", $error$jscomp$4$$) : $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat", $error$jscomp$4$$);
      $platCheckWithWorkerFailed$$ = !0;
      $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{6350135}", $error$jscomp$4$$);
    };
    let $timeoutDelay$$ = 0;
    try {
      $platCheckWithWorker$$ = !0, $module$contents$rtcutils_core$output$workerutils_makeWorkerFromInterface$$($module$contents$rtcutils_core$output$platform_NavigatorPlatformWorker$$, $handlePlatInfo$$, $handlePlatError$$), $timeoutDelay$$ = 150;
    } catch ($ex$$) {
      $platCheckWithWorkerFailed$$ = !0, $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat", $ex$$), $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{79668e5}", $ex$$);
    }
    window.setTimeout(() => {
      $JSCompiler_StaticMethods_checkPlatform$self$$.$Na$ || ($JSCompiler_StaticMethods_checkPlatform$self$$.$fa$ = window.setTimeout(() => {
        $JSCompiler_StaticMethods_checkPlatform$self$$.$fa$ = 0;
        $JSCompiler_StaticMethods_checkPlatform$self$$.$ub$ = performance.now();
        $platCheckWithWorkerFailed$$ ? $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{d9e1e01}") : $platCheckWithWorker$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{a8d68cb}"), $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, "Plat")) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{3c72abb}", "{53e2225}"), $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_checkPlatform$self$$, 
        "Plat"));
        const $platInfo$jscomp$2$$ = (new $module$contents$rtcutils_core$output$platform_NavigatorPlatformWorker$$()).$doWork$();
        $handlePlatInfo$$($platInfo$jscomp$2$$);
        $platCheckFallbackCompleted$$ = !0;
      }, $timeoutDelay$$));
    }, 0);
  });
}
function $JSCompiler_StaticMethods_checkApplePay$$($JSCompiler_StaticMethods_checkApplePay$self$$) {
  const $w$jscomp$13$$ = window;
  $w$jscomp$13$$.ApplePaySession && $w$jscomp$13$$.ApplePaySession.canMakePayments && ($JSCompiler_StaticMethods_checkApplePay$self$$.$Oa$ = !0);
}
function $JSCompiler_StaticMethods_checkPlugins$$($JSCompiler_StaticMethods_checkPlugins$self$$) {
  var $pluginName_plugins$$ = navigator.plugins;
  for (const $plugin$$ of $pluginName_plugins$$) {
    $pluginName_plugins$$ = $plugin$$.name, "Native Client" !== $pluginName_plugins$$ && ($pluginName_plugins$$.startsWith("Microsoft Edge PDF") ? $JSCompiler_StaticMethods_checkPlugins$self$$.$qb$ = !0 : $pluginName_plugins$$.startsWith("Chrome PDF") ? $JSCompiler_StaticMethods_checkPlugins$self$$.$ob$ = !0 : $pluginName_plugins$$.startsWith("Chromium PDF") ? $JSCompiler_StaticMethods_checkPlugins$self$$.$pb$ = !0 : $pluginName_plugins$$.startsWith("PPAPI SAMSUNGHEALTH") && ($JSCompiler_StaticMethods_checkPlugins$self$$.$pa$ = 
    !0));
  }
}
function $JSCompiler_StaticMethods_checkMediaQueries$$($JSCompiler_StaticMethods_checkMediaQueries$self$$) {
  const $w$jscomp$14$$ = window;
  $JSCompiler_StaticMethods_checkMediaQueries$self$$.$Ka$ = $w$jscomp$14$$.matchMedia("(hover: hover)").matches;
  $JSCompiler_StaticMethods_checkMediaQueries$self$$.$La$ = $w$jscomp$14$$.matchMedia("(hover: none)").matches;
  $JSCompiler_StaticMethods_checkMediaQueries$self$$.$Ia$ = $w$jscomp$14$$.matchMedia("(pointer: coarse)").matches;
  $JSCompiler_StaticMethods_checkMediaQueries$self$$.$Ja$ = $w$jscomp$14$$.matchMedia("(pointer: fine)").matches;
}
function $JSCompiler_StaticMethods_checkTvDevices$$($JSCompiler_StaticMethods_checkTvDevices$self$$) {
  return new Promise($resolve$jscomp$7$$ => {
    const $handleTvValues$$ = $smartTVInfo$jscomp$1$$ => {
      $JSCompiler_StaticMethods_checkTvDevices$self$$.$ra$ && (clearTimeout($JSCompiler_StaticMethods_checkTvDevices$self$$.$ra$), $JSCompiler_StaticMethods_checkTvDevices$self$$.$ra$ = 0);
      $smartTVInfo$jscomp$1$$.$isKnownTVDevice$ && ($JSCompiler_StaticMethods_checkTvDevices$self$$.$lb$ = $smartTVInfo$jscomp$1$$.$isKnownTVDevice$, $JSCompiler_StaticMethods_checkTvDevices$self$$.$bc$ = $smartTVInfo$jscomp$1$$.$vendorName$, $JSCompiler_StaticMethods_checkTvDevices$self$$.$ac$ = $smartTVInfo$jscomp$1$$.$modelName$);
      $resolve$jscomp$7$$();
    };
    let $tvCheckWithWorker$$ = !1, $tvCheckWithWorkerFailed$$ = !1;
    const $handleTvError$$ = $error$jscomp$6$$ => {
      "string" == typeof $error$jscomp$6$$ ? $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, "TV", $error$jscomp$6$$) : "data" in $error$jscomp$6$$ ? $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, "TV", $error$jscomp$6$$) : $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, "TV", $error$jscomp$6$$);
      $tvCheckWithWorkerFailed$$ = !0;
      $module$exports$rtcutils_core$output$logger$Log$$.e("{3c72abb}", "{f49e1b4}", $error$jscomp$6$$);
    };
    let $timeoutDelay$jscomp$2$$ = 0, $worker$jscomp$8$$;
    try {
      self.SharedWorker && ($tvCheckWithWorker$$ = !0, $worker$jscomp$8$$ = $module$contents$rtcutils_core$output$workerutils_makeSharedWorkerFromInterface$$($module$contents$rtcutils_core$output$platform_SmartTVWorker$$, $handleTvValues$$, $handleTvError$$), $timeoutDelay$jscomp$2$$ = 150);
    } catch ($ex$jscomp$2$$) {
      $tvCheckWithWorkerFailed$$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{2066dd6}", $ex$jscomp$2$$), $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, "TV", $ex$jscomp$2$$);
    }
    $JSCompiler_StaticMethods_checkTvDevices$self$$.$ra$ = window.setTimeout(() => {
      $worker$jscomp$8$$ && $module$contents$rtcutils_core$output$workerutils_stopWorkerInternal$$("port" in $worker$jscomp$8$$ ? $worker$jscomp$8$$.port : $worker$jscomp$8$$);
      $tvCheckWithWorkerFailed$$ ? $module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{cdb3848}") : $tvCheckWithWorker$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.w("{3c72abb}", "{f01188c}"), $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, "TV"), $JSCompiler_StaticMethods_checkTvDevices$self$$.$Ra$ = !0) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{3c72abb}", "{db9e3f4}"), $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_checkTvDevices$self$$, 
      "TV"));
      (new $module$contents$rtcutils_core$output$platform_SmartTVWorker$$()).$doWork$().then($tvValues$$ => {
        $handleTvValues$$($tvValues$$);
      });
    }, $timeoutDelay$jscomp$2$$);
  });
}
function $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$$($JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$self$$, $name$jscomp$81$$, $delay$$) {
  $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$self$$.$m$.$emitDebugEvent$("WorkerOverlongDelay", $name$jscomp$81$$, $delay$$.toString()) : $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$self$$.$A$.push({type:"WorkerOverlongDelay", name:$name$jscomp$81$$, data:$delay$$});
}
function $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$self$$, $name$jscomp$76$$, $data$jscomp$87$$) {
  $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$self$$.$m$.$emitDebugEvent$("WebWorkerProblem", $name$jscomp$76$$, $data$jscomp$87$$) : $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$self$$.$A$.push({type:"ErrorString", name:$name$jscomp$76$$, data:$data$jscomp$87$$});
}
function $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$self$$, $name$jscomp$77$$, $data$jscomp$88$$) {
  $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$self$$.$m$.$emitDebugEvent$("WorkerMessageProblem", JSON.stringify($data$jscomp$88$$)) : $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$self$$.$A$.push({type:"MessageEvent", name:$name$jscomp$77$$, data:$data$jscomp$88$$});
}
function $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_emitWorkerErrorTelemetry$self$$, $name$jscomp$75$$, $data$jscomp$86$$) {
  $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$self$$.$m$.$emitDebugEvent$("WorkerProblem", $name$jscomp$75$$, `${$data$jscomp$86$$.message} in ${$data$jscomp$86$$.filename}@${$data$jscomp$86$$.lineno}:${$data$jscomp$86$$.colno}`, JSON.stringify($data$jscomp$86$$.error)) : $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$self$$.$A$.push({type:"ErrorEvent", name:$name$jscomp$75$$, data:$data$jscomp$86$$});
}
function $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$self$$, $name$jscomp$80$$, $exception$jscomp$2$$) {
  var $_a$jscomp$16$$;
  $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$self$$.$m$.$emitDebugEvent$("WorkerCreateFailure", $name$jscomp$80$$, null !== ($_a$jscomp$16$$ = null === $exception$jscomp$2$$ || void 0 === $exception$jscomp$2$$ ? void 0 : $exception$jscomp$2$$.stack) && void 0 !== $_a$jscomp$16$$ ? $_a$jscomp$16$$ : "", JSON.stringify($exception$jscomp$2$$)) : $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$self$$.$A$.push({type:"WorkerCreateFailure", 
  name:$name$jscomp$80$$, data:$exception$jscomp$2$$});
}
function $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$self$$, $name$jscomp$79$$) {
  $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$self$$.$m$.$emitDebugEvent$("WorkerTimeout", $name$jscomp$79$$) : $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$self$$.$A$.push({type:"WorkerTimeout", name:$name$jscomp$79$$});
}
function $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$self$$, $name$jscomp$78$$) {
  $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$self$$.$m$ ? $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$self$$.$m$.$emitDebugEvent$("WorkerUnused", $name$jscomp$78$$) : $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$self$$.$A$.push({type:"WorkerUnused", name:$name$jscomp$78$$});
}
function $JSCompiler_StaticMethods_internalCheckUserAgentData$$($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$, $uad_unknownBrands$$) {
  var $_a$jscomp$9$$;
  $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$aa$ = !0;
  $uad_unknownBrands$$.mobile && ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$Ga$ = !0);
  var $brandName_brands$$ = $uad_unknownBrands$$.brands || [];
  $uad_unknownBrands$$ = 0;
  for (const $brand$$ of $brandName_brands$$) {
    $brandName_brands$$ = $brand$$.brand;
    const $brandVersion$$ = $brand$$.version;
    "Google Chrome" === $brandName_brands$$ ? ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$ia$ = !0, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$ = $brandVersion$$) : "Microsoft Edge" === $brandName_brands$$ ? ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$za$ = !0, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$ = $brandVersion$$) : "Opera" === $brandName_brands$$ ? ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$ja$ = 
    !0, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$ = $brandVersion$$) : "Yandex" === $brandName_brands$$ ? ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$Aa$ = !0, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$ = $brandVersion$$) : "Chromium" === $brandName_brands$$ ? ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$N$ = !0, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$ = null !== ($_a$jscomp$9$$ = $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$o$) && 
    void 0 !== $_a$jscomp$9$$ ? $_a$jscomp$9$$ : $brandVersion$$, $JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$ga$ = $brandVersion$$) : $uad_unknownBrands$$++;
  }
  2 < $uad_unknownBrands$$ && ($JSCompiler_StaticMethods_internalCheckUserAgentData$self$$.$Wa$ = !0);
}
async function $JSCompiler_StaticMethods_avifSupported$$() {
  if (!window.createImageBitmap) {
    return !1;
  }
  const $blob$jscomp$17$$ = await fetch("data:image/avif;base64,AAAAGGZ0eXBhdmlmAAAAAGF2aWZtaWYxAAADm21ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAHBpY3QAAAAAAAAAAAAAAAAAAAAADnBpdG0AAAAAAAEAAAAiaWxvYwAAAABEQAABAAEAAAAAA7sAAQAAAAAAAAAjAAAAI2lpbmYAAAAAAAEAAAAVaW5mZQIAAAAAAQAAYXYwMQAAAAMbaXBycAAAAvxpcGNvAAACrGNvbHJwcm9mAAACoGxjbXMEMAAAbW50clJHQiBYWVogB+UACAAJAAsAEAAFYWNzcE1TRlQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPbWAAEAAAAA0y1sY21zAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANZGVzYwAAASAAAABAY3BydAAAAWAAAAA2d3RwdAAAAZgAAAAUY2hhZAAAAawAAAAsclhZWgAAAdgAAAAUYlhZWgAAAewAAAAUZ1hZWgAAAgAAAAAUclRSQwAAAhQAAAAgZ1RSQwAAAhQAAAAgYlRSQwAAAhQAAAAgY2hybQAAAjQAAAAkZG1uZAAAAlgAAAAkZG1kZAAAAnwAAAAkbWx1YwAAAAAAAAABAAAADGVuVVMAAAAkAAAAHABHAEkATQBQACAAYgB1AGkAbAB0AC0AaQBuACAAcwBSAEcAQm1sdWMAAAAAAAAAAQAAAAxlblVTAAAAGgAAABwAUAB1AGIAbABpAGMAIABEAG8AbQBhAGkAbgAAWFlaIAAAAAAAAPbWAAEAAAAA0y1zZjMyAAAAAAABDEIAAAXe///zJQAAB5MAAP2Q///7of///aIAAAPcAADAblhZWiAAAAAAAABvoAAAOPUAAAOQWFlaIAAAAAAAACSfAAAPhAAAtsRYWVogAAAAAAAAYpcAALeHAAAY2XBhcmEAAAAAAAMAAAACZmYAAPKnAAANWQAAE9AAAApbY2hybQAAAAAAAwAAAACj1wAAVHwAAEzNAACZmgAAJmcAAA9cbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABHAEkATQBQbWx1YwAAAAAAAAABAAAADGVuVVMAAAAIAAAAHABzAFIARwBCAAAADGF2MUOBDQwAAAAAFGlzcGUAAAAAAAAAEAAAABAAAAAoY2xhcAAAAAEAAAABAAAAAQAAAAH////xAAAAAv////EAAAACAAAAF2lwbWEAAAAAAAAAAQABBIGCA4QAAAArbWRhdBIACgkfzP/IIEBA0oAyFGW+OwPr0bIHHHHBATZPtaQ3RWTA").then($r$jscomp$1$$ => 
  $r$jscomp$1$$.blob());
  return createImageBitmap($blob$jscomp$17$$).then(() => !0, () => !1);
}
function $JSCompiler_StaticMethods_compareBrowserVersions$$($simpleResult_simpleVer$$, $fullResult_fullVer$$) {
  if ($simpleResult_simpleVer$$ == $fullResult_fullVer$$) {
    return !1;
  }
  let $re$$ = /^(\d+)[.]?(.*)/;
  $simpleResult_simpleVer$$ = $re$$.exec($simpleResult_simpleVer$$);
  $fullResult_fullVer$$ = $re$$.exec($fullResult_fullVer$$);
  if (null == $simpleResult_simpleVer$$) {
    if (null == $fullResult_fullVer$$) {
      return !0;
    }
  } else {
    if (null != $fullResult_fullVer$$ && $simpleResult_simpleVer$$[1] == $fullResult_fullVer$$[1] && "" == $simpleResult_simpleVer$$[2]) {
      return !0;
    }
  }
  return !1;
}
function $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_setChromeDetails$self$$) {
  $JSCompiler_StaticMethods_setChromeDetails$self$$.$h$ = "Chrome";
  !$JSCompiler_StaticMethods_setChromeDetails$self$$.$o$ && $JSCompiler_StaticMethods_setChromeDetails$self$$.$Nb$ && ($JSCompiler_StaticMethods_setChromeDetails$self$$.$o$ = $JSCompiler_StaticMethods_setChromeDetails$self$$.$Fb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Wb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Kb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$sa$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$xb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Tb$ ? 
  $JSCompiler_StaticMethods_setChromeDetails$self$$.$Rb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Jb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$wb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Eb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Vb$ ? $JSCompiler_StaticMethods_setChromeDetails$self$$.$Pb$ ? "90+" : "89" : "88" : "87" : "86" : "85" : "84" : "83" : "81" : "80" : "79" : "78" : "77");
}
function $JSCompiler_StaticMethods_getCurrentLinuxOsName$$($JSCompiler_StaticMethods_getCurrentLinuxOsName$self$$) {
  return $JSCompiler_StaticMethods_getCurrentLinuxOsName$self$$.$Fa$ ? "SteamOS" : "Linux";
}
function $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_setFirefoxDetails$self$$) {
  $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$h$ = "Firefox";
  $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$o$ = $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$Mb$ ? $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$sa$ ? $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$yb$ ? $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$vb$ ? $JSCompiler_StaticMethods_setFirefoxDetails$self$$.$Ib$ ? "88" : "89+" : "87" : "86" : "85" : "84-";
}
function $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$) {
  var $_a$jscomp$13$$, $_b$jscomp$8$$, $_c$jscomp$2$$, $_d$jscomp$2$$;
  if ($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$u$ && $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$H$) {
    $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = "TV";
  } else if (!$JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ga$ && !$JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$T$ && $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$lb$) {
    $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = "TV", $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$j$ = null !== ($_b$jscomp$8$$ = null !== ($_a$jscomp$13$$ = $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$j$) && void 0 !== $_a$jscomp$13$$ ? $_a$jscomp$13$$ : $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$bc$) && void 0 !== $_b$jscomp$8$$ ? $_b$jscomp$8$$ : "", $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.deviceName = 
    null !== ($_d$jscomp$2$$ = null !== ($_c$jscomp$2$$ = $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.deviceName) && void 0 !== $_c$jscomp$2$$ ? $_c$jscomp$2$$ : $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$ac$) && void 0 !== $_d$jscomp$2$$ ? $_d$jscomp$2$$ : "UNKNOWN", $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$l$ = 7;
  } else if (!$JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ka$ || $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ja$) {
    $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$R$ ? $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$kb$ ? $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$La$ && $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ia$ || ($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = "DESKTOP") : $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ka$ && $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ja$ && ($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = 
    "DESKTOP") : $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$La$ && $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$Ia$ || ($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = "DESKTOP");
  }
  $JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ || ($JSCompiler_StaticMethods_determineAndroidDeviceType$self$$.$C$ = 600 <= (screen.width < screen.height ? screen.width : screen.height) ? "TABLET" : "PHONE");
}
function $JSCompiler_StaticMethods_determineWindowsBrowser$$($JSCompiler_StaticMethods_determineWindowsBrowser$self$$) {
  $JSCompiler_StaticMethods_determineWindowsBrowser$self$$.$g$ = "Windows";
  $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_determineWindowsBrowser$self$$) || ($JSCompiler_StaticMethods_determineWindowsBrowser$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_determineWindowsBrowser$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{44ce1e0}"));
}
function $JSCompiler_StaticMethods_determineAppleBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$) {
  $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$j$ = "APPLE";
  $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$u$ && $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$F$ ? ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$) || ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", 
  "{b80b712}"))) : $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$V$ ? $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$T$ ? ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "iPadOS", $JSCompiler_StaticMethods_determineIOSBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$)) : ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$) || 
  ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{0f3296f}"))) : $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$qa$ ? ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "iOS", $JSCompiler_StaticMethods_determineIOSBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$)) : $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$Ha$ ? 
  ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "iPadOS", $JSCompiler_StaticMethods_determineIOSBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$)) : ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$O$ = !0, $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$l$ = 5, $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$T$ ? ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "iOS", $JSCompiler_StaticMethods_determineIOSBrowser$$($JSCompiler_StaticMethods_determineAppleBrowser$self$$), 
  $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{cf1c572}")) : ($JSCompiler_StaticMethods_determineAppleBrowser$self$$.$g$ = "macOS", $JSCompiler_StaticMethods_determineAppleBrowser$self$$.$h$ = "Unknown", $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{1eb1815}")));
}
function $JSCompiler_StaticMethods_determineAndroidBrowser$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$) {
  $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$g$ = "Android";
  $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$la$ ? $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$) : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$ma$ ? ($JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Samsung", $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$j$ = "SAMSUNG") : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$ka$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = 
  "Brave" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$na$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Yandex" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$Ea$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Opera" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$u$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$za$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Edge" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$ja$ ? 
  $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Opera" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$Aa$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Yandex" : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$ia$ ? ($JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$), $JSCompiler_StaticMethods_setTvDeviceVendorDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$)) : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$N$ && 
  ($JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = "Chromium", $JSCompiler_StaticMethods_setTvDeviceVendorDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$)) : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$ca$ ? $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$Pa$ ? $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$) : $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$h$ = $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$T$ ? 
  "Edge" : "Silk" : ($JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$), $JSCompiler_StaticMethods_determineAndroidBrowser$self$$.$l$ = 7);
  $JSCompiler_StaticMethods_determineAndroidDeviceType$$($JSCompiler_StaticMethods_determineAndroidBrowser$self$$);
}
function $JSCompiler_StaticMethods_determineDesktopBrowser$$($JSCompiler_StaticMethods_determineDesktopBrowser$self$$) {
  var $_a$jscomp$14$$;
  if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$la$) {
    $JSCompiler_StaticMethods_setFirefoxDetails$$($JSCompiler_StaticMethods_determineDesktopBrowser$self$$);
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Za$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Opera";
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$ka$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Brave";
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$na$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Yandex";
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$ca$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$D$ ? ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$g$ = "Xbox", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$j$ = "MICROSOFT", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Edge", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$oa$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$G$ = "XBOXSERIES" : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$D$ && ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$G$ = 
    "XBOXONE")) : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$u$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$P$ ? ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$g$ = "Xbox", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$j$ = "MICROSOFT", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Edge") : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$za$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Edge" : 
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$ja$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Opera" : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Aa$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Yandex" : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$ia$ ? $JSCompiler_StaticMethods_setChromeDetails$$($JSCompiler_StaticMethods_determineDesktopBrowser$self$$) : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$N$ && 
    !$JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Wa$ && ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Chromium") : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Pa$ ? $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$u$ && $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$N$ ? ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Chromium", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$l$ = 9) : $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$$b$ ? 
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Chromium" : ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Chromium", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$l$ = 7) : ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Edge", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$g$ = null !== ($_a$jscomp$14$$ = $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$g$) && void 0 !== $_a$jscomp$14$$ ? $_a$jscomp$14$$ : "Unknown", 
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$l$ = 7);
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$bb$ || $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Oa$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Safari";
  } else if ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$Xa$) {
    $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$D$ && ($JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$g$ = "Xbox", $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$j$ = "MICROSOFT"), $JSCompiler_StaticMethods_determineDesktopBrowser$self$$.$h$ = "Edge_Legacy";
  } else {
    return !1;
  }
  return !0;
}
function $JSCompiler_StaticMethods_setTvDeviceVendorDetails$$($JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$) {
  $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$fb$ ? ($JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = "AMAZON", $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$N$ && ($JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$h$ = "Silk")) : $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$cb$ ? $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = "SONY" : $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$eb$ ? $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = 
  "GOOGLE" : $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$ib$ ? $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = "NVIDIA" : $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$gb$ ? $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = "XIAOMI" : $JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$jb$ && ($JSCompiler_StaticMethods_setTvDeviceVendorDetails$self$$.$j$ = "TVISION");
}
function $JSCompiler_StaticMethods_determineIOSBrowser$$($JSCompiler_StaticMethods_determineIOSBrowser$self$$) {
  $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$v$ = $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$zb$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$sa$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Ab$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Db$ ? "17+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Sb$ ? "16+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Lb$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Xb$ ? "15.6+" : 
  "15.5+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Bb$ ? "15.4+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Ub$ ? "15.2+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Qb$ ? "15.1+" : "15+" : "14.5+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Ob$ ? "14.3+" : "14+" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Hb$ ? "13+" : "12-";
  var $missingSafariExtension_osVersion$$ = $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$v$;
  const $missingCredential$$ = !$JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Gb$ && !($missingSafariExtension_osVersion$$.startsWith("12") || $missingSafariExtension_osVersion$$.startsWith("13"));
  $missingSafariExtension_osVersion$$ = !$JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Cb$ && !($missingSafariExtension_osVersion$$.startsWith("12") || $missingSafariExtension_osVersion$$.startsWith("13") || $missingSafariExtension_osVersion$$.startsWith("14") || $missingSafariExtension_osVersion$$.startsWith("15"));
  $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Da$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Firefox" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$$a$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Opera" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$ka$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Brave" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$na$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = 
  "Yandex" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Ca$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Edge" : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Ba$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Chrome" : !$JSCompiler_StaticMethods_determineIOSBrowser$self$$.$Oa$ || $missingCredential$$ || $missingSafariExtension_osVersion$$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$ab$ ? $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = 
  "ReactNative" : $missingCredential$$ ? ($JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$l$ = 7, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{5a39f60}")) : ($JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = "Unknown", $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$l$ = 5, $module$exports$rtcutils_core$output$logger$Log$$.d("{3c72abb}", "{147d6b4}")) : $JSCompiler_StaticMethods_determineIOSBrowser$self$$.$h$ = 
  "Safari";
}
function $JSCompiler_StaticMethods_setTelemetryHandler$$($name$jscomp$74_telemetry$$) {
  var $JSCompiler_StaticMethods_setTelemetryHandler$self$$ = $module$contents$rtcutils_core$output$platform_platformImplSingleton$$, $_a$jscomp$15_data$jscomp$85$$;
  null === ($_a$jscomp$15_data$jscomp$85$$ = $JSCompiler_StaticMethods_setTelemetryHandler$self$$.$m$) || void 0 === $_a$jscomp$15_data$jscomp$85$$ ? void 0 : $_a$jscomp$15_data$jscomp$85$$.$emitDebugEvent$("TelemetryHandlerChanged");
  $JSCompiler_StaticMethods_setTelemetryHandler$self$$.$m$ = $name$jscomp$74_telemetry$$;
  for (const $queuedEvent$$ of $JSCompiler_StaticMethods_setTelemetryHandler$self$$.$A$) {
    switch($name$jscomp$74_telemetry$$ = $queuedEvent$$.name, $_a$jscomp$15_data$jscomp$85$$ = $queuedEvent$$.data, $queuedEvent$$.type) {
      case "ErrorEvent":
        $JSCompiler_StaticMethods_emitWorkerErrorTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$, $_a$jscomp$15_data$jscomp$85$$);
        break;
      case "MessageEvent":
        $JSCompiler_StaticMethods_emitWorkerMessageErrorTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$, $_a$jscomp$15_data$jscomp$85$$);
        break;
      case "WorkerUnused":
        $JSCompiler_StaticMethods_emitWorkerUnusedTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$);
        break;
      case "WorkerTimeout":
        $JSCompiler_StaticMethods_emitWorkerTimeoutTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$);
        break;
      case "WorkerCreateFailure":
        $JSCompiler_StaticMethods_emitWorkerCreationErrorTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$, $_a$jscomp$15_data$jscomp$85$$);
        break;
      case "ErrorString":
        $JSCompiler_StaticMethods_emitWorkerErrorStringTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$, $_a$jscomp$15_data$jscomp$85$$);
        break;
      case "WorkerOverlongDelay":
        $JSCompiler_StaticMethods_emitWorkerOverlongTelemetry$$($JSCompiler_StaticMethods_setTelemetryHandler$self$$, $name$jscomp$74_telemetry$$, $_a$jscomp$15_data$jscomp$85$$);
    }
  }
  $JSCompiler_StaticMethods_setTelemetryHandler$self$$.$A$ = [];
}
class $module$contents$rtcutils_core$output$platform_Platform$$ {
  constructor() {
    this.$Sa$ = this.start = 0;
    this.$Qa$ = this.$Yb$ = this.$B$ = this.$M$ = this.$ta$ = this.$Zb$ = this.$wa$ = this.$ua$ = this.$va$ = !1;
    this.$Xb$ = !0;
    this.$Na$ = this.$sb$ = this.$Ma$ = this.$tb$ = this.$rb$ = this.$Ra$ = this.$ba$ = this.$u$ = this.$s$ = this.$aa$ = this.$Va$ = this.$Ja$ = this.$Ia$ = this.$La$ = this.$Ka$ = this.$Pb$ = this.$Vb$ = this.$Eb$ = this.$wb$ = this.$Jb$ = this.$Rb$ = this.$Tb$ = this.$xb$ = this.$Kb$ = this.$Wb$ = this.$Fb$ = this.$Nb$ = this.$Db$ = this.$Sb$ = this.$Cb$ = this.$Gb$ = this.$Oa$ = this.$Mb$ = this.$sa$ = this.$yb$ = this.$vb$ = this.$Ib$ = this.$Ob$ = this.$Lb$ = this.$Bb$ = this.$Ub$ = this.$Qb$ = 
    this.$Hb$ = this.$Ab$ = this.$zb$ = this.$Pa$ = this.$lb$ = this.$H$ = this.$kb$ = this.$da$ = this.$R$ = this.$S$ = this.$I$ = this.$F$ = this.$J$ = this.$jb$ = this.$gb$ = this.$ib$ = this.$eb$ = this.$cb$ = this.$fb$ = this.$P$ = this.$Fa$ = this.$oa$ = this.$D$ = this.$T$ = this.$Ga$ = this.$Wa$ = this.$N$ = this.$Aa$ = this.$ja$ = this.$za$ = this.$ia$ = this.$qb$ = this.$pb$ = this.$ob$ = this.$mb$ = this.$pa$ = this.$nb$ = this.$U$ = this.$ea$ = this.$K$ = this.$Ha$ = this.$W$ = this.$qa$ = 
    this.$V$ = this.$ab$ = this.$ma$ = this.$na$ = this.$ka$ = this.$Ea$ = this.$$a$ = this.$Za$ = this.$Ya$ = this.$Da$ = this.$la$ = this.$Ba$ = this.$ca$ = this.$bb$ = this.$Ca$ = this.$Xa$ = this.$$b$ = !1;
    this.$ub$ = this.$Ua$ = this.$fa$ = this.$ra$ = this.$ha$ = this.$$$ = this.$L$ = 0;
    this.$platformDetails$ = {os:"Unknown", osRawVer:"0", osVer:"0", browser:"Unknown", browserVer:"0", browserFullVer:"0", forging:!0, spoofing:!0, confidence:0, totalTime:0, vendor:""};
    this.$A$ = [];
  }
}
class $module$contents$rtcutils_core$output$platform_GLWorker$$ {
  $doWork$() {
    const $glCtx$jscomp$inline_1154$$ = (self.OffscreenCanvas ? new OffscreenCanvas(1, 1) : document.createElement("canvas")).getContext("webgl"), $glDbgExt$jscomp$inline_1155$$ = $glCtx$jscomp$inline_1154$$ && $glCtx$jscomp$inline_1154$$.getExtension("WEBGL_debug_renderer_info");
    return $glDbgExt$jscomp$inline_1155$$ ? {$vendorName$:$glCtx$jscomp$inline_1154$$ && $glCtx$jscomp$inline_1154$$.getParameter($glDbgExt$jscomp$inline_1155$$.UNMASKED_VENDOR_WEBGL), $rendererName$:$glCtx$jscomp$inline_1154$$ && $glCtx$jscomp$inline_1154$$.getParameter($glDbgExt$jscomp$inline_1155$$.UNMASKED_RENDERER_WEBGL), $present$:!0} : {$vendorName$:"", $rendererName$:"", $present$:!1};
  }
}
class $module$contents$rtcutils_core$output$platform_HighEntropyWorker$$ {
  $doWork$() {
    const $uad$jscomp$1$$ = navigator.userAgentData;
    return $uad$jscomp$1$$ ? $uad$jscomp$1$$.getHighEntropyValues("platform architecture uaFullVersion platformVersion model bitness".split(" ")).then($heValues$jscomp$3$$ => {
      $heValues$jscomp$3$$ || ($heValues$jscomp$3$$ = {});
      $heValues$jscomp$3$$.brands || ($heValues$jscomp$3$$.brands = $uad$jscomp$1$$.brands);
      $heValues$jscomp$3$$.mobile || ($heValues$jscomp$3$$.mobile = $uad$jscomp$1$$.mobile);
      return $heValues$jscomp$3$$;
    }) : Promise.resolve(void 0);
  }
}
class $module$contents$rtcutils_core$output$platform_SmartTVWorker$$ {
  $doWork$() {
    let $smartTvInfo$$ = {$isKnownTVDevice$:!1, $modelName$:"", $vendorName$:""};
    if (navigator.userAgent) {
      var $matches$jscomp$2_uaString$jscomp$2$$ = navigator.userAgent.toUpperCase();
      const $knownTvUAModels$$ = "BRAVIA TIZEN PHILIPSTV GOOGLETV CRKEY CHROMECAST SHIELDTV".split(" "), $knownTvVendors$$ = "SONY SAMSUNG PHILIPS GOOGLE GOOGLE GOOGLE NVIDIA".split(" ");
      if (RegExp("BRAVIA|SMARTTV|SMART-TV|PHILIPSTV|GOOGLETV|CRKEY|CHROMECAST|SHIELD Android TV", "i").test($matches$jscomp$2_uaString$jscomp$2$$) && ($smartTvInfo$$.$isKnownTVDevice$ = !0, $matches$jscomp$2_uaString$jscomp$2$$ = $matches$jscomp$2_uaString$jscomp$2$$.match($knownTvUAModels$$.join("|")))) {
        for (let $i$jscomp$6$$ = 0; $i$jscomp$6$$ < $knownTvUAModels$$.length; $i$jscomp$6$$++) {
          $matches$jscomp$2_uaString$jscomp$2$$[0] == $knownTvUAModels$$[$i$jscomp$6$$] && ($smartTvInfo$$.$modelName$ = $knownTvUAModels$$[$i$jscomp$6$$], $smartTvInfo$$.$vendorName$ = $knownTvVendors$$[$i$jscomp$6$$], "CRKEY" == $matches$jscomp$2_uaString$jscomp$2$$[0] && ($smartTvInfo$$.$modelName$ = "CHROMECAST"));
        }
      }
    }
    return Promise.resolve($smartTvInfo$$);
  }
}
class $module$contents$rtcutils_core$output$platform_NavigatorPlatformWorker$$ {
  $doWork$() {
    return {platform:navigator.platform};
  }
}
const $module$contents$rtcutils_core$output$platform_platformImplSingleton$$ = new $module$contents$rtcutils_core$output$platform_Platform$$();
var $module$exports$rtcutils_core$output$logqueueingeventemitter$LogQueueingEventEmitter$$ = class extends $module$exports$rtcutils_core$output$eventemitter$EventEmitter$$ {
  constructor($emitSynchronously$jscomp$1$$) {
    super($emitSynchronously$jscomp$1$$);
    this.$J$ = [];
  }
  $N$($logEvent$$) {
    this.hasListener("Log") ? this.emit("Log", $logEvent$$) : this.$J$.push($logEvent$$);
  }
  addListener($eventname$jscomp$16$$, $handler$jscomp$11$$) {
    super.addListener($eventname$jscomp$16$$, $handler$jscomp$11$$);
    if ("Log" == $eventname$jscomp$16$$ && 0 < this.$J$.length) {
      for (const $logevent$jscomp$5$$ of this.$J$) {
        this.emit("Log", $logevent$jscomp$5$$);
      }
      this.$J$ = [];
    }
  }
};
function $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceType$$($platformDeviceType$$) {
  switch($platformDeviceType$$) {
    case "CONSOLE":
      return "Console";
    case "TABLET":
      return "Tablet";
    case "PHONE":
      return "Phone";
    case "TV":
      return "TV";
    case "LAPTOP":
      return "Laptop";
    case "DESKTOP":
      return "Desktop";
    default:
      return "undefined";
  }
}
function $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedBrowserName$$($browserName$$) {
  switch($browserName$$) {
    case "Chrome":
      return "Chrome";
    case "Safari":
      return "Safari";
    case "Yandex":
      return "Yandex";
    case "Edge":
      return "Edge";
    case "Edge_Legacy":
      return "Edge_legacy";
    case "Firefox":
      return "Firefox";
    case "Samsung":
      return "Samsung";
    case "Chromium":
      return "Chromium";
    case "Opera":
      return "Opera";
    case "Brave":
      return "Brave";
    case "Silk":
      return "Silk";
    default:
      return "undefined";
  }
}
function $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceOS$$($platformOS$$) {
  switch($platformOS$$) {
    case "Windows":
      return "Windows";
    case "macOS":
      return "MacOS";
    case "ChromeOS":
      return "ChromeOS";
    case "Linux":
      return "Linux";
    case "iOS":
      return "iOS";
    case "iPadOS":
      return "iPadOS";
    case "Tizen":
      return "Tizen";
    case "WebOS":
      return "WebOS";
    case "Xbox":
      return "Xbox";
    case "Android":
      return "Android";
    case "SteamOS":
      return "SteamOS";
    default:
      return "undefined";
  }
}
class $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$$ {
  constructor($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$) {
    $details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$ = this.$g$ = $details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$;
    this.$j$ = {os:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceOS$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.os), browser:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedBrowserName$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.browser), deviceType:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceType$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.deviceType)};
    $details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$ = this.$g$;
    this.$l$ = {os:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$mapOSPlatformNameToSupportedDeviceOs$$($module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceOS$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.os)), browser:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$extractBrowserTypeForBrowserClient$$($module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedBrowserName$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.browser)), 
    deviceType:$module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$extractDeviceTypeForBrowserClient$$($module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$getMappedDeviceType$$($details$jscomp$1_details$jscomp$inline_208_details$jscomp$inline_211$$.deviceType))};
  }
  get $m$() {
    return this.$j$;
  }
  get $o$() {
    return this.$l$;
  }
  get $h$() {
    return this.$g$;
  }
}
var $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$mapOSPlatformNameToSupportedDeviceOs$$ = $osPlatformName$$ => {
  switch($osPlatformName$$) {
    case "Windows":
      return "WINDOWS";
    case "MacOS":
      return "MACOS";
    case "Linux":
      return "LINUX";
    case "ChromeOS":
      return "CHROMEOS";
    case "iOS":
      return "IOS";
    case "iPadOS":
      return "IPADOS";
    case "WebOS":
      return "WEBOS";
    case "Tizen":
      return "TIZEN";
    case "Xbox":
      return "XBOX";
    case "Android":
      return "ANDROID";
    case "SteamOS":
      return "STEAMOS";
    case "Shield":
      return "SHIELD";
    default:
      return "UNKNOWN";
  }
}, $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$extractDeviceTypeForBrowserClient$$ = $deviceTypeFromPlatfromAPI$$ => {
  switch($deviceTypeFromPlatfromAPI$$) {
    case "Desktop":
      return "DESKTOP";
    case "Laptop":
      return "LAPTOP";
    case "TV":
      return "TV";
    case "Phone":
      return "PHONE";
    case "Tablet":
      return "TABLET";
    case "Console":
      return "CONSOLE";
    default:
      return "DESKTOP";
  }
}, $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$extractBrowserTypeForBrowserClient$$ = $browserName$jscomp$1$$ => {
  switch($browserName$jscomp$1$$) {
    case "Chrome":
      return "CHROME";
    case "Safari":
      return "SAFARI";
    case "Yandex":
      return "YANDEX";
    case "Edge":
      return "EDGE";
    case "Edge_legacy":
      return "EDGE_LEGACY";
    case "Firefox":
      return "FIREFOX";
    case "Samsung":
      return "SAMSUNG";
    case "Chromium":
      return "CHROMIUM";
    case "Opera":
      return "OPERA";
    case "Brave":
      return "BRAVE";
    case "Silk":
      return "SILK";
    case "undefined":
      return "UNKNOWN";
    default:
      return "UNKNOWN";
  }
};
let $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$;
window.RtcUtils = window.RtcUtils || {};
var $module$exports$gridserver_core$output$settings$GridServerSettings$$ = {$commonConfig$:{}, $remoteOverrideInfo$:{type:"UNKNOWN", version:""}, $loggingEnabled$:!0, $consoleLoggingEnabled$:!1, $webSocketSignaling$:!0, $webRtcStreamer$:!1};
function $module$contents$gridserver_core$output$settings_ConfigureGridServerSettings$$($data$jscomp$89_getSettingBool$jscomp$1$$) {
  var $_b$jscomp$9$$, $_c$jscomp$3$$, $_d$jscomp$3$$, $_e$jscomp$2$$, $_f$jscomp$2$$;
  $module$exports$rtcutils_core$output$logger$Log$$.i("{27b0dc4}", "{539b3db}", JSON.stringify($data$jscomp$89_getSettingBool$jscomp$1$$));
  $module$contents$rtcutils_core$output$settings_ConfigureRtcUtilsSettings$$($data$jscomp$89_getSettingBool$jscomp$1$$);
  if ($data$jscomp$89_getSettingBool$jscomp$1$$.gxtOverrideData) {
    var $_a$jscomp$17_configData$$ = JSON.parse($data$jscomp$89_getSettingBool$jscomp$1$$.gxtOverrideData);
    if ($_a$jscomp$17_configData$$.params) {
      for (const $element$jscomp$8$$ of $_a$jscomp$17_configData$$.params) {
        "pmCommunication" === $element$jscomp$8$$.name && ($module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication = $element$jscomp$8$$.value, $module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$ = {type:"GXT", version:$element$jscomp$8$$.version});
      }
    }
  } else {
    $data$jscomp$89_getSettingBool$jscomp$1$$.remoteConfigData && $data$jscomp$89_getSettingBool$jscomp$1$$.remoteConfigData.common && ($module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$ = JSON.parse($data$jscomp$89_getSettingBool$jscomp$1$$.remoteConfigData.common), $module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$ = {type:"RCONFIG", version:null !== ($_a$jscomp$17_configData$$ = $data$jscomp$89_getSettingBool$jscomp$1$$.remoteConfigData.version) && 
    void 0 !== $_a$jscomp$17_configData$$ ? $_a$jscomp$17_configData$$ : ""});
  }
  if ($data$jscomp$89_getSettingBool$jscomp$1$$.overrideData) {
    const $settingsMap$jscomp$1$$ = new URLSearchParams($data$jscomp$89_getSettingBool$jscomp$1$$.overrideData.toLowerCase());
    "lean" === $settingsMap$jscomp$1$$.get("mode") && ($module$exports$gridserver_core$output$settings$GridServerSettings$$.$loggingEnabled$ = !1);
    $data$jscomp$89_getSettingBool$jscomp$1$$ = $key$jscomp$41_value$jscomp$97$$ => {
      $key$jscomp$41_value$jscomp$97$$ = $settingsMap$jscomp$1$$.get($key$jscomp$41_value$jscomp$97$$);
      return $module$contents$rtcutils_core$output$settings_toBool$$($key$jscomp$41_value$jscomp$97$$);
    };
    $module$exports$gridserver_core$output$settings$GridServerSettings$$.$loggingEnabled$ = null !== ($_b$jscomp$9$$ = $data$jscomp$89_getSettingBool$jscomp$1$$("log")) && void 0 !== $_b$jscomp$9$$ ? $_b$jscomp$9$$ : $module$exports$gridserver_core$output$settings$GridServerSettings$$.$loggingEnabled$;
    $module$exports$gridserver_core$output$settings$GridServerSettings$$.$consoleLoggingEnabled$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$loggingEnabled$ && (null !== ($_c$jscomp$3$$ = $data$jscomp$89_getSettingBool$jscomp$1$$("console")) && void 0 !== $_c$jscomp$3$$ ? $_c$jscomp$3$$ : $module$exports$gridserver_core$output$settings$GridServerSettings$$.$consoleLoggingEnabled$);
    $module$exports$gridserver_core$output$settings$GridServerSettings$$.$webSocketSignaling$ = null !== ($_d$jscomp$3$$ = $data$jscomp$89_getSettingBool$jscomp$1$$("websocketsignaling")) && void 0 !== $_d$jscomp$3$$ ? $_d$jscomp$3$$ : $module$exports$gridserver_core$output$settings$GridServerSettings$$.$webSocketSignaling$;
    $module$exports$gridserver_core$output$settings$GridServerSettings$$.$webRtcStreamer$ = null !== ($_e$jscomp$2$$ = $data$jscomp$89_getSettingBool$jscomp$1$$("webrtcstreamer")) && void 0 !== $_e$jscomp$2$$ ? $_e$jscomp$2$$ : $module$exports$gridserver_core$output$settings$GridServerSettings$$.$webRtcStreamer$;
    $module$exports$gridserver_core$output$settings$GridServerSettings$$.hdr = null !== ($_f$jscomp$2$$ = $data$jscomp$89_getSettingBool$jscomp$1$$("hdr")) && void 0 !== $_f$jscomp$2$$ ? $_f$jscomp$2$$ : $module$exports$gridserver_core$output$settings$GridServerSettings$$.hdr;
  }
}
;var $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ = class {
  constructor($info$$) {
    this.name = "";
    this.gdprLevel = "behavioral";
    this.parameters = $info$$;
    this.ts = (new Date()).toISOString();
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GridServer_GameLaunch_RequestDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$1$$) {
    super($info$jscomp$1$$);
    this.name = "GridServer_GameLaunch_Request";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_FeatureDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$2$$) {
    super($info$jscomp$2$$);
    this.name = "GS_Feature";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_SystemAPICallResultDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$3$$) {
    super($info$jscomp$3$$);
    this.name = "GS_SystemAPICallResult";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_DebugInfoDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$4$$) {
    super($info$jscomp$4$$);
    this.name = "GS_DebugInfo";
    this.gdprLevel = "technical";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ExceptionInfoDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$5$$) {
    super($info$jscomp$5$$);
    this.name = "GS_ExceptionInfo";
    this.gdprLevel = "technical";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ClientMetricEventDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$6$$) {
    super($info$jscomp$6$$);
    this.name = "GS_ClientMetricEvent";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ConnectivityCheckDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$7$$) {
    super($info$jscomp$7$$);
    this.name = "GS_ConnectivityCheck";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_Sleep_EventDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$8$$) {
    super($info$jscomp$8$$);
    this.name = "GS_Sleep_Event";
    this.gdprLevel = "technical";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_HttpCallResultDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$9$$) {
    super($info$jscomp$9$$);
    this.name = "GS_HttpCallResult";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_PropertyChange_EventDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$10$$) {
    super($info$jscomp$10$$);
    this.name = "GS_PropertyChange_Event";
    this.gdprLevel = "functional";
  }
}, $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_CodecError_EventDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$11$$) {
    super($info$jscomp$11$$);
    this.name = "GS_CodecError_Event";
    this.gdprLevel = "functional";
  }
};
function $JSCompiler_StaticMethods_emitEvent$$($JSCompiler_StaticMethods_emitEvent$self$$, $event$jscomp$11$$) {
  $JSCompiler_StaticMethods_emitEvent$self$$.$g$.emit("TelemetryEvent", {name:$event$jscomp$11$$.name, parameters:$event$jscomp$11$$.parameters, gdprLevel:$event$jscomp$11$$.gdprLevel, ts:$event$jscomp$11$$.ts, clientConfig:$JSCompiler_StaticMethods_emitEvent$self$$.$l$});
}
function $JSCompiler_StaticMethods_getTelemetryHttpEvent$$($JSCompiler_StaticMethods_getTelemetryHttpEvent$self$$, $url$jscomp$26$$, $verb$$, $sessionId$jscomp$14$$) {
  return {url:$url$jscomp$26$$, verb:$verb$$, statusCode:"0", requestStatusCode:"", sessionId:null !== $sessionId$jscomp$14$$ && void 0 !== $sessionId$jscomp$14$$ ? $sessionId$jscomp$14$$ : "", subSessionId:$JSCompiler_StaticMethods_getTelemetryHttpEvent$self$$.subSessionId, requestId:"", serverId:"", callDuration:0};
}
function $JSCompiler_StaticMethods_getGameLaunchRequestEvent$$($JSCompiler_StaticMethods_getGameLaunchRequestEvent$self$$, $serverAddress$$, $isResume$$, $networkSessionId$$, $sessionId$jscomp$15$$) {
  return {requestedZoneAddress:$serverAddress$$, zoneName:"", networkSessionId:null !== $networkSessionId$$ && void 0 !== $networkSessionId$$ ? $networkSessionId$$ : "", sessionId:null !== $sessionId$jscomp$15$$ && void 0 !== $sessionId$jscomp$15$$ ? $sessionId$jscomp$15$$ : "", subSessionId:"", resumeType:$isResume$$ ? "MANUAL" : "NONE", overrideConfigType:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.type, overrideConfigVersion:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.version, 
  result:"", codec:"UNKNOWN", ipVersion:"UNKNOWN", launchDuration:0, networkType:$JSCompiler_StaticMethods_getGameLaunchRequestEvent$self$$.networkType, streamingProfileGuid:"", systemInfoGuid:"", cmsId:String($JSCompiler_StaticMethods_getGameLaunchRequestEvent$self$$.cmsId)};
}
function $JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$$($JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$self$$, $event$jscomp$12_httpEvent$$) {
  $JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$self$$.$g$.hasListener("TelemetryEvent") && ($event$jscomp$12_httpEvent$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_HttpCallResultDef$$({callDuration:$event$jscomp$12_httpEvent$$.callDuration, verb:$event$jscomp$12_httpEvent$$.verb, sessionId:$event$jscomp$12_httpEvent$$.sessionId, subSessionId:$event$jscomp$12_httpEvent$$.subSessionId, serverId:$event$jscomp$12_httpEvent$$.serverId, url:$event$jscomp$12_httpEvent$$.url, 
  overrideConfigType:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.type, overrideConfigVersion:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.version, requestStatusCode:$event$jscomp$12_httpEvent$$.requestStatusCode, requestId:$event$jscomp$12_httpEvent$$.requestId, networkType:$JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$self$$.networkType, statusCode:$event$jscomp$12_httpEvent$$.statusCode, cmsId:String($JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$self$$.cmsId), 
  moduleName:"GRID_SERVER"}), $JSCompiler_StaticMethods_emitEvent$$($JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$self$$, $event$jscomp$12_httpEvent$$));
}
function $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$$($JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$, $event$jscomp$13_eventData$$) {
  var $_a$jscomp$18$$, $_b$jscomp$10$$;
  $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$.$g$.hasListener("TelemetryEvent") && ($event$jscomp$13_eventData$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GridServer_GameLaunch_RequestDef$$($event$jscomp$13_eventData$$), $event$jscomp$13_eventData$$.parameters.sessionId = $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$.sessionId, $event$jscomp$13_eventData$$.parameters.subSessionId = $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$.subSessionId, 
  $event$jscomp$13_eventData$$.parameters.systemInfoGuid = null !== ($_a$jscomp$18$$ = $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$.telemetryEventIds.systemInfoGuid) && void 0 !== $_a$jscomp$18$$ ? $_a$jscomp$18$$ : "", $event$jscomp$13_eventData$$.parameters.streamingProfileGuid = null !== ($_b$jscomp$10$$ = $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$.telemetryEventIds.streamingProfileGuid) && void 0 !== $_b$jscomp$10$$ ? $_b$jscomp$10$$ : "", $JSCompiler_StaticMethods_emitEvent$$($JSCompiler_StaticMethods_emitGameLaunchRequestEvent$self$$, 
  $event$jscomp$13_eventData$$));
}
function $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$, $error$jscomp$8_event$jscomp$15$$, $msg$jscomp$9$$) {
  var $category$$, $_a$jscomp$19$$;
  if (50 <= $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.$j$) {
    var $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ = !1;
  } else {
    var $count$jscomp$inline_216$$ = null !== ($JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ = $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.$h$.get($msg$jscomp$9$$)) && void 0 !== $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ ? $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ : 0;
    10 <= $count$jscomp$inline_216$$ ? $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ = !1 : ($JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.$j$++, $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.$h$.set($msg$jscomp$9$$, $count$jscomp$inline_216$$ + 1), $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ = !0);
  }
  $JSCompiler_inline_result$jscomp$17__a$jscomp$inline_215$$ && (!$category$$ && $error$jscomp$8_event$jscomp$15$$ && ($category$$ = $error$jscomp$8_event$jscomp$15$$.name + ": " + $error$jscomp$8_event$jscomp$15$$.message), $error$jscomp$8_event$jscomp$15$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ExceptionInfoDef$$({filename:"gridserver.ts", lineno:0, stacktrace:null !== ($_a$jscomp$19$$ = null === $error$jscomp$8_event$jscomp$15$$ || void 0 === $error$jscomp$8_event$jscomp$15$$ ? 
  void 0 : $error$jscomp$8_event$jscomp$15$$.stack) && void 0 !== $_a$jscomp$19$$ ? $_a$jscomp$19$$ : "", colno:0, handled:"TRUE", category:null !== $category$$ && void 0 !== $category$$ ? $category$$ : "", message:$msg$jscomp$9$$, moduleName:"GRID_SERVER", sessionId:$JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.sessionId, subSessionId:$JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$.subSessionId}), $JSCompiler_StaticMethods_emitEvent$$($JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$self$$, 
  $error$jscomp$8_event$jscomp$15$$));
}
var $module$exports$gridserver_core$output$gstelemetryhandler$GsTelemetryHandler$$ = class {
  constructor($_eventEmitter$$) {
    this.networkType = "UNKNOWN";
    this.subSessionId = this.sessionId = this.cmsId = "";
    this.telemetryEventIds = {};
    this.$h$ = new Map();
    this.$j$ = 0;
    this.$l$ = {clientId:"93289439828086895", clientName:"GFN_GridServer", eventSchemaVer:"2.0"};
    this.$g$ = $_eventEmitter$$;
  }
  updateTelemetryEventIds($telemetryIds$$) {
    this.telemetryEventIds = $telemetryIds$$;
  }
  $emitDebugEvent$($event$jscomp$14_key1$jscomp$1$$, $key2$jscomp$1$$, $key3$jscomp$1$$, $key4$jscomp$1$$, $key5$jscomp$1$$) {
    this.$g$.hasListener("TelemetryEvent") && ($event$jscomp$14_key1$jscomp$1$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_DebugInfoDef$$({key1:null !== $event$jscomp$14_key1$jscomp$1$$ && void 0 !== $event$jscomp$14_key1$jscomp$1$$ ? $event$jscomp$14_key1$jscomp$1$$ : "", key2:null !== $key2$jscomp$1$$ && void 0 !== $key2$jscomp$1$$ ? $key2$jscomp$1$$ : "", key3:null !== $key3$jscomp$1$$ && void 0 !== $key3$jscomp$1$$ ? $key3$jscomp$1$$ : "", key4:null !== $key4$jscomp$1$$ && 
    void 0 !== $key4$jscomp$1$$ ? $key4$jscomp$1$$ : "", key5:null !== $key5$jscomp$1$$ && void 0 !== $key5$jscomp$1$$ ? $key5$jscomp$1$$ : "", moduleName:"GRID_SERVER", networkType:this.networkType, overrideConfigType:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.type, overrideConfigVersion:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$remoteOverrideInfo$.version, cmsId:String(this.cmsId), sessionId:this.sessionId, subSessionId:this.subSessionId}), 
    $JSCompiler_StaticMethods_emitEvent$$(this, $event$jscomp$14_key1$jscomp$1$$));
  }
  setNetworkType($network$jscomp$2$$) {
    this.networkType = $network$jscomp$2$$;
  }
};
function $module$exports$gridserver_core$output$gridserver$GridServer$convertSessionStateToString$$($status$jscomp$1$$) {
  switch($status$jscomp$1$$) {
    case 1:
      return "initializing";
    case 2:
      return "ready_for_connection";
    case 3:
      return "streaming";
    case 4:
    case 5:
      return "paused";
    case 6:
      return "resuming";
    case 7:
      return "finished";
    default:
      return "unknown";
  }
}
function $module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($code$jscomp$7$$) {
  switch($code$jscomp$7$$) {
    case 15859712:
      return "success";
    case 3237093379:
    case 3237093381:
      return "Invalid server response";
    case 3237093384:
      return "Exception";
    case 15867905:
    case 15867906:
      return "cancelled";
    case 15868417:
      return "no network";
    case 3237089282:
      return "network error";
    default:
      return "server error";
  }
}
function $JSCompiler_StaticMethods_extractSessionInformation$$($JSCompiler_StaticMethods_extractSessionInformation$self$$, $jsonSession_newServerPort$$) {
  var $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$;
  let $gridSession$$ = {sessionId:$jsonSession_newServerPort$$.sessionId, subSessionId:$jsonSession_newServerPort$$.sessionId === $JSCompiler_StaticMethods_extractSessionInformation$self$$.getSessionId() ? $JSCompiler_StaticMethods_extractSessionInformation$self$$.getSubSessionId() : "", signalConnectionInfo:{ip:"", port:0, protocol:""}, mediaConnectionInfo:[], streamInfo:[], appId:0, state:$module$exports$gridserver_core$output$gridserver$GridServer$convertSessionStateToString$$($jsonSession_newServerPort$$.status), 
  appLaunchMode:0, zoneName:"", zoneAddress:"", gpuType:"", clientLocale:null !== ($_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ = $JSCompiler_StaticMethods_extractSessionInformation$self$$.clientLocale) && void 0 !== $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ ? $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ : ""};
  $gridSession$$.appId = $jsonSession_newServerPort$$.sessionRequestData ? $jsonSession_newServerPort$$.sessionRequestData.appId : 0;
  if ($jsonSession_newServerPort$$.connectionInfo) {
    for ($gridSession$$.mediaConnectionInfo = $jsonSession_newServerPort$$.connectionInfo, $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ = 0; $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ < $gridSession$$.mediaConnectionInfo.length; $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$++) {
      var $addressParts_addressParts$jscomp$1_jconnInfo$$ = $gridSession$$.mediaConnectionInfo[$_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$];
      14 == $addressParts_addressParts$jscomp$1_jconnInfo$$.usage && $addressParts_addressParts$jscomp$1_jconnInfo$$.ip ? ($gridSession$$.signalConnectionInfo.ip = $addressParts_addressParts$jscomp$1_jconnInfo$$.ip, $gridSession$$.signalConnectionInfo.port = $addressParts_addressParts$jscomp$1_jconnInfo$$.port, $gridSession$$.signalConnectionInfo.protocol = 5 === $addressParts_addressParts$jscomp$1_jconnInfo$$.appLevelProtocol ? "https" : "http", 5 != $addressParts_addressParts$jscomp$1_jconnInfo$$.appLevelProtocol && 
      $JSCompiler_StaticMethods_extractSessionInformation$self$$.$A$ && ($gridSession$$.signalConnectionInfo.port = 49100, $gridSession$$.signalConnectionInfo.protocol = "https", $addressParts_addressParts$jscomp$1_jconnInfo$$.ip.includes(".com") || $addressParts_addressParts$jscomp$1_jconnInfo$$.ip.includes(".net") ? $gridSession$$.signalConnectionInfo.ip = $addressParts_addressParts$jscomp$1_jconnInfo$$.ip : ($addressParts_addressParts$jscomp$1_jconnInfo$$ = $addressParts_addressParts$jscomp$1_jconnInfo$$.ip.split("."), 
      $gridSession$$.signalConnectionInfo.ip = $addressParts_addressParts$jscomp$1_jconnInfo$$[0] + "-" + $addressParts_addressParts$jscomp$1_jconnInfo$$[1] + "-" + $addressParts_addressParts$jscomp$1_jconnInfo$$[2] + "-" + $addressParts_addressParts$jscomp$1_jconnInfo$$[3], $gridSession$$.signalConnectionInfo.ip += $jsonSession_newServerPort$$.sessionControlInfo.ip.substring($jsonSession_newServerPort$$.sessionControlInfo.ip.indexOf(".")), $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", 
      "{7d16374}", $gridSession$$.signalConnectionInfo.ip)))) : 2 == $addressParts_addressParts$jscomp$1_jconnInfo$$.usage && ($gridSession$$.signalConnectionInfo.port = 49100, $gridSession$$.signalConnectionInfo.protocol = "https", $addressParts_addressParts$jscomp$1_jconnInfo$$ = $addressParts_addressParts$jscomp$1_jconnInfo$$.ip.split("."), $gridSession$$.signalConnectionInfo.ip = $addressParts_addressParts$jscomp$1_jconnInfo$$[0] + "-" + $addressParts_addressParts$jscomp$1_jconnInfo$$[1] + "-" + 
      $addressParts_addressParts$jscomp$1_jconnInfo$$[2] + "-" + $addressParts_addressParts$jscomp$1_jconnInfo$$[3], $gridSession$$.signalConnectionInfo.ip += $jsonSession_newServerPort$$.sessionControlInfo.ip.substring($jsonSession_newServerPort$$.sessionControlInfo.ip.indexOf(".")), $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{cf7d7ea}", $gridSession$$.signalConnectionInfo.ip));
    }
  }
  if ($jsonSession_newServerPort$$.monitorSettings) {
    $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ = $jsonSession_newServerPort$$.monitorSettings;
    for (var $monitor_newServerIp$$ of $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$) {
      $gridSession$$.streamInfo.push({width:$monitor_newServerIp$$.widthInPixels, height:$monitor_newServerIp$$.heightInPixels, fps:$monitor_newServerIp$$.framesPerSecond, sdrHdrMode:$monitor_newServerIp$$.sdrHdrMode});
    }
  }
  $jsonSession_newServerPort$$.gpuType && ($gridSession$$.gpuType = $jsonSession_newServerPort$$.gpuType);
  if ($jsonSession_newServerPort$$.sessionRequestData) {
    switch($jsonSession_newServerPort$$.sessionRequestData.appLaunchMode) {
      case 3:
        $gridSession$$.appLaunchMode = 2;
        break;
      case 2:
        $gridSession$$.appLaunchMode = 1;
    }
  }
  $jsonSession_newServerPort$$.sessionControlInfo && ($monitor_newServerIp$$ = $jsonSession_newServerPort$$.sessionControlInfo.ip, $jsonSession_newServerPort$$ = $jsonSession_newServerPort$$.sessionControlInfo.port, $monitor_newServerIp$$ && $jsonSession_newServerPort$$ && ($JSCompiler_StaticMethods_extractSessionInformation$self$$.$j$.has($gridSession$$.sessionId) && ($_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ = $JSCompiler_StaticMethods_extractSessionInformation$self$$.$j$.get($gridSession$$.sessionId), 
  (null === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ || void 0 === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ ? void 0 : $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$.server) === $monitor_newServerIp$$ && (null === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ || void 0 === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ ? void 0 : $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$.port) === $jsonSession_newServerPort$$ || $module$exports$rtcutils_core$output$logger$Log$$.i("{6bae601}", 
  "{f09f5be}", $gridSession$$.sessionId, null === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ || void 0 === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ ? void 0 : $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$.server, null === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ || void 0 === $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$ ? void 0 : $_a$jscomp$22_currentServer_i$jscomp$7_monitorSettings$$.port, $monitor_newServerIp$$, $jsonSession_newServerPort$$)), 
  $JSCompiler_StaticMethods_extractSessionInformation$self$$.$j$.set($gridSession$$.sessionId, {server:$monitor_newServerIp$$, port:$jsonSession_newServerPort$$})), $gridSession$$.zoneAddress = $monitor_newServerIp$$, $gridSession$$.zoneName = $monitor_newServerIp$$.split(".")[0].toUpperCase());
  return $gridSession$$;
}
function $JSCompiler_StaticMethods_extractSessionList$$($JSCompiler_StaticMethods_extractSessionList$self$$, $jsonSessions$$) {
  let $sessionList$$ = [];
  $jsonSessions$$.forEach($item$jscomp$21$$ => {
    let $gridSession$jscomp$1$$ = $JSCompiler_StaticMethods_extractSessionInformation$$($JSCompiler_StaticMethods_extractSessionList$self$$, $item$jscomp$21$$);
    $sessionList$$.push({sessionId:$gridSession$jscomp$1$$.sessionId, appId:$gridSession$jscomp$1$$.appId, state:$gridSession$jscomp$1$$.state, appLaunchMode:$gridSession$jscomp$1$$.appLaunchMode});
    $item$jscomp$21$$.$sessionControlInfo$ && $JSCompiler_StaticMethods_extractSessionList$self$$.$j$.set($item$jscomp$21$$.sessionId, {server:$item$jscomp$21$$.$sessionControlInfo$.ip, port:$item$jscomp$21$$.$sessionControlInfo$.port});
  });
  return $sessionList$$;
}
function $JSCompiler_StaticMethods_addServerOperationAttributes$$($JSCompiler_StaticMethods_addServerOperationAttributes$self$$) {
  var $_a$jscomp$32$$, $_b$jscomp$15$$;
  const $span$jscomp$4$$ = _opentelemetry$api.trace.getActiveSpan();
  if ($span$jscomp$4$$) {
    var $serverOperationAttributes$$ = new Map([["component", "gridserver-core"], ["component.version", "2.0"], ["client.name", $JSCompiler_StaticMethods_addServerOperationAttributes$self$$.$h$.clientIdentification], ["client.version", $JSCompiler_StaticMethods_addServerOperationAttributes$self$$.$h$.clientVersion], ["client.os", null !== ($_a$jscomp$32$$ = $JSCompiler_StaticMethods_addServerOperationAttributes$self$$.$h$.deviceOs) && void 0 !== $_a$jscomp$32$$ ? $_a$jscomp$32$$ : ""], ["client.os.version", 
    null !== ($_b$jscomp$15$$ = $JSCompiler_StaticMethods_addServerOperationAttributes$self$$.$h$.deviceOsVer) && void 0 !== $_b$jscomp$15$$ ? $_b$jscomp$15$$ : ""]]);
    for (const [$key__tsickle_destructured_1$jscomp$1$$, $value__tsickle_destructured_2$jscomp$1$$] of $serverOperationAttributes$$) {
      $span$jscomp$4$$.setAttribute($key__tsickle_destructured_1$jscomp$1$$, $value__tsickle_destructured_2$jscomp$1$$);
    }
  }
}
async function $JSCompiler_StaticMethods_getAllActiveSessionsImpl$$($JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{1aef200}");
  if (null == $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.$h$) {
    let $result$jscomp$2$$ = {sessionList:[], error:{code:3237093383, description:"Gridserver not initialized"}};
    $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.emit("ActiveSessionsResult", $result$jscomp$2$$);
    $JSCompiler_StaticMethods_addErrorAttributes$$($result$jscomp$2$$.error);
  } else {
    await $JSCompiler_StaticMethods_performSessionRequest$$($JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$, 5, $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.protocol + $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.$h$.serverAddress + "/v2/session", "").then($err$jscomp$8_response$jscomp$5$$ => {
      var $_a$jscomp$23$$;
      let $result$jscomp$3$$ = {sessionList:null !== ($_a$jscomp$23$$ = $err$jscomp$8_response$jscomp$5$$.sessionList) && void 0 !== $_a$jscomp$23$$ ? $_a$jscomp$23$$ : []};
      15859712 != $err$jscomp$8_response$jscomp$5$$.result ? ($err$jscomp$8_response$jscomp$5$$ = {code:$err$jscomp$8_response$jscomp$5$$.result, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($err$jscomp$8_response$jscomp$5$$.result)}, $result$jscomp$3$$.error = $err$jscomp$8_response$jscomp$5$$, $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{9d2bb75}", $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$8_response$jscomp$5$$.code))) : 
      $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{081857f}");
      $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.emit("ActiveSessionsResult", $result$jscomp$3$$);
    }).catch($error$jscomp$9$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{63f9b57}", $error$jscomp$9$$.message);
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{94d55bb}", $error$jscomp$9$$, $error$jscomp$9$$.stack);
      $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.$g$, $error$jscomp$9$$, "getAllActiveSessions");
      $JSCompiler_StaticMethods_getAllActiveSessionsImpl$self$$.emit("ActiveSessionsResult", {sessionList:[], error:{code:3237093384, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$(3237093384)}});
    }), $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{a9e5439}");
  }
}
function $JSCompiler_StaticMethods_addErrorAttributes$$($error$jscomp$14$$) {
  var $_a$jscomp$33$$;
  const $span$jscomp$5$$ = _opentelemetry$api.trace.getActiveSpan();
  null === $span$jscomp$5$$ || void 0 === $span$jscomp$5$$ ? void 0 : $span$jscomp$5$$.setAttribute("error", "true");
  null === $span$jscomp$5$$ || void 0 === $span$jscomp$5$$ ? void 0 : $span$jscomp$5$$.setAttribute("error.description", null !== ($_a$jscomp$33$$ = $error$jscomp$14$$.description) && void 0 !== $_a$jscomp$33$$ ? $_a$jscomp$33$$ : "");
}
function $JSCompiler_StaticMethods_performSessionRequest$$($JSCompiler_StaticMethods_performSessionRequest$self$$, $requestType$$, $url$jscomp$32$$, $body$jscomp$3$$, $abortController$jscomp$4$$, $sessionId$jscomp$24$$) {
  var $_a$jscomp$38$$;
  const $shouldSendAnalyticsEvent$$ = $result$jscomp$5$$ => {
    if (15867905 === $result$jscomp$5$$) {
      return !1;
    }
    if (15859712 !== $result$jscomp$5$$) {
      return !0;
    }
    switch($requestType$$) {
      case 3:
        return !1;
      default:
        return !0;
    }
  };
  let $options$jscomp$58$$ = {method:(() => {
    switch($requestType$$) {
      case 0:
        return "POST";
      case 2:
        return "DELETE";
      case 1:
      case 4:
        return "PUT";
      default:
        return "GET";
    }
  })(), headers:$JSCompiler_StaticMethods_performSessionRequest$self$$.$l$.headers, body:$body$jscomp$3$$, $retryCount$:$JSCompiler_StaticMethods_performSessionRequest$self$$.$l$.$retryCount$, timeout:$JSCompiler_StaticMethods_performSessionRequest$self$$.$l$.timeout};
  if (2 === $requestType$$ || 4 === $requestType$$) {
    $options$jscomp$58$$.keepalive = !0, $JSCompiler_StaticMethods_performSessionRequest$self$$.$platformDetails$ && "Chrome" == $JSCompiler_StaticMethods_performSessionRequest$self$$.$platformDetails$.browser && !$module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$($JSCompiler_StaticMethods_performSessionRequest$self$$.$platformDetails$, 81) && ($options$jscomp$58$$.keepalive = !1);
  }
  const $startTime$jscomp$9$$ = performance.now();
  let $httpAnalyticsEvent$$ = $JSCompiler_StaticMethods_getTelemetryHttpEvent$$($JSCompiler_StaticMethods_performSessionRequest$self$$.$g$, $url$jscomp$32$$, null !== ($_a$jscomp$38$$ = $options$jscomp$58$$.method) && void 0 !== $_a$jscomp$38$$ ? $_a$jscomp$38$$ : "", $sessionId$jscomp$24$$);
  $httpAnalyticsEvent$$.statusCode = "0";
  return $module$contents$rtcutils_core$output$utils_performHttpRequest$$($url$jscomp$32$$, $options$jscomp$58$$, $JSCompiler_StaticMethods_performSessionRequest$self$$.$C$, $abortController$jscomp$4$$).then($response$jscomp$10_serverId_sessionResponse$$ => {
    var $_a$jscomp$39_responseJSON$$, $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$ = performance.now();
    $httpAnalyticsEvent$$.statusCode = String(null !== ($_a$jscomp$39_responseJSON$$ = $response$jscomp$10_serverId_sessionResponse$$.status) && void 0 !== $_a$jscomp$39_responseJSON$$ ? $_a$jscomp$39_responseJSON$$ : "0");
    $httpAnalyticsEvent$$.callDuration = Math.round($endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$ - $startTime$jscomp$9$$);
    if (!$response$jscomp$10_serverId_sessionResponse$$.data) {
      throw $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{ea40865}"), new SyntaxError("The response from server does not contain any data");
    }
    $_a$jscomp$39_responseJSON$$ = JSON.parse($response$jscomp$10_serverId_sessionResponse$$.data);
    if (!$_a$jscomp$39_responseJSON$$.requestStatus) {
      throw $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{862f264}", $module$exports$rtcutils_core$output$logger$Log$$.sanitize($response$jscomp$10_serverId_sessionResponse$$.data)), new SyntaxError("RequestStatus missing in response");
    }
    $response$jscomp$10_serverId_sessionResponse$$ = $_a$jscomp$39_responseJSON$$.requestStatus.serverId.toUpperCase();
    $httpAnalyticsEvent$$.requestId = $_a$jscomp$39_responseJSON$$.requestStatus.requestId;
    $httpAnalyticsEvent$$.serverId = $response$jscomp$10_serverId_sessionResponse$$;
    $httpAnalyticsEvent$$.requestStatusCode = String($_a$jscomp$39_responseJSON$$.requestStatus.statusDescription);
    $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$ = $_a$jscomp$39_responseJSON$$.requestStatus;
    let $result$jscomp$inline_219$$ = 3237093632;
    if ($endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$ && void 0 !== $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.statusCode) {
      let $statusCode$jscomp$inline_220$$ = $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.statusCode;
      1 == $statusCode$jscomp$inline_220$$ ? $result$jscomp$inline_219$$ = 15859712 : 0 < $statusCode$jscomp$inline_220$$ && 255 > $statusCode$jscomp$inline_220$$ && ($result$jscomp$inline_219$$ = 3237093632 + $statusCode$jscomp$inline_220$$);
      3237093636 != $result$jscomp$inline_219$$ && 3237093672 != $result$jscomp$inline_219$$ || !$endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.unifiedErrorCode || ($result$jscomp$inline_219$$ = $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.unifiedErrorCode);
    }
    $response$jscomp$10_serverId_sessionResponse$$ = {result:$result$jscomp$inline_219$$, $jsonResponse$:$_a$jscomp$39_responseJSON$$, serverId:$response$jscomp$10_serverId_sessionResponse$$};
    5 === $requestType$$ ? $response$jscomp$10_serverId_sessionResponse$$.sessionList = $JSCompiler_StaticMethods_extractSessionList$$($JSCompiler_StaticMethods_performSessionRequest$self$$, $_a$jscomp$39_responseJSON$$.sessions) : 2 !== $requestType$$ && ($endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$ = $JSCompiler_StaticMethods_extractSessionInformation$$($JSCompiler_StaticMethods_performSessionRequest$self$$, $_a$jscomp$39_responseJSON$$.session), $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.subSessionId = 
    $JSCompiler_StaticMethods_performSessionRequest$self$$.subSessionId, $httpAnalyticsEvent$$.sessionId = $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$.sessionId, $response$jscomp$10_serverId_sessionResponse$$.$session$ = $endTime$jscomp$4_gridSession$jscomp$2_requestStatus$jscomp$inline_218$$, $_a$jscomp$39_responseJSON$$.otherUserSessions && ($response$jscomp$10_serverId_sessionResponse$$.sessionList = $JSCompiler_StaticMethods_extractSessionList$$($JSCompiler_StaticMethods_performSessionRequest$self$$, 
    $_a$jscomp$39_responseJSON$$.otherUserSessions), $response$jscomp$10_serverId_sessionResponse$$.sessionList.length && $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{ba4be1c}", $response$jscomp$10_serverId_sessionResponse$$.sessionList.length)));
    $httpAnalyticsEvent$$ && $shouldSendAnalyticsEvent$$($response$jscomp$10_serverId_sessionResponse$$.result) && ($JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$$($JSCompiler_StaticMethods_performSessionRequest$self$$.$g$, $httpAnalyticsEvent$$), $httpAnalyticsEvent$$ = void 0);
    return $response$jscomp$10_serverId_sessionResponse$$;
  }).catch($code$jscomp$inline_222_err$jscomp$23$$ => {
    let $sessionResponse$jscomp$1$$ = {result:3237089282};
    const $endTime$jscomp$5$$ = performance.now();
    if ($code$jscomp$inline_222_err$jscomp$23$$.code) {
      $code$jscomp$inline_222_err$jscomp$23$$ = $code$jscomp$inline_222_err$jscomp$23$$.code;
      var $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 3237093384;
      3237089281 === $code$jscomp$inline_222_err$jscomp$23$$ ? $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 15868417 : 3237089282 === $code$jscomp$inline_222_err$jscomp$23$$ ? $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 3237089282 : 3237093377 === $code$jscomp$inline_222_err$jscomp$23$$ ? $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 3237093377 : 3237093379 === $code$jscomp$inline_222_err$jscomp$23$$ ? $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 3237093379 : 
      3237089283 === $code$jscomp$inline_222_err$jscomp$23$$ ? $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 3237089283 : 15867905 == $code$jscomp$inline_222_err$jscomp$23$$ && ($gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = 15867905);
      $sessionResponse$jscomp$1$$.result = $gsCode$jscomp$inline_223_result$jscomp$inline_226$$;
    } else {
      $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = !1;
      if ($code$jscomp$inline_222_err$jscomp$23$$ instanceof SyntaxError || $code$jscomp$inline_222_err$jscomp$23$$ instanceof TypeError && $code$jscomp$inline_222_err$jscomp$23$$.message && $code$jscomp$inline_222_err$jscomp$23$$.message.includes("Cannot read property")) {
        $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{d8979bb}", $code$jscomp$inline_222_err$jscomp$23$$.name, $code$jscomp$inline_222_err$jscomp$23$$.message);
      }
      $gsCode$jscomp$inline_223_result$jscomp$inline_226$$ ? $sessionResponse$jscomp$1$$.result = 3237093379 : ($sessionResponse$jscomp$1$$.result = 3237093384, $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{94d55bb}", $code$jscomp$inline_222_err$jscomp$23$$, $code$jscomp$inline_222_err$jscomp$23$$.stack), $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_performSessionRequest$self$$.$g$, $code$jscomp$inline_222_err$jscomp$23$$, "performSessionRequest"));
    }
    $httpAnalyticsEvent$$ && $shouldSendAnalyticsEvent$$($sessionResponse$jscomp$1$$.result) && ($httpAnalyticsEvent$$.callDuration = Math.round($endTime$jscomp$5$$ - $startTime$jscomp$9$$), $JSCompiler_StaticMethods_JSC$2450_emitHttpEvent$$($JSCompiler_StaticMethods_performSessionRequest$self$$.$g$, $httpAnalyticsEvent$$));
    $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{c29dc20}", $options$jscomp$58$$.method, $url$jscomp$32$$);
    $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{200d7ba}", $sessionResponse$jscomp$1$$.result, $module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($sessionResponse$jscomp$1$$.result));
    return $sessionResponse$jscomp$1$$;
  });
}
function $JSCompiler_StaticMethods_resetSubSessionId$$($JSCompiler_StaticMethods_resetSubSessionId$self$$, $subSessionId$jscomp$2$$, $sessionId$jscomp$17$$ = "") {
  $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{1e04fe6}", $sessionId$jscomp$17$$, $subSessionId$jscomp$2$$);
  $JSCompiler_StaticMethods_resetSubSessionId$self$$.subSessionId = $subSessionId$jscomp$2$$;
  $JSCompiler_StaticMethods_resetSubSessionId$self$$.$g$.sessionId = $sessionId$jscomp$17$$;
  var $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$ = $JSCompiler_StaticMethods_resetSubSessionId$self$$.$g$;
  $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$.subSessionId = $subSessionId$jscomp$2$$;
  $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$.$h$.clear();
  $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$.$j$ = 0;
  $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$ = $JSCompiler_StaticMethods_resetSubSessionId$self$$.$B$.get($subSessionId$jscomp$2$$);
  void 0 === $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$ || "" === $JSCompiler_StaticMethods_JSC$2450_setSubSessionId$self$jscomp$inline_231_value$jscomp$98$$ ? $JSCompiler_StaticMethods_resetSubSessionId$self$$.$B$.set($subSessionId$jscomp$2$$, $sessionId$jscomp$17$$) : $module$exports$rtcutils_core$output$logger$Log$$.w("{6bae601}", "{7dd264b}", $sessionId$jscomp$17$$);
}
function $JSCompiler_StaticMethods_putOrPostSessionImpl$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $startParams$jscomp$3$$, $sessionId$jscomp$19$$) {
  const $isResume$jscomp$1$$ = !!$sessionId$jscomp$19$$;
  $JSCompiler_StaticMethods_resetSubSessionId$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $module$contents$rtcutils_core$output$utils_getNewGuid$$(), $sessionId$jscomp$19$$);
  if (null == $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$h$) {
    return $JSCompiler_StaticMethods_addErrorAttributesAndReject$$({code:3237093383, description:"Gridserver not initialized"});
  }
  if ($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$s$) {
    return $JSCompiler_StaticMethods_addErrorAttributesAndReject$$({code:3237093382, description:"Previous PutOrPost call is still in progress"});
  }
  $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$.cmsId = $startParams$jscomp$3$$.appId;
  $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.zoneName = void 0;
  $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.zoneAddress = void 0;
  $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.gpuType = void 0;
  const $launchRequestInfo$$ = $JSCompiler_StaticMethods_getGameLaunchRequestEvent$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$, $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$h$.serverAddress, $isResume$jscomp$1$$, $startParams$jscomp$3$$.networkSessionId, $sessionId$jscomp$19$$);
  let $url$jscomp$28$$ = $JSCompiler_StaticMethods_createSessionRequestURL$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $startParams$jscomp$3$$, $sessionId$jscomp$19$$), $body$jscomp$1$$ = $JSCompiler_StaticMethods_getSessionRequestData$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $startParams$jscomp$3$$, $isResume$jscomp$1$$), $startTime$jscomp$7$$ = performance.now();
  return (new Promise(($resolve$jscomp$10$$, $reject$jscomp$8$$) => {
    const $abortController$jscomp$2$$ = new AbortController();
    $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$s$ = $abortController$jscomp$2$$;
    $JSCompiler_StaticMethods_performSessionRequest$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $isResume$jscomp$1$$ ? 1 : 0, $url$jscomp$28$$, $body$jscomp$1$$, $abortController$jscomp$2$$, $sessionId$jscomp$19$$).then($err$jscomp$11_response$jscomp$6$$ => {
      var $_a$jscomp$25$$, $_b$jscomp$12$$, $_c$jscomp$5$$, $_d$jscomp$5$$, $_e$jscomp$4$$;
      $launchRequestInfo$$.launchDuration = Math.round(performance.now() - $startTime$jscomp$7$$);
      if (null === ($_a$jscomp$25$$ = $err$jscomp$11_response$jscomp$6$$.$session$) || void 0 === $_a$jscomp$25$$ ? 0 : $_a$jscomp$25$$.sessionId) {
        $launchRequestInfo$$.sessionId = null === ($_b$jscomp$12$$ = $err$jscomp$11_response$jscomp$6$$.$session$) || void 0 === $_b$jscomp$12$$ ? void 0 : $_b$jscomp$12$$.sessionId, $sessionId$jscomp$19$$ = null === ($_c$jscomp$5$$ = $err$jscomp$11_response$jscomp$6$$.$session$) || void 0 === $_c$jscomp$5$$ ? void 0 : $_c$jscomp$5$$.sessionId;
      }
      $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.zoneName = $err$jscomp$11_response$jscomp$6$$.serverId || $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.zoneName;
      $err$jscomp$11_response$jscomp$6$$.$session$ && $JSCompiler_StaticMethods_updateSessionZoneInfo$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $err$jscomp$11_response$jscomp$6$$.$session$);
      $launchRequestInfo$$.zoneName = null !== ($_d$jscomp$5$$ = $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.zoneName) && void 0 !== $_d$jscomp$5$$ ? $_d$jscomp$5$$ : "";
      $abortController$jscomp$2$$.signal.aborted && 15867905 != $err$jscomp$11_response$jscomp$6$$.result && ($err$jscomp$11_response$jscomp$6$$.result = 15867905, $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{3ec0e11}"));
      15859712 == $err$jscomp$11_response$jscomp$6$$.result ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{30536f4}", $sessionId$jscomp$19$$), $JSCompiler_StaticMethods_resetSubSessionId$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$, $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.getSubSessionId(), $sessionId$jscomp$19$$), "ready_for_connection" == (null === ($_e$jscomp$4$$ = $err$jscomp$11_response$jscomp$6$$.$session$) || void 0 === $_e$jscomp$4$$ ? void 0 : 
      $_e$jscomp$4$$.state) ? ($launchRequestInfo$$.result = $module$contents$rtcutils_core$output$utils_GetHexString$$(15859712), $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$, $launchRequestInfo$$)) : $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$o$.set($launchRequestInfo$$.sessionId, $launchRequestInfo$$), $resolve$jscomp$10$$($err$jscomp$11_response$jscomp$6$$.$session$)) : ($err$jscomp$11_response$jscomp$6$$ = {code:$err$jscomp$11_response$jscomp$6$$.result, 
      sessionId:$sessionId$jscomp$19$$, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($err$jscomp$11_response$jscomp$6$$.result), sessionList:$err$jscomp$11_response$jscomp$6$$.sessionList}, $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{17f93f3}", $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$11_response$jscomp$6$$.code)), $launchRequestInfo$$.result = $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$11_response$jscomp$6$$.code), 
      $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$, $launchRequestInfo$$), $reject$jscomp$8$$($err$jscomp$11_response$jscomp$6$$));
    }).catch($error$jscomp$10$$ => {
      let $err$jscomp$12$$ = {code:3237093384, sessionId:$sessionId$jscomp$19$$, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$(3237093384)};
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{4318505}", $error$jscomp$10$$.message);
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{94d55bb}", $error$jscomp$10$$, $error$jscomp$10$$.stack);
      $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$, $error$jscomp$10$$, "putOrPostSession");
      $launchRequestInfo$$.result = $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$12$$.code);
      $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$$($JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$g$, $launchRequestInfo$$);
      $reject$jscomp$8$$($err$jscomp$12$$);
    });
  })).finally(() => {
    $JSCompiler_StaticMethods_putOrPostSessionImpl$self$$.$s$ = void 0;
  });
}
function $JSCompiler_StaticMethods_addErrorAttributesAndReject$$($err$jscomp$22$$) {
  $JSCompiler_StaticMethods_addErrorAttributes$$($err$jscomp$22$$);
  return Promise.reject($err$jscomp$22$$);
}
function $JSCompiler_StaticMethods_createSessionRequestURL$$($JSCompiler_StaticMethods_createSessionRequestURL$self$$, $startParams$jscomp$4$$, $sessionId$jscomp$23_url$jscomp$31$$) {
  var $_a$jscomp$36$$, $_b$jscomp$17$$;
  $sessionId$jscomp$23_url$jscomp$31$$ = $JSCompiler_StaticMethods_getUrlForSession$$($JSCompiler_StaticMethods_createSessionRequestURL$self$$, $sessionId$jscomp$23_url$jscomp$31$$);
  $JSCompiler_StaticMethods_createSessionRequestURL$self$$.clientLocale = null !== ($_a$jscomp$36$$ = $startParams$jscomp$4$$.clientLocale) && void 0 !== $_a$jscomp$36$$ ? $_a$jscomp$36$$ : "en_US";
  $sessionId$jscomp$23_url$jscomp$31$$ += "?keyboardLayout=" + (null !== ($_b$jscomp$17$$ = $startParams$jscomp$4$$.keyboardLayout) && void 0 !== $_b$jscomp$17$$ ? $_b$jscomp$17$$ : "en_US");
  return $sessionId$jscomp$23_url$jscomp$31$$ += "&languageCode=" + $JSCompiler_StaticMethods_createSessionRequestURL$self$$.clientLocale;
}
function $JSCompiler_StaticMethods_getSessionRequestData$$($JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$, $startParams$jscomp$5$$, $resume$$) {
  var $_a$jscomp$37_monitorSettings$jscomp$1$$, $_b$jscomp$18$$, $_c$jscomp$8$$, $_d$jscomp$7$$, $_e$jscomp$6$$, $_f$jscomp$5$$, $_g$jscomp$3$$, $_h$jscomp$3$$, $_j$jscomp$3$$, $_k$jscomp$3$$, $_l$jscomp$3$$, $_m$jscomp$2$$, $_o$jscomp$2$$, $_p$jscomp$2$$, $_q$jscomp$1$$, $_r$jscomp$1$$, $_s$jscomp$1$$, $_t$jscomp$1$$;
  let $appLaunchMode$$;
  switch($startParams$jscomp$5$$.appLaunchMode) {
    case 2:
      $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{6d5cf87}");
      $appLaunchMode$$ = 3;
      break;
    case 1:
      $appLaunchMode$$ = 2;
      break;
    default:
      $appLaunchMode$$ = 1;
  }
  let $sdrHdrMode$$ = null !== ($_c$jscomp$8$$ = null === ($_b$jscomp$18$$ = null === ($_a$jscomp$37_monitorSettings$jscomp$1$$ = $startParams$jscomp$5$$.monitorSettings) || void 0 === $_a$jscomp$37_monitorSettings$jscomp$1$$ ? void 0 : $_a$jscomp$37_monitorSettings$jscomp$1$$[0]) || void 0 === $_b$jscomp$18$$ ? void 0 : $_b$jscomp$18$$.sdrHdrMode) && void 0 !== $_c$jscomp$8$$ ? $_c$jscomp$8$$ : 0;
  $_a$jscomp$37_monitorSettings$jscomp$1$$ = [];
  if ($startParams$jscomp$5$$.monitorSettings) {
    $_a$jscomp$37_monitorSettings$jscomp$1$$ = $startParams$jscomp$5$$.monitorSettings;
  } else {
    for ($srd_stream$jscomp$6$$ of $startParams$jscomp$5$$.streamParams) {
      $_a$jscomp$37_monitorSettings$jscomp$1$$.push({heightInPixels:$srd_stream$jscomp$6$$.height, framesPerSecond:$srd_stream$jscomp$6$$.fps, widthInPixels:$srd_stream$jscomp$6$$.width});
    }
  }
  if ($module$exports$gridserver_core$output$settings$GridServerSettings$$.hdr) {
    $sdrHdrMode$$ = 1;
    for (const $monitorSetting$$ of $_a$jscomp$37_monitorSettings$jscomp$1$$) {
      $monitorSetting$$.sdrHdrMode = 1;
    }
  }
  var $srd_stream$jscomp$6$$ = {audioMode:2, remoteControllersBitmap:null !== ($_d$jscomp$7$$ = $startParams$jscomp$5$$.remoteControllersBitmap) && void 0 !== $_d$jscomp$7$$ ? $_d$jscomp$7$$ : 0, sdrHdrMode:$sdrHdrMode$$, networkTestSessionId:null, availableSupportedControllers:[], clientVersion:null !== ($_f$jscomp$5$$ = null === ($_e$jscomp$6$$ = $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.$h$) || void 0 === $_e$jscomp$6$$ ? void 0 : $_e$jscomp$6$$.clientVersion) && 
  void 0 !== $_f$jscomp$5$$ ? $_f$jscomp$5$$ : "0", deviceHashId:null !== ($_h$jscomp$3$$ = null === ($_g$jscomp$3$$ = $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.$h$) || void 0 === $_g$jscomp$3$$ ? void 0 : $_g$jscomp$3$$.deviceHashId) && void 0 !== $_h$jscomp$3$$ ? $_h$jscomp$3$$ : "unknown", internalTitle:null, clientPlatformName:null !== ($_k$jscomp$3$$ = null === ($_j$jscomp$3$$ = $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.$h$) || 
  void 0 === $_j$jscomp$3$$ ? void 0 : $_j$jscomp$3$$.clientPlatformName) && void 0 !== $_k$jscomp$3$$ ? $_k$jscomp$3$$ : "unknown", metaData:[{key:"SubSessionId", value:$JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.getSubSessionId()}, {key:"wssignaling", value:$module$exports$gridserver_core$output$settings$GridServerSettings$$.$webSocketSignaling$ ? "1" : "0"}], surroundAudioInfo:0, clientTimezoneOffset:null !== ($_l$jscomp$3$$ = $startParams$jscomp$5$$.clientTimeZoneOffset) && 
  void 0 !== $_l$jscomp$3$$ ? $_l$jscomp$3$$ : -6E4 * (new Date()).getTimezoneOffset(), clientIdentification:null !== ($_o$jscomp$2$$ = null === ($_m$jscomp$2$$ = $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.$h$) || void 0 === $_m$jscomp$2$$ ? void 0 : $_m$jscomp$2$$.clientIdentification) && void 0 !== $_o$jscomp$2$$ ? $_o$jscomp$2$$ : "unknown", parentSessionId:null, appId:$startParams$jscomp$5$$.appId, streamerVersion:1, clientRequestMonitorSettings:$_a$jscomp$37_monitorSettings$jscomp$1$$, 
  appLaunchMode:$appLaunchMode$$, sdkVersion:"1.0", enchancedStreamMode:1, useOps:!0, clientDisplayHdrCapabilities:null, accountLinked:null !== ($_p$jscomp$2$$ = $startParams$jscomp$5$$.accountLinked) && void 0 !== $_p$jscomp$2$$ ? $_p$jscomp$2$$ : !1, partnerCustomData:null !== ($_q$jscomp$1$$ = $startParams$jscomp$5$$.partnerCustomData) && void 0 !== $_q$jscomp$1$$ ? $_q$jscomp$1$$ : "", enablePersistingInGameSettings:null !== ($_r$jscomp$1$$ = $startParams$jscomp$5$$.enablePersistingInGameSettings) && 
  void 0 !== $_r$jscomp$1$$ ? $_r$jscomp$1$$ : !1, secureRTSPSupported:!1, userAge:null !== ($_s$jscomp$1$$ = $startParams$jscomp$5$$.userAge) && void 0 !== $_s$jscomp$1$$ ? $_s$jscomp$1$$ : 0};
  void 0 !== $startParams$jscomp$5$$.requestedAudioFormat && ($srd_stream$jscomp$6$$.requestedAudioFormat = $startParams$jscomp$5$$.requestedAudioFormat);
  $module$exports$gridserver_core$output$settings$GridServerSettings$$.$webRtcStreamer$ || "browser" === (null === ($_t$jscomp$1$$ = $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$.$h$) || void 0 === $_t$jscomp$1$$ ? void 0 : $_t$jscomp$1$$.clientPlatformName) ? $srd_stream$jscomp$6$$.metaData.push({key:"GSStreamerType", value:"WebRTC"}) : $srd_stream$jscomp$6$$.secureRTSPSupported = !0;
  for (const $key$jscomp$44$$ in $startParams$jscomp$5$$.metaData) {
    $srd_stream$jscomp$6$$.metaData.push({key:$key$jscomp$44$$, value:$startParams$jscomp$5$$.metaData[$key$jscomp$44$$]});
  }
  $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$ = {sessionRequestData:$srd_stream$jscomp$6$$};
  $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$ = $resume$$ ? JSON.stringify({action:2, data:"RESUME", sessionRequestData:$srd_stream$jscomp$6$$, metaData:[]}) : JSON.stringify($JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$);
  $module$exports$rtcutils_core$output$logger$Log$$.i("{6bae601}", "{c6c3ed4}", $resume$$ ? "PUT" : "POST", $module$exports$rtcutils_core$output$logger$Log$$.sanitize($JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$));
  return $JSCompiler_StaticMethods_getSessionRequestData$self_body$jscomp$2_sessionRequestObj$$;
}
function $JSCompiler_StaticMethods_updateSessionZoneInfo$$($JSCompiler_StaticMethods_updateSessionZoneInfo$self$$, $session$jscomp$2$$) {
  $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.zoneAddress = $session$jscomp$2$$.zoneAddress || $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.zoneAddress;
  $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.zoneName = $session$jscomp$2$$.zoneName || $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.zoneName;
  $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.gpuType = $session$jscomp$2$$.gpuType || $JSCompiler_StaticMethods_updateSessionZoneInfo$self$$.gpuType;
}
function $JSCompiler_StaticMethods_getSessionImpl$$($JSCompiler_StaticMethods_getSessionImpl$self$$, $_sessionId$jscomp$3$$, $isPoll$jscomp$3$$) {
  var $_a$jscomp$26$$;
  if (null == $JSCompiler_StaticMethods_getSessionImpl$self$$.$h$) {
    return $JSCompiler_StaticMethods_addErrorAttributesAndReject$$({code:3237093383, description:"Gridserver not initialized"});
  }
  let $seatSetupStep$$ = 0, $launchRequestInfo$jscomp$1$$ = $JSCompiler_StaticMethods_getSessionImpl$self$$.$o$.get($_sessionId$jscomp$3$$);
  if ($isPoll$jscomp$3$$ && !$launchRequestInfo$jscomp$1$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{bb9b2e3}", $_sessionId$jscomp$3$$);
    if ($JSCompiler_StaticMethods_getSessionImpl$self$$.$j$.has($_sessionId$jscomp$3$$)) {
      var $serverAddress$jscomp$1_sessionControlInfo$$ = $JSCompiler_StaticMethods_getSessionImpl$self$$.$j$.get($_sessionId$jscomp$3$$);
      $serverAddress$jscomp$1_sessionControlInfo$$ = null !== ($_a$jscomp$26$$ = null === $serverAddress$jscomp$1_sessionControlInfo$$ || void 0 === $serverAddress$jscomp$1_sessionControlInfo$$ ? void 0 : $serverAddress$jscomp$1_sessionControlInfo$$.server) && void 0 !== $_a$jscomp$26$$ ? $_a$jscomp$26$$ : "";
    } else {
      $serverAddress$jscomp$1_sessionControlInfo$$ = $JSCompiler_StaticMethods_getSessionImpl$self$$.$h$.serverAddress;
    }
    $launchRequestInfo$jscomp$1$$ = $JSCompiler_StaticMethods_getGameLaunchRequestEvent$$($JSCompiler_StaticMethods_getSessionImpl$self$$.$g$, $serverAddress$jscomp$1_sessionControlInfo$$, !1, $JSCompiler_StaticMethods_getSessionImpl$self$$.$o$.size.toString(), $_sessionId$jscomp$3$$);
  }
  const $abortController$jscomp$3$$ = new AbortController();
  $JSCompiler_StaticMethods_getSessionImpl$self$$.$v$ = $abortController$jscomp$3$$;
  let $startTime$jscomp$8$$ = performance.now();
  return (new Promise(($resolve$jscomp$11$$, $reject$jscomp$9$$) => {
    const $sendLaunchRequestInfo$$ = $code$jscomp$5$$ => {
      $launchRequestInfo$jscomp$1$$.result = $module$contents$rtcutils_core$output$utils_GetHexString$$($code$jscomp$5$$);
      $launchRequestInfo$jscomp$1$$.launchDuration += Math.round(performance.now() - $startTime$jscomp$8$$);
      $JSCompiler_StaticMethods_emitGameLaunchRequestEvent$$($JSCompiler_StaticMethods_getSessionImpl$self$$.$g$, $launchRequestInfo$jscomp$1$$);
    }, $onSessionSetupCancelled$$ = () => {
      const $err$jscomp$14$$ = {code:1 == $seatSetupStep$$ ? 15867906 : 15867905};
      $err$jscomp$14$$.description = $module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($err$jscomp$14$$.code);
      $JSCompiler_StaticMethods_addErrorAttributes$$($err$jscomp$14$$);
      $sendLaunchRequestInfo$$($err$jscomp$14$$.code);
      $reject$jscomp$9$$($err$jscomp$14$$);
    }, $performGetSessionRequest$$ = () => {
      let $url$jscomp$29$$ = $JSCompiler_StaticMethods_getUrlForSession$$($JSCompiler_StaticMethods_getSessionImpl$self$$, $_sessionId$jscomp$3$$);
      $JSCompiler_StaticMethods_performSessionRequest$$($JSCompiler_StaticMethods_getSessionImpl$self$$, 3, $url$jscomp$29$$, "", $abortController$jscomp$3$$, $_sessionId$jscomp$3$$).then($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$ => {
        if ($isPoll$jscomp$3$$) {
          var $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$, $_b$jscomp$inline_239__state$jscomp$inline_1159$$, $_c$jscomp$inline_240$$, $_d$jscomp$inline_241$$, $_e$jscomp$inline_242$$, $_f$jscomp$inline_243$$;
          $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$ && $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$.session.seatSetupInfo.seatSetupStep && ($seatSetupStep$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$.session.seatSetupInfo.seatSetupStep);
          $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$ && $JSCompiler_StaticMethods_updateSessionZoneInfo$$($JSCompiler_StaticMethods_getSessionImpl$self$$, $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$);
          if (15859712 == $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result) {
            if ($launchRequestInfo$jscomp$1$$.zoneName = null !== ($_b$jscomp$inline_239__state$jscomp$inline_1159$$ = null === ($_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) || void 0 === $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ ? 
            void 0 : $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.zoneName) && void 0 !== $_b$jscomp$inline_239__state$jscomp$inline_1159$$ ? $_b$jscomp$inline_239__state$jscomp$inline_1159$$ : $launchRequestInfo$jscomp$1$$.zoneName, "ready_for_connection" == (null === ($_c$jscomp$inline_240$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) || void 0 === $_c$jscomp$inline_240$$ ? 
            void 0 : $_c$jscomp$inline_240$$.state) || "streaming" == (null === ($_d$jscomp$inline_241$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) || void 0 === $_d$jscomp$inline_241$$ ? void 0 : $_d$jscomp$inline_241$$.state)) {
              "streaming" == $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$.state && $JSCompiler_StaticMethods_getSessionImpl$self$$.$g$.$emitDebugEvent$("InvalidSessionStateTransition", "Streaming"), $sendLaunchRequestInfo$$(15859712), $resolve$jscomp$11$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$);
            } else if ("initializing" == (null === ($_e$jscomp$inline_242$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) || void 0 === $_e$jscomp$inline_242$$ ? void 0 : $_e$jscomp$inline_242$$.state) || "resuming" == (null === ($_f$jscomp$inline_243$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) || void 0 === $_f$jscomp$inline_243$$ ? void 0 : $_f$jscomp$inline_243$$.state)) {
              $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$.session;
              $_b$jscomp$inline_239__state$jscomp$inline_1159$$ = "Configuring";
              switch($_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.seatSetupInfo.seatSetupStep) {
                case 0:
                  $_b$jscomp$inline_239__state$jscomp$inline_1159$$ = "Connecting";
                  break;
                case 1:
                  $_b$jscomp$inline_239__state$jscomp$inline_1159$$ = "InQueue";
                  $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.seatSetupInfo.queuePosition < $JSCompiler_StaticMethods_getSessionImpl$self$$.queuePosition && ($JSCompiler_StaticMethods_getSessionImpl$self$$.queuePosition = $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.seatSetupInfo.queuePosition);
                  break;
                case 5:
                  $_b$jscomp$inline_239__state$jscomp$inline_1159$$ = "PreviousSessionCleanup";
                  break;
                default:
                  $JSCompiler_StaticMethods_getSessionImpl$self$$.queuePosition = 0;
              }
              $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ = {sessionId:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.sessionId, subSessionId:$JSCompiler_StaticMethods_getSessionImpl$self$$.subSessionId, queuePosition:"InQueue" === $_b$jscomp$inline_239__state$jscomp$inline_1159$$ ? $JSCompiler_StaticMethods_getSessionImpl$self$$.queuePosition : 
              0, eta:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.seatSetupInfo.seatSetupEta, progressState:$_b$jscomp$inline_239__state$jscomp$inline_1159$$};
              $JSCompiler_StaticMethods_getSessionImpl$self$$.emit("ProgressUpdate", {sessionId:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.sessionId, subSessionId:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.subSessionId, queuePosition:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.queuePosition, 
              eta:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.eta, state:$_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$.progressState});
              $JSCompiler_StaticMethods_getSessionImpl$self$$.emit("SessionUpdate", $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$);
              $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$ = $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$.session;
              $_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ = $JSCompiler_StaticMethods_getSessionImpl$self$$.$m$.$minInterval$;
              1 == $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.seatSetupInfo.seatSetupStep && 0 != $JSCompiler_StaticMethods_getSessionImpl$self$$.$m$.$queueSizePerStep$ && ($_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$ += Math.floor($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.seatSetupInfo.queuePosition / $JSCompiler_StaticMethods_getSessionImpl$self$$.$m$.$queueSizePerStep$) * 
              $JSCompiler_StaticMethods_getSessionImpl$self$$.$m$.step);
              (new $module$exports$rtcutils_core$output$cancellablewait$CancellableWait$$(Math.min($_a$jscomp$inline_238_pollingInterval$jscomp$inline_1164_session$jscomp$inline_1158_sessionUpdateEventData$jscomp$inline_1160$$, $JSCompiler_StaticMethods_getSessionImpl$self$$.$m$.$maxInterval$), null === $abortController$jscomp$3$$ || void 0 === $abortController$jscomp$3$$ ? void 0 : $abortController$jscomp$3$$.signal)).promise.then($performGetSessionRequest$$).catch($onSessionSetupCancelled$$);
            } else {
              $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{ce47cd1}", $module$exports$rtcutils_core$output$logger$Log$$.sanitize(JSON.stringify($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$jsonResponse$))), $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$ = {code:3237093378, description:"unexpected session state"}, $sendLaunchRequestInfo$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.code), 
              $reject$jscomp$9$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$);
            }
          } else {
            15867905 == $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result ? $onSessionSetupCancelled$$() : ($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$ = {code:$err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result, sessionId:$_sessionId$jscomp$3$$, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result)}, 
            $sendLaunchRequestInfo$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.code), $reject$jscomp$9$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$));
          }
        } else {
          15859712 == $err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result ? $resolve$jscomp$11$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.$session$) : $reject$jscomp$9$$({code:$err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($err$jscomp$inline_244_err$jscomp$inline_245_response$jscomp$8_session$jscomp$inline_1163$$.result)});
        }
      }).catch($error$jscomp$12$$ => {
        const $err$jscomp$inline_248$$ = {code:3237093384, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$(3237093384)};
        $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{90d85cb}", $error$jscomp$12$$.message);
        $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{94d55bb}", $error$jscomp$12$$, $error$jscomp$12$$.stack);
        $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_getSessionImpl$self$$.$g$, $error$jscomp$12$$, "performGetSessionRequest");
        $isPoll$jscomp$3$$ && $sendLaunchRequestInfo$$($err$jscomp$inline_248$$.code);
        $reject$jscomp$9$$($err$jscomp$inline_248$$);
      });
    };
    $performGetSessionRequest$$();
  })).finally(() => {
    $JSCompiler_StaticMethods_getSessionImpl$self$$.$v$ = void 0;
    $isPoll$jscomp$3$$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{4ac0ec5}", $_sessionId$jscomp$3$$), $JSCompiler_StaticMethods_getSessionImpl$self$$.$o$.delete($_sessionId$jscomp$3$$), $JSCompiler_StaticMethods_getSessionImpl$self$$.queuePosition = Number.MAX_VALUE);
  });
}
function $JSCompiler_StaticMethods_getUrlForSession$$($JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$, $sessionId$jscomp$22$$) {
  let $sessionUrl$$ = $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.protocol;
  $sessionId$jscomp$22$$ && $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.$j$.has($sessionId$jscomp$22$$) ? ($JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$ = $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.$j$.get($sessionId$jscomp$22$$), void 0 !== $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$ && ($sessionUrl$$ += $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.server, 
  0 != $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.port && ($sessionUrl$$ += ":" + $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.port))) : $sessionUrl$$ += $JSCompiler_StaticMethods_getUrlForSession$self_sessionControlInfo$jscomp$1$$.$h$.serverAddress;
  $sessionUrl$$ += "/v2/session";
  $sessionId$jscomp$22$$ && ($sessionUrl$$ += "/" + $sessionId$jscomp$22$$);
  return $sessionUrl$$;
}
function $JSCompiler_StaticMethods_sendDeleteRequestImpl$$($JSCompiler_StaticMethods_sendDeleteRequestImpl$self$$, $sessionId$jscomp$21$$) {
  if (null == $JSCompiler_StaticMethods_sendDeleteRequestImpl$self$$.$h$) {
    return $JSCompiler_StaticMethods_addErrorAttributesAndReject$$({code:3237093383, description:"Gridserver not initialized"});
  }
  let $url$jscomp$30$$ = $JSCompiler_StaticMethods_getUrlForSession$$($JSCompiler_StaticMethods_sendDeleteRequestImpl$self$$, $sessionId$jscomp$21$$);
  return new Promise(($resolve$jscomp$12$$, $reject$jscomp$10$$) => {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{bbad3ce}", $sessionId$jscomp$21$$);
    $JSCompiler_StaticMethods_performSessionRequest$$($JSCompiler_StaticMethods_sendDeleteRequestImpl$self$$, 2, $url$jscomp$30$$, "", void 0, $sessionId$jscomp$21$$).then($response$jscomp$9$$ => {
      if (15859712 == $response$jscomp$9$$.result) {
        $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{6206c13}", $sessionId$jscomp$21$$), $resolve$jscomp$12$$();
      } else {
        let $err$jscomp$20$$ = {code:$response$jscomp$9$$.result, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$($response$jscomp$9$$.result), sessionId:$sessionId$jscomp$21$$};
        $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{4de47e3}", $sessionId$jscomp$21$$, $module$contents$rtcutils_core$output$utils_GetHexString$$($response$jscomp$9$$.result));
        $reject$jscomp$10$$($err$jscomp$20$$);
      }
    }).catch($error$jscomp$13$$ => {
      const $err$jscomp$21$$ = {code:3237093384, description:$module$exports$gridserver_core$output$gridserver$GridServer$getResultCodeDescription$$(3237093384)};
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{c4f620c}", $error$jscomp$13$$.message);
      $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{94d55bb}", $error$jscomp$13$$, $error$jscomp$13$$.stack);
      $JSCompiler_StaticMethods_JSC$2450_emitExceptionEvent$$($JSCompiler_StaticMethods_sendDeleteRequestImpl$self$$.$g$, $error$jscomp$13$$, "sendDeleteRequestImpl");
      $reject$jscomp$10$$($err$jscomp$21$$);
    });
  });
}
var $module$exports$gridserver_core$output$gridserver$GridServer$$ = class extends $module$exports$rtcutils_core$output$logqueueingeventemitter$LogQueueingEventEmitter$$ {
  constructor($platformDetails$jscomp$20_remoteConfigTimeout$$, $emitEventsSynchronously$$) {
    var $_a$jscomp$21$$, $_b$jscomp$11$$, $_c$jscomp$4$$, $_d$jscomp$4$$, $_e$jscomp$3$$, $_f$jscomp$3$$, $_g$jscomp$2$$, $_h$jscomp$2$$, $_j$jscomp$2$$, $_k$jscomp$2$$, $_l$jscomp$2$$, $_m$jscomp$1$$, $_o$jscomp$1$$, $_p$jscomp$1$$;
    super($emitEventsSynchronously$$);
    this.$j$ = new Map();
    this.$l$ = $module$exports$rtcutils_core$output$utils$DefaultHttpRequestOptions$$;
    this.protocol = "https://";
    this.$A$ = !0;
    this.subSessionId = "";
    this.queuePosition = Number.MAX_VALUE;
    this.$C$ = {type:1};
    this.$B$ = new Map();
    this.$D$ = this.$N$.bind(this);
    this.$o$ = new Map();
    $module$exports$rtcutils_core$output$logger$Log$$.hasListener("Log") || $module$exports$rtcutils_core$output$logger$Log$$.addListener("Log", this.$D$);
    this.$platformDetails$ = $platformDetails$jscomp$20_remoteConfigTimeout$$;
    $platformDetails$jscomp$20_remoteConfigTimeout$$ = 0;
    void 0 !== (null === ($_a$jscomp$21$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_a$jscomp$21$$ ? void 0 : $_a$jscomp$21$$.httpConnectionTimeout) && ($platformDetails$jscomp$20_remoteConfigTimeout$$ += $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication.httpConnectionTimeout);
    void 0 !== (null === ($_b$jscomp$11$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_b$jscomp$11$$ ? void 0 : $_b$jscomp$11$$.httpDataReceiveTimeout) && ($platformDetails$jscomp$20_remoteConfigTimeout$$ += $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication.httpDataReceiveTimeout);
    this.$l$.timeout = $platformDetails$jscomp$20_remoteConfigTimeout$$ ? 1000 * $platformDetails$jscomp$20_remoteConfigTimeout$$ : 13000;
    this.$l$.$retryCount$ = null !== ($_d$jscomp$4$$ = null === ($_c$jscomp$4$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_c$jscomp$4$$ ? void 0 : $_c$jscomp$4$$.httpRetryCount) && void 0 !== $_d$jscomp$4$$ ? $_d$jscomp$4$$ : 3;
    this.$l$.$backOffDelay$ = null !== ($_f$jscomp$3$$ = null === ($_e$jscomp$3$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_e$jscomp$3$$ ? void 0 : $_e$jscomp$3$$.httpBackOffDelay) && void 0 !== $_f$jscomp$3$$ ? $_f$jscomp$3$$ : 500;
    "http:" === window.location.protocol && (this.$A$ = !1);
    this.$m$ = {$minInterval$:null !== ($_h$jscomp$2$$ = null === ($_g$jscomp$2$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_g$jscomp$2$$ ? void 0 : $_g$jscomp$2$$.pollingIntervalMin) && void 0 !== $_h$jscomp$2$$ ? $_h$jscomp$2$$ : 1000, $maxInterval$:null !== ($_k$jscomp$2$$ = null === ($_j$jscomp$2$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_j$jscomp$2$$ ? 
    void 0 : $_j$jscomp$2$$.pollingIntervalMax) && void 0 !== $_k$jscomp$2$$ ? $_k$jscomp$2$$ : 10000, step:null !== ($_m$jscomp$1$$ = null === ($_l$jscomp$2$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || void 0 === $_l$jscomp$2$$ ? void 0 : $_l$jscomp$2$$.pollingIntervalStep) && void 0 !== $_m$jscomp$1$$ ? $_m$jscomp$1$$ : 1000, $queueSizePerStep$:null !== ($_p$jscomp$1$$ = null === ($_o$jscomp$1$$ = $module$exports$gridserver_core$output$settings$GridServerSettings$$.$commonConfig$.pmCommunication) || 
    void 0 === $_o$jscomp$1$$ ? void 0 : $_o$jscomp$1$$.pollingQueueSizePerStep) && void 0 !== $_p$jscomp$1$$ ? $_p$jscomp$1$$ : 50};
    this.$g$ = new $module$exports$gridserver_core$output$gstelemetryhandler$GsTelemetryHandler$$(this);
  }
  initialize($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{6bae601}", "{6802390}", "Local");
    this.$h$ = $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$;
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$ = this.$l$.headers;
    var $initParams$jscomp$inline_251_key$jscomp$inline_254$$ = this.$h$;
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["content-type"] = "application/json";
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceOs && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-device-os"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceOs);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceType && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-device-type"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceType);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceMake && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-device-make"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceMake);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceModel && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-device-model"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceModel);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientType && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-client-type"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientType);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientAppVersion && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-client-version"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientAppVersion);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientStreamer && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-client-streamer"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientStreamer);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientId && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-client-id"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientId);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.ecomEnabled && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-ecom-enabled"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.ecomEnabled);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.acceptLanguage && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["accept-language"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.acceptLanguage);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceHashId && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["x-device-id"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.deviceHashId);
    void 0 !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.browserType && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$["nv-browser-type"] = $initParams$jscomp$inline_251_key$jscomp$inline_254$$.browserType);
    if ($initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientHeaders) {
      for (const [$key__tsickle_destructured_5$jscomp$inline_252$$, $value__tsickle_destructured_6$jscomp$inline_253$$] of $initParams$jscomp$inline_251_key$jscomp$inline_254$$.clientHeaders) {
        $initParams$jscomp$inline_251_key$jscomp$inline_254$$ = $key__tsickle_destructured_5$jscomp$inline_252$$, "x-nv-client-identity" !== $initParams$jscomp$inline_251_key$jscomp$inline_254$$.toLowerCase() && ($JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$[$initParams$jscomp$inline_251_key$jscomp$inline_254$$.toLowerCase()] = $value__tsickle_destructured_6$jscomp$inline_253$$);
      }
    }
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$ = this.$g$;
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$.telemetryEventIds = {};
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$.sessionId = "";
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$.subSessionId = "";
    $JSCompiler_StaticMethods_resetCache$self$jscomp$inline_256_httpHeaders$jscomp$inline_250_initParams$jscomp$2$$.cmsId = "";
    $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{5af3344}");
  }
  uninitialize() {
    this.cancelSessionSetup();
    $module$exports$rtcutils_core$output$logger$Log$$.removeListener("Log", this.$D$);
    this.removeAllListeners();
  }
  updateTelemetryEventIds($telemetryEventIds$jscomp$2$$) {
    this.$g$.updateTelemetryEventIds($telemetryEventIds$jscomp$2$$);
  }
  getAllActiveSessions() {
    $JSCompiler_StaticMethods_createSpan$$($module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$(), "GetSessionList", () => {
      $JSCompiler_StaticMethods_addServerOperationAttributes$$(this);
      return $JSCompiler_StaticMethods_getAllActiveSessionsImpl$$(this);
    });
  }
  getSessionId() {
    var $_a$jscomp$24$$;
    return null !== ($_a$jscomp$24$$ = this.$B$.get(this.subSessionId)) && void 0 !== $_a$jscomp$24$$ ? $_a$jscomp$24$$ : "";
  }
  getSubSessionId() {
    return this.subSessionId;
  }
  putOrPostSession($startParams$jscomp$2$$, $action$jscomp$3$$, $sessionId$jscomp$18$$) {
    return $JSCompiler_StaticMethods_createSpan$$($module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$(), $sessionId$jscomp$18$$ ? "PutSession" : "PostSession", () => {
      $JSCompiler_StaticMethods_addServerOperationAttributes$$(this);
      return $JSCompiler_StaticMethods_putOrPostSessionImpl$$(this, $startParams$jscomp$2$$, $sessionId$jscomp$18$$);
    });
  }
  getSession($_sessionId$jscomp$2$$, $isPoll$jscomp$2$$) {
    return $JSCompiler_StaticMethods_createSpan$$($module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$(), "GetSession", () => {
      $JSCompiler_StaticMethods_addServerOperationAttributes$$(this);
      return $JSCompiler_StaticMethods_getSessionImpl$$(this, $_sessionId$jscomp$2$$, $isPoll$jscomp$2$$);
    });
  }
  sendDeleteRequest($sessionId$jscomp$20$$) {
    return $JSCompiler_StaticMethods_createSpan$$($module$exports$rtcutils_core$output$tracingmanager$TracingManager$getInstance$$(), "DeleteSession", () => {
      $JSCompiler_StaticMethods_addServerOperationAttributes$$(this);
      return $JSCompiler_StaticMethods_sendDeleteRequestImpl$$(this, $sessionId$jscomp$20$$);
    });
  }
  setAuthInfo($authInfo$jscomp$7$$) {
    this.$C$ = $authInfo$jscomp$7$$;
  }
  cancelSessionSetup() {
    var $_a$jscomp$28$$, $_b$jscomp$14$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{6bae601}", "{c73e640}");
    null === ($_a$jscomp$28$$ = this.$s$) || void 0 === $_a$jscomp$28$$ ? void 0 : $_a$jscomp$28$$.abort();
    null === ($_b$jscomp$14$$ = this.$v$) || void 0 === $_b$jscomp$14$$ ? void 0 : $_b$jscomp$14$$.abort();
    this.$v$ = this.$s$ = void 0;
  }
  getZoneName() {
    var $_a$jscomp$29$$;
    return null !== ($_a$jscomp$29$$ = this.zoneName) && void 0 !== $_a$jscomp$29$$ ? $_a$jscomp$29$$ : "";
  }
  getZoneAddress() {
    var $_a$jscomp$30$$;
    return null !== ($_a$jscomp$30$$ = this.zoneAddress) && void 0 !== $_a$jscomp$30$$ ? $_a$jscomp$30$$ : "";
  }
  getGpuType() {
    var $_a$jscomp$31$$;
    return null !== ($_a$jscomp$31$$ = this.gpuType) && void 0 !== $_a$jscomp$31$$ ? $_a$jscomp$31$$ : "";
  }
  setNetworkType($network$jscomp$3$$) {
    this.$g$.setNetworkType($network$jscomp$3$$);
  }
}, $module$exports$gridserver_core$output$gridserver$PassThruServer$$ = class extends $module$exports$gridserver_core$output$gridserver$GridServer$$ {
  constructor() {
    super();
  }
  getAllActiveSessions() {
    window.setTimeout(() => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{b575263}");
      this.emit("ActiveSessionsResult", {sessionList:[]});
    }, 1);
  }
  putOrPostSession($startParams$jscomp$6$$) {
    var $_a$jscomp$40$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{71c010f}");
    $JSCompiler_StaticMethods_resetSubSessionId$$(this, $module$contents$rtcutils_core$output$utils_getNewGuid$$(), null !== ($_a$jscomp$40$$ = $startParams$jscomp$6$$.sessionId) && void 0 !== $_a$jscomp$40$$ ? $_a$jscomp$40$$ : "PassThruSessionId");
    return new Promise($resolve$jscomp$13$$ => {
      window.setTimeout(() => {
        let $session$jscomp$3$$ = {sessionId:this.getSessionId(), subSessionId:this.getSubSessionId(), accessToken:$startParams$jscomp$6$$.accessToken || "", appId:parseInt($startParams$jscomp$6$$.appId), state:"ready_for_connection", signalConnectionInfo:{ip:"", port:49100, protocol:"http"}, mediaConnectionInfo:[], streamInfo:[], appLaunchMode:$startParams$jscomp$6$$.appLaunchMode ? $startParams$jscomp$6$$.appLaunchMode : 0, zoneName:this.getZoneName(), zoneAddress:this.getZoneAddress(), gpuType:this.getGpuType(), 
        clientLocale:""};
        if (this.$h$) {
          if ($session$jscomp$3$$.signalConnectionInfo.ip = this.$h$.serverAddress, $startParams$jscomp$6$$.connectionInfo) {
            $session$jscomp$3$$.mediaConnectionInfo = $startParams$jscomp$6$$.connectionInfo;
            for (const $connectionInfo$$ of $session$jscomp$3$$.mediaConnectionInfo) {
              14 === $connectionInfo$$.usage && ($session$jscomp$3$$.signalConnectionInfo.ip = $connectionInfo$$.ip, $session$jscomp$3$$.signalConnectionInfo.port = $connectionInfo$$.port, $session$jscomp$3$$.signalConnectionInfo.protocol = 5 === $connectionInfo$$.appLevelProtocol ? "https" : "http", $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{c6b8e0f}", $connectionInfo$$.ip, $connectionInfo$$.port));
            }
          }
        } else {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{6bae601}", "{a43f57e}");
        }
        if ($startParams$jscomp$6$$.monitorSettings) {
          for (const $monitor$jscomp$1$$ of $startParams$jscomp$6$$.monitorSettings) {
            $session$jscomp$3$$.streamInfo.push({width:$monitor$jscomp$1$$.widthInPixels, height:$monitor$jscomp$1$$.heightInPixels, fps:$monitor$jscomp$1$$.framesPerSecond, sdrHdrMode:$monitor$jscomp$1$$.sdrHdrMode});
          }
        } else {
          for (const $stream$jscomp$7$$ of $startParams$jscomp$6$$.streamParams) {
            $session$jscomp$3$$.streamInfo.push({width:$stream$jscomp$7$$.width, height:$stream$jscomp$7$$.height, fps:$stream$jscomp$7$$.fps});
          }
        }
        $module$exports$rtcutils_core$output$logger$Log$$.d("{6bae601}", "{07dc276}", $session$jscomp$3$$.sessionId);
        $resolve$jscomp$13$$($session$jscomp$3$$);
      }, 1);
    });
  }
  getSession() {
    return new Promise(($resolve$jscomp$14$$, $reject$jscomp$12$$) => {
      $reject$jscomp$12$$({code:-1, description:"PassthruPollingNotSupported"});
    });
  }
  sendDeleteRequest() {
    return new Promise($resolve$jscomp$15$$ => {
      $resolve$jscomp$15$$();
    });
  }
};
window.GridServer = window.GridServer || {};
var $module$exports$output$interfaces$defaultInputConfigFlags$$ = {allowUnconfined:!1, preventNavigation:!1};
var $module$exports$output$rinterfaces$AckIdGenerator$$ = class {
  constructor() {
    this.$g$ = 1;
  }
};
function $module$contents$output$util$serverclienterrormap_getClientTerminationReason$$($err$jscomp$26$$) {
  if (0 == ($err$jscomp$26$$ ^ 15868672) >> 8) {
    return 256;
  }
  let $clientTerminationReason$$ = 32769;
  switch($err$jscomp$26$$) {
    case 15859712:
    case 15867908:
    case 15868418:
      $clientTerminationReason$$ = 0;
      break;
    case 3237093894:
    case 3237093899:
      $clientTerminationReason$$ = 32776;
      break;
    case 3237093898:
      $clientTerminationReason$$ = 32772;
      break;
    case 3237093900:
      $clientTerminationReason$$ = 32773;
      break;
    case 3237093901:
      $clientTerminationReason$$ = 32770;
      break;
    case 15867910:
      $clientTerminationReason$$ = 1;
      break;
    default:
      $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{233ad08}", $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$26$$));
  }
  return $clientTerminationReason$$;
}
function $module$contents$output$util$serverclienterrormap_getRErrorCodeForExitMessage$$($exitMessage_nvstResult$jscomp$inline_258$$) {
  if ($exitMessage_nvstResult$jscomp$inline_258$$.stopData) {
    var $clientErr$jscomp$inline_259_reason$jscomp$6$$ = $module$contents$output$util$serverclienterrormap_getStopDataReason$$($exitMessage_nvstResult$jscomp$inline_258$$.stopData);
    if ($clientErr$jscomp$inline_259_reason$jscomp$6$$) {
      return $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{921626d}", $clientErr$jscomp$inline_259_reason$jscomp$6$$), $module$contents$output$util$serverclienterrormap_getRErrorCode$$($clientErr$jscomp$inline_259_reason$jscomp$6$$);
    }
  }
  if ($exitMessage_nvstResult$jscomp$inline_258$$.nvstResult) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{f30bc33}", $exitMessage_nvstResult$jscomp$inline_258$$.nvstResult);
    $exitMessage_nvstResult$jscomp$inline_258$$ = $exitMessage_nvstResult$jscomp$inline_258$$.nvstResult;
    $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868672;
    switch($exitMessage_nvstResult$jscomp$inline_258$$) {
      case 2147680256:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868704;
        break;
      case 2147680257:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868705;
        break;
      case 2147680258:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237093635;
        break;
      case 2147680259:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094152;
        break;
      case 2147680260:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868706;
        break;
      case 2147680262:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868707;
        break;
      case 2147680263:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868708;
        break;
      case 2147680264:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868736;
        break;
      case 2147680265:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868737;
        break;
      case 2147680266:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868738;
        break;
      case 2147680267:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868739;
        break;
      case 2147680268:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868741;
        break;
      case 2147680269:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868740;
        break;
      case 2147680270:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868742;
        break;
      case 2147680271:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094147;
        break;
      case 2147680275:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868743;
        break;
      case 2147680277:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868709;
        break;
      case 2147680278:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868744;
        break;
      case 2147680279:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868710;
        break;
      case 2147680280:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868711;
        break;
      case 2147680281:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868712;
        break;
      case 2147680283:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094155;
        break;
      case 2147680284:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094156;
        break;
      case 2147680285:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094157;
        break;
      case 2147680286:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237093678;
        break;
      case 2147680287:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868715;
        break;
      case 2147680288:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868716;
        break;
      case 2147680291:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868704;
        break;
      case 2147745794:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237093892;
        break;
      case 2147745796:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094158;
        break;
      case 2147745797:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237093892;
        break;
      case 2147745803:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237093892;
        break;
      case 2147745804:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094146;
        break;
      case 2147745805:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094148;
        break;
      case 2147745806:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094149;
        break;
      case 2147745807:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 3237094150;
        break;
      case 2148438786:
        $clientErr$jscomp$inline_259_reason$jscomp$6$$ = 15868718;
        break;
      default:
        $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{094c45e}", $module$contents$rtcutils_core$output$utils_GetHexString$$($exitMessage_nvstResult$jscomp$inline_258$$));
    }
    return $clientErr$jscomp$inline_259_reason$jscomp$6$$;
  }
  return $exitMessage_nvstResult$jscomp$inline_258$$.code ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{6210ab0}", $exitMessage_nvstResult$jscomp$inline_258$$.code), $module$contents$output$util$serverclienterrormap_getRErrorCode$$($exitMessage_nvstResult$jscomp$inline_258$$.code)) : 15868672;
}
function $module$contents$output$util$serverclienterrormap_getRErrorCode$$($serverErr$$) {
  let $clientErr$$ = 15868672;
  switch($serverErr$$) {
    case 256:
      $clientErr$$ = 15868704;
      break;
    case 257:
      $clientErr$$ = 15868705;
      break;
    case 258:
      $clientErr$$ = 15868706;
      break;
    case 259:
      $clientErr$$ = 15868707;
      break;
    case 260:
      $clientErr$$ = 15868708;
      break;
    case 261:
      $clientErr$$ = 15868709;
      break;
    case 262:
      $clientErr$$ = 15868710;
      break;
    case 263:
      $clientErr$$ = 15868711;
      break;
    case 264:
      $clientErr$$ = 15868712;
      break;
    case 265:
      $clientErr$$ = 15868713;
      break;
    case 266:
      $clientErr$$ = 15868714;
      break;
    case 267:
      $clientErr$$ = 15868715;
      break;
    case 268:
      $clientErr$$ = 15868716;
      break;
    case 512:
      $clientErr$$ = 15868736;
      break;
    case 513:
      $clientErr$$ = 15868737;
      break;
    case 514:
      $clientErr$$ = 15868738;
      break;
    case 515:
      $clientErr$$ = 15868739;
      break;
    case 516:
      $clientErr$$ = 15868740;
      break;
    case 517:
      $clientErr$$ = 15868741;
      break;
    case 518:
      $clientErr$$ = 15868742;
      break;
    case 519:
      $clientErr$$ = 15868743;
      break;
    case 520:
      $clientErr$$ = 15868744;
      break;
    case 521:
      $clientErr$$ = 15868745;
      break;
    case 33025:
      $clientErr$$ = 3237094145;
      break;
    case 33026:
      $clientErr$$ = 3237094146;
      break;
    case 33027:
      $clientErr$$ = 3237094147;
      break;
    case 33028:
      $clientErr$$ = 3237094148;
      break;
    case 33029:
      $clientErr$$ = 3237094149;
      break;
    case 33030:
      $clientErr$$ = 3237094150;
      break;
    case 33031:
      $clientErr$$ = 3237094151;
      break;
    case 33032:
      $clientErr$$ = 3237094152;
      break;
    case 33034:
      $clientErr$$ = 3237094153;
      break;
    case 33035:
      $clientErr$$ = 3237094154;
      break;
    case 33040:
      $clientErr$$ = 3237094155;
      break;
    case 33041:
      $clientErr$$ = 3237094156;
      break;
    case 33042:
      $clientErr$$ = 3237094157;
      break;
    case 37634:
      $clientErr$$ = 15868718;
      break;
    case 32768:
      $clientErr$$ = 3237094158;
      break;
    case 768:
      $clientErr$$ = 15868717;
      break;
    default:
      $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{1be40ed}", $module$contents$rtcutils_core$output$utils_GetHexString$$($serverErr$$));
  }
  return $clientErr$$;
}
function $module$contents$output$util$serverclienterrormap_getStopDataReason$$($b64StopData$$) {
  if (2 > $b64StopData$$.length) {
    return null;
  }
  const $stopData$$ = atob($b64StopData$$);
  let $offset$jscomp$26$$ = 0;
  const $read16$$ = () => {
    const $result$jscomp$9$$ = 256 * $stopData$$.charCodeAt($offset$jscomp$26$$) + $stopData$$.charCodeAt($offset$jscomp$26$$ + 1);
    $offset$jscomp$26$$ += 2;
    return $result$jscomp$9$$;
  };
  return 0 == $read16$$() ? $b64StopData$$.length < $offset$jscomp$26$$ + 2 ? null : $read16$$() : null;
}
;function $module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$() {
  $module$exports$output$debug$latencyindicator$LatencyIndicator$singleton$$ || ($module$exports$output$debug$latencyindicator$LatencyIndicator$singleton$$ = new $module$exports$output$debug$latencyindicator$LatencyIndicator$$());
  return $module$exports$output$debug$latencyindicator$LatencyIndicator$singleton$$;
}
function $JSCompiler_StaticMethods_toggleIndicator$$($JSCompiler_StaticMethods_toggleIndicator$self$$) {
  "white" === $JSCompiler_StaticMethods_toggleIndicator$self$$.$h$ ? $JSCompiler_StaticMethods_toggleIndicator$self$$.$g$ && ($JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.clearColor(1, 0, 0, 1), $JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.clear($JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.COLOR_BUFFER_BIT), $JSCompiler_StaticMethods_toggleIndicator$self$$.$h$ = "red") : $JSCompiler_StaticMethods_toggleIndicator$self$$.$g$ && ($JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.clearColor(1, 
  1, 1, 1), $JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.clear($JSCompiler_StaticMethods_toggleIndicator$self$$.$g$.COLOR_BUFFER_BIT), $JSCompiler_StaticMethods_toggleIndicator$self$$.$h$ = "white");
}
var $module$exports$output$debug$latencyindicator$LatencyIndicator$$ = class {
  constructor() {
    this.$g$ = null;
    this.$h$ = "";
  }
  initialize($JSCompiler_inline_result$jscomp$23_videoElement$$, $indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$) {
    this.$platformDetails$ = $indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$;
    $indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$ = "ragnarok-latency-indicator";
    if (($indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$ = document.getElementById($indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$)) && $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$ instanceof HTMLCanvasElement && $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.parentElement === $JSCompiler_inline_result$jscomp$23_videoElement$$.parentElement) {
      $JSCompiler_inline_result$jscomp$23_videoElement$$ = $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$;
    } else {
      if ($indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$) {
        do {
          $indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$ = "ragnarok-latency-indicator" + Math.round(10000 * Math.random()), $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$ = document.getElementById($indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$);
        } while ($indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$);
      }
      var $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$ = document.createElement("canvas");
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.id = $indicatorId$jscomp$inline_267_platformDetails$jscomp$21$$;
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.position = "fixed";
      $module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$) ? ($indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.bottom = "env(safe-area-inset-bottom, 0)", $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.right = "max(24px, env(safe-area-inset-right, 0))") : ($indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.bottom = "0", $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.right = "0");
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.width = "40px";
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.height = "40px";
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.zIndex = "300";
      $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$.style.pointerEvents = "none";
      $JSCompiler_inline_result$jscomp$23_videoElement$$.insertAdjacentElement("afterend", $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$);
      $JSCompiler_inline_result$jscomp$23_videoElement$$ = $indicator$jscomp$inline_268_newIndicator$jscomp$inline_269$$;
    }
    this.$j$ = $JSCompiler_inline_result$jscomp$23_videoElement$$;
    this.$j$.style.display = "block";
    this.$g$ = this.$j$.getContext("webgl");
    $JSCompiler_StaticMethods_toggleIndicator$$(this);
  }
}, $module$exports$output$debug$latencyindicator$LatencyIndicator$singleton$$;
var $module$exports$output$util$settings$RagnarokSettings$$ = {$ragnarokConfig$:{}, clientConfigOverride:"", $remoteOverrideInfo$:{type:"UNKNOWN", version:""}, $leanMode$:!1, $loggingEnabled$:!0, $consoleLoggingEnabled$:!1, $gamepadEnabled$:!0, $webrtcStatsEnabled$:!0, $statsUploadEnabled$:!0, maxBitrate:0, $resWidth$:0, $resHeight$:0, $gamepadRaf$:!1, $advancedGestures$:!0, $forceTouchCapable$:!1, $touchWarp$:!0, $storeTouch$:!1, $storeTouchGesture$:!1, $latencyTest$:!1, $gamepadTesterEnabled$:!1, 
$rsdmm$:!0, $rsdmmThumbstickToggle$:!1, $allowSourceReset$:!0, $allowAudioReset$:!0, $allowAutoplayChange$:!0, $allowEnableMic$:!0, $allowMutingVideo$:!0, $allowSendingTelemetry$:!0, fps:0};
function $JSCompiler_StaticMethods_emitError$$($JSCompiler_StaticMethods_emitError$self$$, $ev$jscomp$2$$) {
  var $_a$jscomp$42$$, $_b$jscomp$20$$, $_c$jscomp$10$$, $_d$jscomp$9$$;
  $JSCompiler_StaticMethods_emitError$self$$.$o$.$g$(void 0, null !== ($_a$jscomp$42$$ = null === $ev$jscomp$2$$ || void 0 === $ev$jscomp$2$$ ? void 0 : $ev$jscomp$2$$.message) && void 0 !== $_a$jscomp$42$$ ? $_a$jscomp$42$$ : "", null !== ($_b$jscomp$20$$ = null === $ev$jscomp$2$$ || void 0 === $ev$jscomp$2$$ ? void 0 : $ev$jscomp$2$$.filename) && void 0 !== $_b$jscomp$20$$ ? $_b$jscomp$20$$ : "", null !== ($_c$jscomp$10$$ = null === $ev$jscomp$2$$ || void 0 === $ev$jscomp$2$$ ? void 0 : $ev$jscomp$2$$.lineno) && 
  void 0 !== $_c$jscomp$10$$ ? $_c$jscomp$10$$ : 0, null !== ($_d$jscomp$9$$ = null === $ev$jscomp$2$$ || void 0 === $ev$jscomp$2$$ ? void 0 : $ev$jscomp$2$$.colno) && void 0 !== $_d$jscomp$9$$ ? $_d$jscomp$9$$ : 0, !0, "WorkerError");
}
function $JSCompiler_StaticMethods_resetPerf$$($JSCompiler_StaticMethods_resetPerf$self$$) {
  $JSCompiler_StaticMethods_resetPerf$self$$.perf.RAFTS = 0;
  $JSCompiler_StaticMethods_resetPerf$self$$.perf.DCSend = 0;
  $JSCompiler_StaticMethods_resetPerf$self$$.perf.GetStats = 0;
  $JSCompiler_StaticMethods_resetPerf$self$$.perf.FrameInfo = 0;
}
function $JSCompiler_StaticMethods_stopProfiling$$() {
  var $JSCompiler_StaticMethods_stopProfiling$self$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_stopProfiling$self$$.$h$ = !1;
  const $workerMessage$jscomp$3$$ = {stopStats:!0};
  $JSCompiler_StaticMethods_stopProfiling$self$$.$g$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{76b05dd}"), $JSCompiler_StaticMethods_stopProfiling$self$$.$g$.postMessage($workerMessage$jscomp$3$$));
}
function $JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_getStreamTime$self$$) {
  return performance.now() - $JSCompiler_StaticMethods_getStreamTime$self$$.$j$;
}
function $JSCompiler_StaticMethods_onPreRender$$() {
  var $JSCompiler_StaticMethods_onPreRender$self$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  if ($JSCompiler_StaticMethods_onPreRender$self$$.$h$) {
    if (0 != $JSCompiler_StaticMethods_onPreRender$self$$.perf.RAFTS) {
      const $workerMessage$jscomp$4$$ = {perf:$JSCompiler_StaticMethods_onPreRender$self$$.perf};
      $JSCompiler_StaticMethods_onPreRender$self$$.$g$ && $JSCompiler_StaticMethods_onPreRender$self$$.$g$.postMessage($workerMessage$jscomp$4$$);
      $JSCompiler_StaticMethods_resetPerf$$($JSCompiler_StaticMethods_onPreRender$self$$);
    }
    $JSCompiler_StaticMethods_onPreRender$self$$.perf.RAFTS = $JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_onPreRender$self$$);
  }
}
function $JSCompiler_StaticMethods_addStatsReport$$($report$$, $type$jscomp$159_workerMessage$jscomp$5$$) {
  var $JSCompiler_StaticMethods_addStatsReport$self$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$, $_a$jscomp$43$$;
  $JSCompiler_StaticMethods_addStatsReport$self$$.$h$ && ($type$jscomp$159_workerMessage$jscomp$5$$ = {webrtcStats:{type:$type$jscomp$159_workerMessage$jscomp$5$$, stats:$report$$}, ackid:null === ($_a$jscomp$43$$ = $JSCompiler_StaticMethods_addStatsReport$self$$.$s$) || void 0 === $_a$jscomp$43$$ ? void 0 : $_a$jscomp$43$$.$g$++}, $JSCompiler_StaticMethods_addStatsReport$self$$.$g$ && $JSCompiler_StaticMethods_addStatsReport$self$$.$g$.postMessage($type$jscomp$159_workerMessage$jscomp$5$$, $report$$));
}
function $JSCompiler_StaticMethods_onFrameInfo$$($framesDecoded$$, $framesDropped$$) {
  var $JSCompiler_StaticMethods_onFrameInfo$self$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_onFrameInfo$self$$.$h$ && ($JSCompiler_StaticMethods_onFrameInfo$self$$.perf.FrameInfo = Math.min($framesDecoded$$, 15) << 4 | Math.min($framesDropped$$, 15));
}
function $JSCompiler_StaticMethods_onEvent$$() {
  var $JSCompiler_StaticMethods_onEvent$self$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  if ($JSCompiler_StaticMethods_onEvent$self$$.$h$) {
    const $workerMessage$jscomp$10$$ = {clientEvent:{TS:$JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_onEvent$self$$), eventtype:"SoftwareDecodeFallback"}};
    $JSCompiler_StaticMethods_onEvent$self$$.$g$ && $JSCompiler_StaticMethods_onEvent$self$$.$g$.postMessage($workerMessage$jscomp$10$$);
  }
}
var $module$exports$output$ragnarokprofiler$RagnarokProfiler$$ = new class {
  constructor() {
    this.$h$ = !1;
    this.$g$ = null;
    this.$j$ = 0;
    this.$wsHandler$ = null;
    this.$m$ = [];
    this.$l$ = [];
    this.perf = {RAFTS:0, DCSend:0, GetStats:0, FrameInfo:0};
    $module$exports$rtcutils_core$output$logger$Log$$.i("{1f5ec29}", "{139da36}");
    try {
      const $blobUrl$$ = URL.createObjectURL(new Blob(['\nvar $module$exports$output$stats$webrtcbinarystats$statsConfig$depr$$ = {size:70, version:1, name:"DEPR"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpv$$ = {size:80, version:3, name:"RTPV"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpa$$ = {size:48, version:1, name:"RTPA"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$traa$$ = {size:88, version:1, name:"TRAA"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$trav$$ = {size:44, version:1, \nname:"TRAV"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$vfmd$$ = {size:12, version:1, name:"VFMD"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$pfda$$ = {size:20, version:1, name:"PFDA"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$none$$ = {size:0, version:1, name:""};\nfunction $JSCompiler_StaticMethods_createWebSocket$$($JSCompiler_StaticMethods_createWebSocket$self$$, $reconnect$jscomp$1$$ = !1) {\n  try {\n    let $header$jscomp$2$$;\n    $JSCompiler_StaticMethods_createWebSocket$self$$.url.includes("wss") && ($header$jscomp$2$$ = "x-nv-sessionid." + $JSCompiler_StaticMethods_createWebSocket$self$$.sessionId, $JSCompiler_StaticMethods_createWebSocket$self$$.accessToken && ($header$jscomp$2$$ += "-Authorization.Bearer-" + $JSCompiler_StaticMethods_createWebSocket$self$$.accessToken));\n    let $websocketUrl$$ = $JSCompiler_StaticMethods_createWebSocket$self$$.url;\n    $reconnect$jscomp$1$$ && ($websocketUrl$$ += "&reconnect=1");\n    let $localWs$$ = new WebSocket($websocketUrl$$, $header$jscomp$2$$);\n    $localWs$$.onopen = () => {\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{aaf44dc}");\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$l$.$openHandler$();\n      if ($localWs$$ === $JSCompiler_StaticMethods_createWebSocket$self$$.$g$) {\n        for (const $pendingMessage$$ of $JSCompiler_StaticMethods_createWebSocket$self$$.$j$) {\n          $pendingMessage$$.stats ? $localWs$$.send($pendingMessage$$.stats) : $localWs$$.send(JSON.stringify($pendingMessage$$));\n        }\n        for (const $pendingMessage$jscomp$1$$ of $JSCompiler_StaticMethods_createWebSocket$self$$.$o$) {\n          $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$($JSCompiler_StaticMethods_createWebSocket$self$$, $pendingMessage$jscomp$1$$);\n        }\n        $JSCompiler_StaticMethods_createWebSocket$self$$.$o$ = [];\n      }\n    };\n    $localWs$$.onclose = $event$jscomp$8$$ => {\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{7a09ad8}");\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$l$.$closeHandler$({error:$JSCompiler_StaticMethods_createWebSocket$self$$.$s$, code:$event$jscomp$8$$.code, reason:$event$jscomp$8$$.reason, wasClean:$event$jscomp$8$$.wasClean});\n      $localWs$$ === $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ && ($JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = void 0);\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$s$ = !1;\n    };\n    $localWs$$.onerror = () => {\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{418a180}");\n      $JSCompiler_StaticMethods_createWebSocket$self$$.$s$ = !0;\n    };\n    $localWs$$.onmessage = $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$ => {\n      $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$ = JSON.parse($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.data);\n      $JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck && $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_createWebSocket$self$$);\n      void 0 === $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ackid || $JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck || ($JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck = !0, $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{523f5b9}"), $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_createWebSocket$self$$));\n      if (!$ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.hb) {\n        if ($JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck) {\n          if (void 0 !== $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ack) {\n            var $ack$jscomp$inline_8$$ = $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ack;\n            for (let $i$jscomp$inline_9$$ = $JSCompiler_StaticMethods_createWebSocket$self$$.$j$.length - 1; 0 <= $i$jscomp$inline_9$$; $i$jscomp$inline_9$$--) {\n              $JSCompiler_StaticMethods_createWebSocket$self$$.$j$[$i$jscomp$inline_9$$].ackid <= $ack$jscomp$inline_8$$ && $JSCompiler_StaticMethods_createWebSocket$self$$.$j$.splice($i$jscomp$inline_9$$, 1);\n            }\n          }\n          void 0 !== $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ackid ? ($JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId < $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ackid && ($JSCompiler_StaticMethods_createWebSocket$self$$.$l$.$messageHandler$($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$), $JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId = $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ackid), $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ && ($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$ = \n          JSON.stringify({ack:$JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId}), $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{903be10}" + $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$), $JSCompiler_StaticMethods_createWebSocket$self$$.$g$.send($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$))) : void 0 === $ack$jscomp$inline_12_event$jscomp$10_wsMsg$$.ack && $JSCompiler_StaticMethods_createWebSocket$self$$.$l$.$messageHandler$($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$);\n        } else {\n          $JSCompiler_StaticMethods_createWebSocket$self$$.$l$.$messageHandler$($ack$jscomp$inline_12_event$jscomp$10_wsMsg$$);\n        }\n      }\n    };\n    $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = $localWs$$;\n  } catch ($exp$$) {\n    $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = void 0, $JSCompiler_StaticMethods_createWebSocket$self$$.$u$("WebSocket creation exception: " + $exp$$);\n  }\n}\nfunction $JSCompiler_StaticMethods_clearHeartBeatTimeout$$($JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$) {\n  0 !== $JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$m$ && (self.clearTimeout($JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$m$), $JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$m$ = 0);\n}\nfunction $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$) {\n  $JSCompiler_StaticMethods_clearHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$);\n  $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$m$ = self.setTimeout(() => {\n    var $_a$jscomp$inline_15$$;\n    $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$h$("{6c3505a}" + (null === ($_a$jscomp$inline_15$$ = $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$g$) || void 0 === $_a$jscomp$inline_15$$ ? void 0 : $_a$jscomp$inline_15$$.readyState));\n    $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$g$ || $JSCompiler_StaticMethods_createWebSocket$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$, !0);\n    $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$);\n  }, 3000);\n}\nfunction $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$($JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$, $data$jscomp$81$$) {\n  void 0 !== $data$jscomp$81$$.ackid && $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.serverSupportsAck && void 0 !== $data$jscomp$81$$.ackid && $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$j$.push($data$jscomp$81$$);\n  $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$ && ($data$jscomp$81$$.stats ? $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$.send($data$jscomp$81$$.stats) : $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$.send(JSON.stringify($data$jscomp$81$$)));\n}\nvar $module$exports$output$websocketimpl$WebSocketImpl$$ = class {\n  constructor() {\n    var $JSCompiler_object_inline_wsHandler_68$$ = {$messageHandler$:$module$contents$output$ragnarokworker_wsMessageHandler$$, $openHandler$:$module$contents$output$ragnarokworker_wsOpenHandler$$, $closeHandler$:$module$contents$output$ragnarokworker_wsCloseHandler$$, $openingHandler$:$module$contents$output$ragnarokworker_wsOpeningHandler$$}, $JSCompiler_object_inline_info_70$$ = $module$contents$output$ragnarokworker_workerLogger$$, $JSCompiler_object_inline_exception_71$$ = $module$contents$output$ragnarokworker_workerException$$;\n    this.sessionId = $module$contents$output$ragnarokworker_sessionId$$;\n    this.accessToken = "";\n    this.serverSupportsAck = this.$s$ = !1;\n    this.$j$ = [];\n    this.$o$ = [];\n    this.maxReceivedAckId = this.$m$ = 0;\n    this.url = "";\n    this.$h$ = $JSCompiler_object_inline_info_70$$;\n    this.$u$ = $JSCompiler_object_inline_exception_71$$;\n    this.$l$ = $JSCompiler_object_inline_wsHandler_68$$;\n  }\n  initialize($url$jscomp$22$$, $maxReceivedAckId$$, $serverSupportsAck$$, $reconnect$$ = !1) {\n    this.url = $url$jscomp$22$$;\n    this.maxReceivedAckId = $maxReceivedAckId$$;\n    this.serverSupportsAck = $serverSupportsAck$$;\n    $JSCompiler_StaticMethods_createWebSocket$$(this, $reconnect$$);\n    this.$h$("{f4b05a4}");\n  }\n  uninitialize($closeCode$$) {\n    var $_a$$;\n    this.maxReceivedAckId = 0;\n    this.serverSupportsAck = !1;\n    this.$j$ = [];\n    this.$o$ = [];\n    $JSCompiler_StaticMethods_clearHeartBeatTimeout$$(this);\n    null === ($_a$$ = this.$g$) || void 0 === $_a$$ ? void 0 : $_a$$.close($closeCode$$);\n    this.$h$("{986b258}" + $closeCode$$);\n  }\n  reconnect() {\n    $JSCompiler_StaticMethods_createWebSocket$$(this, !0);\n  }\n  send($data$jscomp$82$$) {\n    this.serverSupportsAck || this.$g$ || $JSCompiler_StaticMethods_createWebSocket$$(this, !0);\n    this.$g$ && this.$g$.readyState === WebSocket.OPEN ? $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$(this, $data$jscomp$82$$) : this.$o$.push($data$jscomp$82$$);\n  }\n};\nconst $module$contents$output$ragnarokworker_ctx$$ = self;\nlet $module$contents$output$ragnarokworker_perfs$$ = [], $module$contents$output$ragnarokworker_clientEvents$$ = [];\nfunction $JSCompiler_StaticMethods_addReport$$($report$$) {\n  var $JSCompiler_StaticMethods_addReport$self$$ = $module$contents$output$ragnarokworker_webrtcBinaryStats$$;\n  let $buffer$jscomp$16$$ = $JSCompiler_StaticMethods_addReport$self$$.$g$.get($report$$.type);\n  $buffer$jscomp$16$$ || ($buffer$jscomp$16$$ = [], $JSCompiler_StaticMethods_addReport$self$$.$g$.set($report$$.type, $buffer$jscomp$16$$));\n  for (const $element$jscomp$8$$ of $report$$.stats) {\n    $buffer$jscomp$16$$.push($element$jscomp$8$$);\n  }\n}\nfunction $JSCompiler_StaticMethods_getStatsConfig$$($type$jscomp$158$$) {\n  switch($type$jscomp$158$$) {\n    case 0:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$depr$$;\n    case 1:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpv$$;\n    case 2:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpa$$;\n    case 3:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$trav$$;\n    case 4:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$traa$$;\n    case 5:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$vfmd$$;\n    case 6:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$pfda$$;\n    default:\n      return $module$exports$output$stats$webrtcbinarystats$statsConfig$none$$;\n  }\n}\nlet $module$contents$output$ragnarokworker_webrtcBinaryStats$$ = new class {\n  constructor() {\n    this.$g$ = new Map();\n    this.$g$.clear();\n  }\n  size() {\n    let $totalSize$$ = 0;\n    for (let [, $array__tsickle_destructured_2$$] of this.$g$) {\n      let $array$jscomp$6$$ = $array__tsickle_destructured_2$$;\n      for (let $value$jscomp$91$$ of $array$jscomp$6$$) {\n        $totalSize$$ += $value$jscomp$91$$.byteLength;\n      }\n    }\n    return $totalSize$$ += 9 * this.$g$.size;\n  }\n  write($dest$jscomp$1$$, $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$) {\n    var $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$ = $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$;\n    for (let [$key__tsickle_destructured_3$$, $arrayBuffer__tsickle_destructured_4$$] of this.$g$) {\n      $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$ = $arrayBuffer__tsickle_destructured_4$$;\n      var $JSCompiler_temp_const$jscomp$3_JSCompiler_temp_const$jscomp$5$$ = $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$, $dest$jscomp$inline_33_offset$jscomp$inline_24$$ = $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$;\n      $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$ = $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$.length;\n      var $byteCount$jscomp$inline_36_config$jscomp$inline_27$$ = $JSCompiler_StaticMethods_getStatsConfig$$($key__tsickle_destructured_3$$);\n      let $chunkType$jscomp$inline_28$$ = $byteCount$jscomp$inline_36_config$jscomp$inline_27$$.name, $dataBufferView$jscomp$inline_29$$ = new DataView($dest$jscomp$1$$.buffer);\n      for (let $i$jscomp$inline_30$$ = 0; 4 > $i$jscomp$inline_30$$; $i$jscomp$inline_30$$++) {\n        $dataBufferView$jscomp$inline_29$$.setUint8($dest$jscomp$inline_33_offset$jscomp$inline_24$$ + $i$jscomp$inline_30$$, $chunkType$jscomp$inline_28$$.charCodeAt($i$jscomp$inline_30$$));\n      }\n      $dataBufferView$jscomp$inline_29$$.setUint8($dest$jscomp$inline_33_offset$jscomp$inline_24$$ + 4, $byteCount$jscomp$inline_36_config$jscomp$inline_27$$.version);\n      $dataBufferView$jscomp$inline_29$$.setUint16($dest$jscomp$inline_33_offset$jscomp$inline_24$$ + 5, $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$, !0);\n      $dataBufferView$jscomp$inline_29$$.setUint16($dest$jscomp$inline_33_offset$jscomp$inline_24$$ + 7, $byteCount$jscomp$inline_36_config$jscomp$inline_27$$.size, !0);\n      $JSCompiler_temp_const$jscomp$3_JSCompiler_temp_const$jscomp$5$$ = $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$ = $JSCompiler_temp_const$jscomp$3_JSCompiler_temp_const$jscomp$5$$ + 9;\n      $dest$jscomp$inline_33_offset$jscomp$inline_24$$ = $dest$jscomp$1$$;\n      $byteCount$jscomp$inline_36_config$jscomp$inline_27$$ = 0;\n      for (let $value$jscomp$inline_37$$ of $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$) {\n        $arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$ = new Uint8Array($value$jscomp$inline_37$$), $dest$jscomp$inline_33_offset$jscomp$inline_24$$.set($arr$jscomp$inline_38_arrayBuffer_source$jscomp$inline_34_startOffset$$, $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$ + $byteCount$jscomp$inline_36_config$jscomp$inline_27$$), $byteCount$jscomp$inline_36_config$jscomp$inline_27$$ += $value$jscomp$inline_37$$.byteLength;\n      }\n      $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$ = $JSCompiler_temp_const$jscomp$3_JSCompiler_temp_const$jscomp$5$$ + $byteCount$jscomp$inline_36_config$jscomp$inline_27$$;\n    }\n    return $elementCount$jscomp$inline_26_offset$jscomp$26_offset$jscomp$inline_35$$;\n  }\n}(), $module$contents$output$ragnarokworker_sessionId$$ = "", $module$contents$output$ragnarokworker_url$$ = "", $module$contents$output$ragnarokworker_statsHeaderObj$$ = null, $module$contents$output$ragnarokworker_webSocket$$ = void 0, $module$contents$output$ragnarokworker_uploadIntervalId$$ = 0, $module$contents$output$ragnarokworker_streamingQuality$$ = [], $module$contents$output$ragnarokworker_mtbDurations$$ = [], $module$contents$output$ragnarokworker_inputChannelStats$$ = [], $module$contents$output$ragnarokworker_garbageCollectionStats$$ = \n[], $module$contents$output$ragnarokworker_serverSupportsAck$$ = !1, $module$contents$output$ragnarokworker_nextAckIdToSendForStats$$ = 0;\nfunction $module$contents$output$ragnarokworker_workerLogger$$($logmsg$$) {\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({log:$logmsg$$});\n}\nfunction $module$contents$output$ragnarokworker_workerException$$($expmsg$$) {\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({exception:$expmsg$$});\n}\nfunction $module$contents$output$ragnarokworker_clearCachedData$$() {\n  $module$contents$output$ragnarokworker_perfs$$ = [];\n  $module$contents$output$ragnarokworker_clientEvents$$ = [];\n  $module$contents$output$ragnarokworker_webrtcBinaryStats$$.$g$.clear();\n  $module$contents$output$ragnarokworker_streamingQuality$$ = [];\n  $module$contents$output$ragnarokworker_mtbDurations$$ = [];\n  $module$contents$output$ragnarokworker_inputChannelStats$$ = [];\n  $module$contents$output$ragnarokworker_garbageCollectionStats$$ = [];\n}\nfunction $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$1$$, $offset$jscomp$29$$, $chunkType$jscomp$1$$, $version$jscomp$4$$, $elementCount$jscomp$1$$, $sizeOfElement$$) {\n  for (let $i$jscomp$5$$ = 0; 4 > $i$jscomp$5$$; $i$jscomp$5$$++) {\n    $dataBufferView$jscomp$1$$.setUint8($offset$jscomp$29$$ + $i$jscomp$5$$, $chunkType$jscomp$1$$.charCodeAt($i$jscomp$5$$));\n  }\n  $dataBufferView$jscomp$1$$.setUint8($offset$jscomp$29$$ + 4, $version$jscomp$4$$);\n  $dataBufferView$jscomp$1$$.setUint16($offset$jscomp$29$$ + 5, $elementCount$jscomp$1$$, !0);\n  $dataBufferView$jscomp$1$$.setUint16($offset$jscomp$29$$ + 7, $sizeOfElement$$, !0);\n}\nfunction $module$contents$output$ragnarokworker_asInt32$$($num$jscomp$6$$) {\n  return 0 > $num$jscomp$6$$ ? Math.max($num$jscomp$6$$, -2147483648) : Math.min($num$jscomp$6$$, 4294967295);\n}\nfunction $module$contents$output$ragnarokworker_uploadData$$() {\n  if (($module$contents$output$ragnarokworker_perfs$$.length || $module$contents$output$ragnarokworker_clientEvents$$.length) && $module$contents$output$ragnarokworker_statsHeaderObj$$) {\n    try {\n      $module$contents$output$ragnarokworker_statsHeaderObj$$.ackid = $module$contents$output$ragnarokworker_serverSupportsAck$$ ? $module$contents$output$ragnarokworker_nextAckIdToSendForStats$$ : void 0;\n      var $header$jscomp$3_offset$jscomp$36$$ = JSON.stringify($module$contents$output$ragnarokworker_statsHeaderObj$$);\n      $i$jscomp$12_len$$ = $header$jscomp$3_offset$jscomp$36$$.length;\n      $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ = $i$jscomp$12_len$$ + 2;\n      var $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$ = new ArrayBuffer($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$);\n      const $headerView$$ = new DataView($headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$);\n      $headerView$$.setUint16(0, $i$jscomp$12_len$$);\n      for (var $i$jscomp$12_len$$ = 2; $i$jscomp$12_len$$ < $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$; ++$i$jscomp$12_len$$) {\n        $headerView$$.setUint8($i$jscomp$12_len$$, $header$jscomp$3_offset$jscomp$36$$.charCodeAt($i$jscomp$12_len$$ - 2));\n      }\n      $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ = new Uint8Array($headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$);\n      $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$ = 13 * $module$contents$output$ragnarokworker_perfs$$.length;\n      $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ = 72 * $module$contents$output$ragnarokworker_clientEvents$$.length;\n      $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ = 12 * $module$contents$output$ragnarokworker_streamingQuality$$.length;\n      $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$ = 10 * $module$contents$output$ragnarokworker_mtbDurations$$.length;\n      $dataBufferView$jscomp$inline_64_inputChannelDataSize$$ = 12 * $module$contents$output$ragnarokworker_inputChannelStats$$.length;\n      const $garbageCollectionDataSize$$ = 16 * $module$contents$output$ragnarokworker_garbageCollectionStats$$.length;\n      let $totalSize$jscomp$1$$ = 9 + $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.length;\n      $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$ && ($totalSize$jscomp$1$$ += 9 + $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$);\n      $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ && ($totalSize$jscomp$1$$ += 9 + $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$);\n      $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ && ($totalSize$jscomp$1$$ += 9 + $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$);\n      $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$ && ($totalSize$jscomp$1$$ += 9 + $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$);\n      $dataBufferView$jscomp$inline_64_inputChannelDataSize$$ && ($totalSize$jscomp$1$$ += 9 + $dataBufferView$jscomp$inline_64_inputChannelDataSize$$);\n      $garbageCollectionDataSize$$ && ($totalSize$jscomp$1$$ += 9 + $garbageCollectionDataSize$$);\n      $totalSize$jscomp$1$$ += $module$contents$output$ragnarokworker_webrtcBinaryStats$$.size();\n      const $dataBuffer$$ = new ArrayBuffer($totalSize$jscomp$1$$);\n      $dataBufferView$jscomp$8_offset$jscomp$inline_65$$ = new DataView($dataBuffer$$);\n      $header$jscomp$3_offset$jscomp$36$$ = 0;\n      (new Uint8Array($dataBuffer$$)).set($dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$);\n      $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.length;\n      $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "BPRF", 1, 0, 0);\n      $header$jscomp$3_offset$jscomp$36$$ += 9;\n      if ($dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "PERF", 2, $module$contents$output$ragnarokworker_perfs$$.length, 13);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$ = 0; $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$ < $module$contents$output$ragnarokworker_perfs$$.length; $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$++) {\n          $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.setFloat64($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$, $module$contents$output$ragnarokworker_perfs$$[$headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$].RAFTS, !0), $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.setUint16($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ + 8, Math.min(1000 * $module$contents$output$ragnarokworker_perfs$$[$headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$].DCSend, \n          65535), !0), $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.setUint16($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ + 10, Math.min(1000 * $module$contents$output$ragnarokworker_perfs$$[$headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$].GetStats, 65535), !0), $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$.setUint8($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ + 12, $module$contents$output$ragnarokworker_perfs$$[$headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$].FrameInfo), \n          $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ += 13;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$;\n      }\n      if ($dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "EVNT", 1, $module$contents$output$ragnarokworker_clientEvents$$.length, 72);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$;\n        $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ = 0; $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$ < $module$contents$output$ragnarokworker_clientEvents$$.length; $i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$++) {\n          $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$.setFloat64($dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$, $module$contents$output$ragnarokworker_clientEvents$$[$i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$].TS, !0);\n          $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ += 8;\n          $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ = $module$contents$output$ragnarokworker_clientEvents$$[$i$jscomp$inline_48_offset$jscomp$inline_43_totalLen$$].eventtype;\n          for ($headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$ = 0; $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$ < $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$.length && 63 > $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$; $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$++) {\n            $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$.setUint8($dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ + $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$, $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$.charCodeAt($headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$));\n          }\n          $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$.setUint8($dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ + $headerBytesBuffer_i$jscomp$inline_44_j$jscomp$inline_50$$, 0);\n          $dataBufferView$jscomp$inline_42_headerBufferBytes_offset$jscomp$inline_47$$ += 64;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$;\n      }\n      if ($dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "SQEV", 1, $module$contents$output$ragnarokworker_streamingQuality$$.length, 12);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$ = 0; $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$ < $module$contents$output$ragnarokworker_streamingQuality$$.length; $dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$++) {\n          $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$.setUint8($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$, $module$contents$output$ragnarokworker_streamingQuality$$[$dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$].qualityScore), $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$.setUint8($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ + \n          1, $module$contents$output$ragnarokworker_streamingQuality$$[$dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$].bandwidthScore), $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$.setUint8($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ + 2, $module$contents$output$ragnarokworker_streamingQuality$$[$dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$].latencyScore), $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$.setUint8($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ + \n          3, $module$contents$output$ragnarokworker_streamingQuality$$[$dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$].networkLossScore), $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$.setFloat64($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ + 4, $module$contents$output$ragnarokworker_streamingQuality$$[$dataBufferView$jscomp$inline_46_i$jscomp$inline_54_perfDataSize$$].timestamp, !0), $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ += \n          12;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$;\n      }\n      if ($dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "MTBD", 1, $module$contents$output$ragnarokworker_mtbDurations$$.length, 10);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$;\n        $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ = 0; $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$ < $module$contents$output$ragnarokworker_mtbDurations$$.length; $eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$++) {\n          $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$.setFloat64($dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$, $module$contents$output$ragnarokworker_mtbDurations$$[$eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$].timestamp, !0), $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$.setUint16($dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ + \n          8, Math.min($module$contents$output$ragnarokworker_mtbDurations$$[$eventstr$jscomp$inline_49_i$jscomp$inline_58_offset$jscomp$inline_53$$].duration, 65535), !0), $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ += 10;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$;\n      }\n      if ($dataBufferView$jscomp$inline_64_inputChannelDataSize$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "INPT", 1, $module$contents$output$ragnarokworker_inputChannelStats$$.length, 12);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$;\n        $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ = 0; $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$ < $module$contents$output$ragnarokworker_inputChannelStats$$.length; $dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$++) {\n          $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$.setFloat64($dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$, $module$contents$output$ragnarokworker_inputChannelStats$$[$dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$].timestamp, !0), $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$.setUint16($dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ + 8, Math.min($module$contents$output$ragnarokworker_inputChannelStats$$[$dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$].bufferedAmount, \n          65535), !0), $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$.setUint16($dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ + 10, Math.min($module$contents$output$ragnarokworker_inputChannelStats$$[$dataBufferView$jscomp$inline_52_eventsDataSize_i$jscomp$inline_62_offset$jscomp$inline_57$$].maxSchedulingDelay, 65535), !0), $dataBufferView$jscomp$inline_56_offset$jscomp$inline_61_sqEventsDataSize$$ += 12;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $dataBufferView$jscomp$inline_64_inputChannelDataSize$$;\n      }\n      if ($garbageCollectionDataSize$$) {\n        $module$contents$output$ragnarokworker_writeChunkHeader$$($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $header$jscomp$3_offset$jscomp$36$$, "GRBG", 1, $module$contents$output$ragnarokworker_garbageCollectionStats$$.length, 16);\n        $header$jscomp$3_offset$jscomp$36$$ += 9;\n        var $dataBufferView$jscomp$inline_64_inputChannelDataSize$$ = $dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $dataBufferView$jscomp$8_offset$jscomp$inline_65$$ = $header$jscomp$3_offset$jscomp$36$$;\n        for ($dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$ = 0; $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$ < $module$contents$output$ragnarokworker_garbageCollectionStats$$.length; $dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$++) {\n          $dataBufferView$jscomp$inline_64_inputChannelDataSize$$.setFloat64($dataBufferView$jscomp$8_offset$jscomp$inline_65$$, $module$contents$output$ragnarokworker_garbageCollectionStats$$[$dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$].timestamp, !0), $dataBufferView$jscomp$inline_64_inputChannelDataSize$$.setInt32($dataBufferView$jscomp$8_offset$jscomp$inline_65$$ + 8, $module$contents$output$ragnarokworker_asInt32$$($module$contents$output$ragnarokworker_garbageCollectionStats$$[$dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$].deltaUsedHeapSize), \n          !0), $dataBufferView$jscomp$inline_64_inputChannelDataSize$$.setInt32($dataBufferView$jscomp$8_offset$jscomp$inline_65$$ + 12, $module$contents$output$ragnarokworker_asInt32$$($module$contents$output$ragnarokworker_garbageCollectionStats$$[$dataBufferView$jscomp$inline_60_durationDataSize_i$jscomp$inline_66$$].deltaTotalHeapSize), !0), $dataBufferView$jscomp$8_offset$jscomp$inline_65$$ += 16;\n        }\n        $header$jscomp$3_offset$jscomp$36$$ += $garbageCollectionDataSize$$;\n      }\n      let $buffer$jscomp$17$$ = new Uint8Array($dataBuffer$$);\n      $module$contents$output$ragnarokworker_webrtcBinaryStats$$.write($buffer$jscomp$17$$, $header$jscomp$3_offset$jscomp$36$$);\n      null === $module$contents$output$ragnarokworker_webSocket$$ || void 0 === $module$contents$output$ragnarokworker_webSocket$$ ? void 0 : $module$contents$output$ragnarokworker_webSocket$$.send({stats:$dataBuffer$$, ackid:$module$contents$output$ragnarokworker_serverSupportsAck$$ ? $module$contents$output$ragnarokworker_nextAckIdToSendForStats$$ : void 0});\n    } catch ($err$jscomp$3$$) {\n      $module$contents$output$ragnarokworker_workerException$$("Exception in perf/stats upload. Error : " + $err$jscomp$3$$.message + " stack: " + $err$jscomp$3$$.stack);\n    }\n  }\n  $module$contents$output$ragnarokworker_clearCachedData$$();\n}\nfunction $module$contents$output$ragnarokworker_wsMessageHandler$$($data$jscomp$83$$) {\n  $module$contents$output$ragnarokworker_serverSupportsAck$$ || void 0 === $data$jscomp$83$$.ackid || ($module$contents$output$ragnarokworker_serverSupportsAck$$ = !0);\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({wsMessage:$data$jscomp$83$$});\n}\nfunction $module$contents$output$ragnarokworker_wsCloseHandler$$($data$jscomp$84$$) {\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({wsClose:$data$jscomp$84$$});\n}\nfunction $module$contents$output$ragnarokworker_wsOpenHandler$$() {\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({wsOpen:!0});\n}\nfunction $module$contents$output$ragnarokworker_wsOpeningHandler$$() {\n  $module$contents$output$ragnarokworker_ctx$$.postMessage({wsOpening:!0});\n}\nfunction $module$contents$output$ragnarokworker_createWebSocket$$($maxReceivedAckId$jscomp$1$$, $reconnect$jscomp$2$$) {\n  $module$contents$output$ragnarokworker_webSocket$$ = new $module$exports$output$websocketimpl$WebSocketImpl$$();\n  $module$contents$output$ragnarokworker_webSocket$$.initialize($module$contents$output$ragnarokworker_url$$, $maxReceivedAckId$jscomp$1$$, $module$contents$output$ragnarokworker_serverSupportsAck$$, $reconnect$jscomp$2$$);\n  $module$contents$output$ragnarokworker_wsOpeningHandler$$();\n}\n$module$contents$output$ragnarokworker_ctx$$.onmessage = function($message$jscomp$34$$) {\n  try {\n    const $data$jscomp$85$$ = $message$jscomp$34$$.data;\n    $data$jscomp$85$$.initMessage ? ($module$contents$output$ragnarokworker_sessionId$$ = $data$jscomp$85$$.initMessage.sessionId, $module$contents$output$ragnarokworker_workerLogger$$("{6ccab8d}")) : $data$jscomp$85$$.perf ? $module$contents$output$ragnarokworker_perfs$$.push($data$jscomp$85$$.perf) : $data$jscomp$85$$.clientEvent ? $module$contents$output$ragnarokworker_clientEvents$$.push($data$jscomp$85$$.clientEvent) : $data$jscomp$85$$.startStats ? ($module$contents$output$ragnarokworker_statsHeaderObj$$ = \n    $data$jscomp$85$$.startStats.statsHeader, $module$contents$output$ragnarokworker_uploadIntervalId$$ = self.setInterval(() => $module$contents$output$ragnarokworker_uploadData$$(), 5000), $module$contents$output$ragnarokworker_ctx$$.postMessage({statsStarted:!0}), $module$contents$output$ragnarokworker_workerLogger$$("{5209d98}")) : $data$jscomp$85$$.stopStats ? (self.clearInterval($module$contents$output$ragnarokworker_uploadIntervalId$$), $module$contents$output$ragnarokworker_uploadData$$(), \n    $module$contents$output$ragnarokworker_clearCachedData$$(), $module$contents$output$ragnarokworker_workerLogger$$("{b58b6ad}")) : $data$jscomp$85$$.webrtcStats ? ($data$jscomp$85$$.ackid && ($module$contents$output$ragnarokworker_nextAckIdToSendForStats$$ = $data$jscomp$85$$.ackid), $data$jscomp$85$$.webrtcStats.stats && $JSCompiler_StaticMethods_addReport$$($data$jscomp$85$$.webrtcStats)) : $data$jscomp$85$$.sq ? $module$contents$output$ragnarokworker_streamingQuality$$.push($data$jscomp$85$$.sq) : \n    $data$jscomp$85$$.startWebSocket ? ($module$contents$output$ragnarokworker_url$$ = $data$jscomp$85$$.startWebSocket.signInURL, $module$contents$output$ragnarokworker_serverSupportsAck$$ = $data$jscomp$85$$.startWebSocket.serverSupportsAck, $module$contents$output$ragnarokworker_createWebSocket$$($data$jscomp$85$$.startWebSocket.maxReceivedAckId, $data$jscomp$85$$.startWebSocket.reconnect)) : $data$jscomp$85$$.stopWebSocket ? (null === $module$contents$output$ragnarokworker_webSocket$$ || void 0 === \n    $module$contents$output$ragnarokworker_webSocket$$ ? void 0 : $module$contents$output$ragnarokworker_webSocket$$.uninitialize(), $module$contents$output$ragnarokworker_serverSupportsAck$$ = !1) : $data$jscomp$85$$.send ? null === $module$contents$output$ragnarokworker_webSocket$$ || void 0 === $module$contents$output$ragnarokworker_webSocket$$ ? void 0 : $module$contents$output$ragnarokworker_webSocket$$.send($data$jscomp$85$$.send) : $data$jscomp$85$$.duration ? $module$contents$output$ragnarokworker_mtbDurations$$.push($data$jscomp$85$$.duration) : \n    $data$jscomp$85$$.inputChannelStats ? $module$contents$output$ragnarokworker_inputChannelStats$$.push($data$jscomp$85$$.inputChannelStats) : $data$jscomp$85$$.garbageCollectionStats && $module$contents$output$ragnarokworker_garbageCollectionStats$$.push($data$jscomp$85$$.garbageCollectionStats);\n  } catch ($exp$jscomp$1$$) {\n    $module$contents$output$ragnarokworker_workerException$$("Worker onmessage exception: " + $exp$jscomp$1$$);\n  }\n};\n\n\n\n'], 
      {type:"text/javascript"}));
      this.$g$ = new Worker($blobUrl$$);
      URL.revokeObjectURL($blobUrl$$);
      this.$g$.onmessage = this.$v$.bind(this);
      this.$g$.onerror = this.$u$.bind(this);
      $module$exports$rtcutils_core$output$logger$Log$$.i("{1f5ec29}", "{62dee75}");
    } catch ($err$jscomp$27$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", "{50fa2e5}", $err$jscomp$27$$.message), this.$l$.push({name:"RagnarokWorkerProblem", error:JSON.stringify($err$jscomp$27$$)});
    }
  }
  startWebSocket($msg$jscomp$10_signInURL$$, $maxReceivedAckId$$, $serverSupportsAck$$, $wsHandler$$, $reconnect$$) {
    this.$wsHandler$ = $wsHandler$$;
    $msg$jscomp$10_signInURL$$ = {startWebSocket:{signInURL:$msg$jscomp$10_signInURL$$, maxReceivedAckId:$maxReceivedAckId$$, serverSupportsAck:$serverSupportsAck$$, reconnect:$reconnect$$}};
    this.$g$ && (this.$g$.postMessage($msg$jscomp$10_signInURL$$), $module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{b3f6faa}"));
  }
  stopWebSocket() {
    const $workerMessage$$ = {stopWebSocket:!0};
    this.$g$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{7ac815d}"), this.$g$.postMessage($workerMessage$$));
    this.$wsHandler$ = null;
  }
  initialize($sessionId$jscomp$27$$, $telemetry$jscomp$2$$, $ackIdGenerator$$) {
    this.$o$ = $telemetry$jscomp$2$$;
    this.$s$ = $ackIdGenerator$$;
    if (0 < this.$l$.length) {
      for (const $obj$jscomp$28$$ of this.$l$) {
        $telemetry$jscomp$2$$.$emitDebugEvent$($obj$jscomp$28$$.name, $obj$jscomp$28$$.error);
      }
      this.$l$ = [];
    }
    if (0 < this.$m$.length) {
      for (const $error$jscomp$15$$ of this.$m$) {
        $JSCompiler_StaticMethods_emitError$$(this, $error$jscomp$15$$);
      }
      this.$m$ = [];
    }
    this.$h$ = !1;
    $JSCompiler_StaticMethods_resetPerf$$(this);
    0 === this.$j$ && (this.$j$ = performance.now());
    this.$g$ ? (this.$g$.postMessage({initMessage:{sessionId:$sessionId$jscomp$27$$}}), $module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{404f264}")) : $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", "{c62bf29}");
  }
  $v$($ev_response$jscomp$11$$) {
    $ev_response$jscomp$11$$ = $ev_response$jscomp$11$$.data;
    $ev_response$jscomp$11$$.statsStarted ? (this.$h$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{0f8a41a}")) : $ev_response$jscomp$11$$.log ? $module$exports$rtcutils_core$output$logger$Log$$.i("{cbf9f59}", "{0b0c6f9}", $ev_response$jscomp$11$$.log) : $ev_response$jscomp$11$$.exception ? $module$exports$rtcutils_core$output$logger$Log$$.i("{cbf9f59}", "{0b0c6f9}", $ev_response$jscomp$11$$.exception) : $ev_response$jscomp$11$$.wsClose ? this.$wsHandler$ ? $JSCompiler_StaticMethods_closeHandler$$(this.$wsHandler$, 
    $ev_response$jscomp$11$$.wsClose) : $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", "{900a6f2}") : $ev_response$jscomp$11$$.wsMessage ? this.$wsHandler$ ? $JSCompiler_StaticMethods_messageHandler$$(this.$wsHandler$, $ev_response$jscomp$11$$.wsMessage) : $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", "{900a6f2}") : $ev_response$jscomp$11$$.wsOpening ? this.$wsHandler$ ? $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{6423101}") : $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", 
    "{900a6f2}") : $ev_response$jscomp$11$$.wsOpen && (this.$wsHandler$ ? $JSCompiler_StaticMethods_openHandler$$(this.$wsHandler$) : $module$exports$rtcutils_core$output$logger$Log$$.e("{1f5ec29}", "{900a6f2}"));
  }
  $u$($ev$jscomp$1$$) {
    this.$o$ ? $JSCompiler_StaticMethods_emitError$$(this, $ev$jscomp$1$$) : this.$m$.push($ev$jscomp$1$$);
  }
}();
function $module$contents$output$util$utils_CalculateMaxBitrateKbps$$($bitsPerPixel_width$jscomp$29$$, $height$jscomp$26$$, $fps$$) {
  var $_a$jscomp$44_maxRateKbps1080p$$, $_b$jscomp$21$$, $_c$jscomp$11$$, $_d$jscomp$10$$;
  const $bIsResolution4k$$ = 4953600 <= $bitsPerPixel_width$jscomp$29$$ * $height$jscomp$26$$;
  var $adjustedFps_maxRateKbps1440p$$ = 30 === $fps$$ ? 1.25 * $fps$$ : Math.min($fps$$, 60);
  let $maxRateKbps$$ = $bitsPerPixel_width$jscomp$29$$ * $height$jscomp$26$$ * $adjustedFps_maxRateKbps1440p$$;
  $module$contents$output$util$utils_IsResolution1440p$$($bitsPerPixel_width$jscomp$29$$, $height$jscomp$26$$) || $bIsResolution4k$$ ? ($bitsPerPixel_width$jscomp$29$$ = null !== ($_b$jscomp$21$$ = null !== ($_a$jscomp$44_maxRateKbps1080p$$ = $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel1440p) && void 0 !== $_a$jscomp$44_maxRateKbps1080p$$ ? $_a$jscomp$44_maxRateKbps1080p$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.bitsPerPixel1440p) && void 0 !== 
  $_b$jscomp$21$$ ? $_b$jscomp$21$$ : 0.325, $_a$jscomp$44_maxRateKbps1080p$$ = 2073600 * $adjustedFps_maxRateKbps1440p$$, $adjustedFps_maxRateKbps1440p$$ = $_a$jscomp$44_maxRateKbps1080p$$ + (3686400 * $adjustedFps_maxRateKbps1440p$$ - $_a$jscomp$44_maxRateKbps1080p$$) / 3, $maxRateKbps$$ = $bIsResolution4k$$ ? $adjustedFps_maxRateKbps1440p$$ + ($maxRateKbps$$ - $adjustedFps_maxRateKbps1440p$$) / 12 : $_a$jscomp$44_maxRateKbps1080p$$ + ($maxRateKbps$$ - $_a$jscomp$44_maxRateKbps1080p$$) / 3) : $bitsPerPixel_width$jscomp$29$$ = 
  null !== ($_d$jscomp$10$$ = null !== ($_c$jscomp$11$$ = $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel) && void 0 !== $_c$jscomp$11$$ ? $_c$jscomp$11$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.bitsPerPixel) && void 0 !== $_d$jscomp$10$$ ? $_d$jscomp$10$$ : 0.3;
  $maxRateKbps$$ = $maxRateKbps$$ * $bitsPerPixel_width$jscomp$29$$ / 1200;
  120 <= $fps$$ && !$bIsResolution4k$$ && ($maxRateKbps$$ = Math.min(50000, Math.round(1.15 * $maxRateKbps$$)));
  return Math.round($maxRateKbps$$);
}
async function $module$contents$output$util$utils_GetSupportedAudioChannelCountAsync$$() {
  var $audioCtx$jscomp$1_maxMungePossible$$ = $module$contents$output$util$utils_GetAudioContext$$();
  if ($audioCtx$jscomp$1_maxMungePossible$$) {
    const $channelCount$jscomp$1$$ = $audioCtx$jscomp$1_maxMungePossible$$.destination.maxChannelCount;
    $audioCtx$jscomp$1_maxMungePossible$$.close();
    $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{fa78e0a}", $channelCount$jscomp$1$$);
    $audioCtx$jscomp$1_maxMungePossible$$ = await $module$contents$output$util$utils_mungingTest$$();
    return Math.min($channelCount$jscomp$1$$, $audioCtx$jscomp$1_maxMungePossible$$);
  }
  $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{d018fac}");
  return 2;
}
function $module$contents$output$util$utils_LimitResolution$$($b$jscomp$1_resolution$$, $clipped_limits_ratios$$) {
  if (0 == $clipped_limits_ratios$$.length) {
    return $b$jscomp$1_resolution$$;
  }
  class $AspectRatio$$ {
    constructor($w$jscomp$16$$, $h$jscomp$6$$) {
      this.w = $w$jscomp$16$$;
      this.$g$ = $h$jscomp$6$$;
      this.a = $w$jscomp$16$$ / $h$jscomp$6$$;
    }
    $j$($f$jscomp$1$$) {
      return 0.05 > Math.abs($f$jscomp$1$$.a - this.a) ? $f$jscomp$1$$ : $f$jscomp$1$$.a > this.a ? new $AspectRatio$$(Math.floor(this.a / $f$jscomp$1$$.a * $f$jscomp$1$$.w), $f$jscomp$1$$.$g$) : new $AspectRatio$$($f$jscomp$1$$.w, Math.floor($f$jscomp$1$$.a / this.a * $f$jscomp$1$$.$g$));
    }
    $h$() {
      return [this.w, this.$g$];
    }
  }
  $clipped_limits_ratios$$ = $clipped_limits_ratios$$.map($a$jscomp$1$$ => new $AspectRatio$$($a$jscomp$1$$[0], $a$jscomp$1$$[1]));
  const $r$jscomp$2$$ = new $AspectRatio$$($b$jscomp$1_resolution$$[0], $b$jscomp$1_resolution$$[1]);
  $b$jscomp$1_resolution$$ = $clipped_limits_ratios$$[0];
  for (let $i$jscomp$8$$ = 1; $i$jscomp$8$$ < $clipped_limits_ratios$$.length; $i$jscomp$8$$++) {
    let $a$jscomp$2$$ = $clipped_limits_ratios$$[$i$jscomp$8$$];
    Math.abs($r$jscomp$2$$.a - $a$jscomp$2$$.a) < Math.abs($r$jscomp$2$$.a - $b$jscomp$1_resolution$$.a) && ($b$jscomp$1_resolution$$ = $a$jscomp$2$$);
  }
  $clipped_limits_ratios$$ = $b$jscomp$1_resolution$$.$j$($r$jscomp$2$$);
  return $clipped_limits_ratios$$.w > $b$jscomp$1_resolution$$.w ? $b$jscomp$1_resolution$$.$h$() : $clipped_limits_ratios$$.$h$();
}
function $module$contents$output$util$utils_MakeLandscapeResolution$$($res$jscomp$2$$) {
  return $res$jscomp$2$$[0] < $res$jscomp$2$$[1] ? [$res$jscomp$2$$[1], $res$jscomp$2$$[0]] : $res$jscomp$2$$;
}
function $module$contents$output$util$utils_ChooseStreamingSettingsImpl$$($streamingProfilePreset$jscomp$2$$, $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$, $exception$jscomp$3$$) {
  var $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = screen.width, $screenHeight$$ = screen.height, $iPhone_upperLimits$$ = !!($exception$jscomp$3$$ & 1);
  const $iPad$$ = !!($exception$jscomp$3$$ & 2);
  var $reducedLimits_tizen4k$$ = !!($exception$jscomp$3$$ & 4);
  if ($reducedLimits_tizen4k$$ || $exception$jscomp$3$$ & 8) {
    $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = 3840, $screenHeight$$ = 2160;
  }
  if ($candidateSettings$jscomp$2_selectedSettings$jscomp$1$$ && 0 < $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.length) {
    [$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, $screenHeight$$] = $module$contents$output$util$utils_MakeLandscapeResolution$$([$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, $screenHeight$$]);
    $iPad$$ && 1366 <= $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ && 0 === $streamingProfilePreset$jscomp$2$$ && ($filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = 1600, $screenHeight$$ = 1200);
    const $screenAspectRatio$$ = $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ / $screenHeight$$, $screenPixelCount$$ = $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ * $screenHeight$$;
    $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.filter($settings$jscomp$2$$ => 120 > $settings$jscomp$2$$.frameRate);
    $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$.length && ($candidateSettings$jscomp$2_selectedSettings$jscomp$1$$ = $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$);
    $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.sort(($a$jscomp$3$$, $b$jscomp$2$$) => {
      var $aPixelCount_aRes$$ = $a$jscomp$3$$.resolution, $bPixelCount_bRes$$ = $b$jscomp$2$$.resolution, $aspectRatioDiff_resolutionPresetSelector$$ = Math.abs($aPixelCount_aRes$$.width / $aPixelCount_aRes$$.height - $screenAspectRatio$$) - Math.abs($bPixelCount_bRes$$.width / $bPixelCount_bRes$$.height - $screenAspectRatio$$);
      if (0.05 < Math.abs($aspectRatioDiff_resolutionPresetSelector$$)) {
        return $aspectRatioDiff_resolutionPresetSelector$$;
      }
      $aspectRatioDiff_resolutionPresetSelector$$ = 0 === $streamingProfilePreset$jscomp$2$$ ? -1 : 1;
      const $frameRateSelection$$ = (1 === $streamingProfilePreset$jscomp$2$$ ? 1 : -1) * ($a$jscomp$3$$.frameRate - $b$jscomp$2$$.frameRate);
      $aPixelCount_aRes$$ = $aPixelCount_aRes$$.width * $aPixelCount_aRes$$.height;
      $bPixelCount_bRes$$ = $bPixelCount_bRes$$.width * $bPixelCount_bRes$$.height;
      const $pixelCountDiff$$ = $aPixelCount_aRes$$ - $bPixelCount_bRes$$;
      return $aPixelCount_aRes$$ <= $screenPixelCount$$ ? $bPixelCount_bRes$$ <= $screenPixelCount$$ ? $a$jscomp$3$$.frameRate !== $b$jscomp$2$$.frameRate ? $frameRateSelection$$ : $aspectRatioDiff_resolutionPresetSelector$$ * $pixelCountDiff$$ : -1 : $bPixelCount_bRes$$ <= $screenPixelCount$$ ? 1 : $pixelCountDiff$$ ? $pixelCountDiff$$ : $frameRateSelection$$;
    });
    return $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$[0];
  }
  $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$ = {resolution:{width:1280, height:720}, frameRate:60};
  if ($iPhone_upperLimits$$) {
    let [$width__tsickle_destructured_1$$, $height__tsickle_destructured_2$$] = $module$contents$output$util$utils_MakeLandscapeResolution$$([$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, $screenHeight$$]);
    2.0 < $width__tsickle_destructured_1$$ / $height__tsickle_destructured_2$$ && ($candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.resolution = {width:1376, height:640});
  } else {
    $iPad$$ ? 0 != $streamingProfilePreset$jscomp$2$$ ? $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.resolution = {width:1024, height:768} : ([$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$] = $module$contents$output$util$utils_MakeLandscapeResolution$$([$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, $screenHeight$$]), $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.resolution = 1024 >= $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ ? 
    {width:1024, height:768} : 1366 > $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ ? {width:1112, height:834} : {width:1600, height:1200}) : ($iPhone_upperLimits$$ = [[1920, 1200], [1920, 1080], [1280, 1024], [1600, 1200]], $reducedLimits_tizen4k$$ && $iPhone_upperLimits$$.unshift([3840, 2160]), $reducedLimits_tizen4k$$ = [[1280, 800], [1280, 720], [1280, 1024], [1024, 768]], $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = [$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, 
    $screenHeight$$], $filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$ = $module$contents$output$util$utils_LimitResolution$$($filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$, 0 == $streamingProfilePreset$jscomp$2$$ ? $iPhone_upperLimits$$ : $reducedLimits_tizen4k$$), $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$.resolution = {width:$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$[0], height:$filteredSettings_res$jscomp$3_screenWidth_width__tsickle_destructured_3$$[1]});
  }
  return $candidateSettings$jscomp$2_selectedSettings$jscomp$1$$;
}
function $module$contents$output$util$utils_GetStreamingSettingsExceptions$$($platformDetails$jscomp$24$$) {
  var $_a$jscomp$45$$;
  let $exception$jscomp$4$$ = 0;
  $module$contents$rtcutils_core$output$utils_IsiPhone$$($platformDetails$jscomp$24$$) && ($exception$jscomp$4$$ |= 1);
  ($platformDetails$jscomp$24$$ ? "iPadOS" === $platformDetails$jscomp$24$$.os : /^(?!.*chrome).*safari/i.test(navigator.userAgent) && !$module$contents$rtcutils_core$output$utils_IsiPhone$$() && $module$contents$rtcutils_core$output$utils_IsTouchDevice$$()) && ($exception$jscomp$4$$ |= 2);
  (null === ($_a$jscomp$45$$ = window.webapis) || void 0 === $_a$jscomp$45$$ ? 0 : $_a$jscomp$45$$.productinfo) && window.webapis.productinfo.isUdPanelSupported() && ($exception$jscomp$4$$ |= 4);
  window.lge_webrtc_hevc_support && ($exception$jscomp$4$$ |= 8);
  return $exception$jscomp$4$$;
}
function $module$contents$output$util$utils_GetSafeAreas$$() {
  if (!getComputedStyle(document.documentElement)) {
    return {top:0, left:0, bottom:0, right:0};
  }
  getComputedStyle(document.documentElement).getPropertyValue("--sat") || (document.documentElement.style.setProperty("--sat", "env(safe-area-inset-top)"), document.documentElement.style.setProperty("--sar", "env(safe-area-inset-right)"), document.documentElement.style.setProperty("--sab", "env(safe-area-inset-bottom)"), document.documentElement.style.setProperty("--sal", "env(safe-area-inset-left)"));
  return {top:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sat")), left:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sal")), bottom:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sab")), right:parseInt(getComputedStyle(document.documentElement).getPropertyValue("--sar"))};
}
function $module$contents$output$util$utils_clamp$$($v$$, $hi$$) {
  return 0 > $v$$ ? 0 : $v$$ > $hi$$ ? $hi$$ : $v$$;
}
function $module$contents$output$util$utils_WarpTouch$$($touch$$) {
  var $frac_frac$jscomp$1_safe$$ = $module$contents$output$util$utils_GetSafeAreas$$();
  $frac_frac$jscomp$1_safe$$.top = Math.max($frac_frac$jscomp$1_safe$$.top, 21);
  $frac_frac$jscomp$1_safe$$.bottom = $module$contents$output$util$utils_clamp$$($frac_frac$jscomp$1_safe$$.bottom, 10);
  let $pt$$ = {x:$touch$$.clientX, y:$touch$$.clientY}, $anchorY$$ = 0.5;
  0 < $frac_frac$jscomp$1_safe$$.top && $touch$$.clientY - $touch$$.radiusY < $frac_frac$jscomp$1_safe$$.top ? ($frac_frac$jscomp$1_safe$$ = ($frac_frac$jscomp$1_safe$$.top - ($touch$$.clientY - Math.min($touch$$.radiusY, 21.0))) / $touch$$.radiusY, $frac_frac$jscomp$1_safe$$ = $module$contents$output$util$utils_clamp$$($frac_frac$jscomp$1_safe$$, 1.0), $anchorY$$ -= 0.5 * $frac_frac$jscomp$1_safe$$ * $frac_frac$jscomp$1_safe$$) : 0 < $frac_frac$jscomp$1_safe$$.bottom && $touch$$.clientY + $touch$$.radiusY > 
  window.innerHeight - $frac_frac$jscomp$1_safe$$.bottom && ($frac_frac$jscomp$1_safe$$ = ($touch$$.clientY + Math.min($touch$$.radiusY, 10.0) - (window.innerHeight - $frac_frac$jscomp$1_safe$$.bottom)) / $touch$$.radiusY, $frac_frac$jscomp$1_safe$$ = $module$contents$output$util$utils_clamp$$($frac_frac$jscomp$1_safe$$, 1.0), $anchorY$$ += 0.5 * $frac_frac$jscomp$1_safe$$ * $frac_frac$jscomp$1_safe$$);
  $pt$$.y = $module$contents$output$util$utils_clamp$$($pt$$.y - $touch$$.radiusY + 2.0 * $anchorY$$ * $touch$$.radiusY, window.innerHeight);
  return $pt$$;
}
function $module$contents$output$util$utils_ConvertErrorOnSleep$$($errorCode$jscomp$3$$, $platformDetails$jscomp$26$$) {
  let $newCode$jscomp$1$$ = $errorCode$jscomp$3$$;
  if ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sleepErrorsStreaming && $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sleepErrorsStreaming.includes($module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$3$$))) {
    $newCode$jscomp$1$$ = 15867908;
  } else if ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sleepErrorsSessionSetup && $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sleepErrorsSessionSetup.includes($module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$3$$))) {
    $newCode$jscomp$1$$ = 15867909;
  } else {
    switch($errorCode$jscomp$3$$) {
      case 3237093906:
        $module$contents$rtcutils_core$output$utils_IsiDevice$$($platformDetails$jscomp$26$$) && ($newCode$jscomp$1$$ = 15867908);
        break;
      case 3237094159:
        $newCode$jscomp$1$$ = 15867908;
        break;
      case 3237093654:
        $newCode$jscomp$1$$ = 15867909;
    }
  }
  $newCode$jscomp$1$$ !== $errorCode$jscomp$3$$ && $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{49e2182}", $module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$3$$), $module$contents$rtcutils_core$output$utils_GetHexString$$($newCode$jscomp$1$$));
  return $newCode$jscomp$1$$;
}
function $module$contents$output$util$utils_setUint64$$($upper_value$jscomp$111$$, $dataBufferView$$, $offset$jscomp$27$$, $littleEndian$jscomp$4$$, $scale$jscomp$4$$ = 1) {
  const $lower$$ = Math.floor($upper_value$jscomp$111$$ * $scale$jscomp$4$$) & 4294967295;
  $upper_value$jscomp$111$$ = Math.floor($upper_value$jscomp$111$$ / 4294967296 * $scale$jscomp$4$$);
  $littleEndian$jscomp$4$$ ? ($dataBufferView$$.setUint32($offset$jscomp$27$$, $lower$$, !0), $dataBufferView$$.setUint32($offset$jscomp$27$$ + 4, $upper_value$jscomp$111$$, !0)) : ($dataBufferView$$.setUint32($offset$jscomp$27$$, $upper_value$jscomp$111$$, !1), $dataBufferView$$.setUint32($offset$jscomp$27$$ + 4, $lower$$, !1));
}
function $module$contents$output$util$utils_CanResume$$($code$jscomp$8$$, $platformDetails$jscomp$27$$) {
  let $result$jscomp$10$$ = !1;
  switch($code$jscomp$8$$) {
    case 3237093896:
    case 3237093897:
    case 3237093898:
    case 3237093906:
    case 3237093899:
    case 3237093901:
    case 15868418:
    case 3237094159:
      $result$jscomp$10$$ = !0;
      break;
    case 15867908:
      $module$contents$rtcutils_core$output$utils_IsiDevice$$($platformDetails$jscomp$27$$) && ($result$jscomp$10$$ = !0);
  }
  return $result$jscomp$10$$;
}
function $module$contents$output$util$utils_IsResolution1440p$$($pixelCount_width$jscomp$32$$, $height$jscomp$28$$) {
  $pixelCount_width$jscomp$32$$ *= $height$jscomp$28$$;
  return 2764800 <= $pixelCount_width$jscomp$32$$ && 4953600 > $pixelCount_width$jscomp$32$$;
}
function $module$contents$output$util$utils_GetCodecType$$($codecString$$) {
  let $codecType$$ = "UNKNOWN";
  $codecString$$ && ($codecString$$ = $codecString$$.toUpperCase(), $codecString$$.includes("H264") ? $codecType$$ = "H264" : $codecString$$.includes("H265") && ($codecType$$ = "HEVC"));
  return $codecType$$;
}
function $module$contents$output$util$utils_ShouldEnableCPM$$($allowCPMOnPlatform_platformDetails$jscomp$28$$) {
  var $_a$jscomp$46$$;
  $allowCPMOnPlatform_platformDetails$jscomp$28$$ = $module$contents$rtcutils_core$output$utils_IsChromeOS$$($allowCPMOnPlatform_platformDetails$jscomp$28$$) || $module$contents$rtcutils_core$output$utils_IsWindowsOS$$($allowCPMOnPlatform_platformDetails$jscomp$28$$) || $module$contents$rtcutils_core$output$utils_IsMacOS$$($allowCPMOnPlatform_platformDetails$jscomp$28$$) || "Linux" === $allowCPMOnPlatform_platformDetails$jscomp$28$$.os || $module$contents$rtcutils_core$output$utils_IsiDevice$$($allowCPMOnPlatform_platformDetails$jscomp$28$$);
  return null !== ($_a$jscomp$46$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.enableCpm) && void 0 !== $_a$jscomp$46$$ ? $_a$jscomp$46$$ : $allowCPMOnPlatform_platformDetails$jscomp$28$$;
}
function $module$contents$output$util$utils_ToBooleanType$$($x$jscomp$98$$) {
  return void 0 !== $x$jscomp$98$$ ? $x$jscomp$98$$ ? "TRUE" : "FALSE" : "UNDEFINED";
}
let $module$contents$output$util$utils_tasksToRunOnInit$$ = [];
function $module$contents$output$util$utils_GetResolutionString$$($resolution$jscomp$1$$) {
  return `${$resolution$jscomp$1$$.width.toFixed()}x${$resolution$jscomp$1$$.height.toFixed()}`;
}
function $module$contents$output$util$utils_Download$$($content$$, $fileName$jscomp$1$$, $mimeType$jscomp$6$$) {
  try {
    const $link$$ = document.createElement("a");
    $link$$.style.display = "none";
    const $url$jscomp$33$$ = URL.createObjectURL(new Blob($content$$, {type:$mimeType$jscomp$6$$}));
    $link$$.href = $url$jscomp$33$$;
    $link$$.download = $fileName$jscomp$1$$;
    document.body.appendChild($link$$);
    $link$$.click();
    URL.revokeObjectURL($url$jscomp$33$$);
    document.body.removeChild($link$$);
    return !0;
  } catch ($err$jscomp$28$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{d988e7f}", "{8d57ba9}", $err$jscomp$28$$), !1;
  }
}
function $module$contents$output$util$utils_GetAudioContext$$($sampleRate$jscomp$3$$) {
  const $audioContext$$ = window.AudioContext || window.webkitAudioContext || void 0;
  if ($audioContext$$) {
    return $sampleRate$jscomp$3$$ ? new $audioContext$$({$sampeleRate$:$sampleRate$jscomp$3$$}) : new $audioContext$$();
  }
  $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{b74c037}");
}
function $module$contents$output$util$utils_IsEqualShallow$$($a$jscomp$4$$, $b$jscomp$3$$) {
  const $keysA$$ = Object.keys($a$jscomp$4$$), $keysB$$ = Object.keys($b$jscomp$3$$);
  if ($keysA$$.length !== $keysB$$.length) {
    return !1;
  }
  for (const $key$jscomp$51$$ of $keysA$$) {
    if ($a$jscomp$4$$[$key$jscomp$51$$] !== $b$jscomp$3$$[$key$jscomp$51$$]) {
      return !1;
    }
  }
  return !0;
}
async function $module$contents$output$util$utils_mungingHelper$$($channel$jscomp$1$$, $sdp$jscomp$1$$, $opusDescription$$) {
  var $_a$jscomp$47$$;
  const $pc$$ = new RTCPeerConnection();
  try {
    await $pc$$.setRemoteDescription({type:"offer", sdp:$sdp$jscomp$1$$}).catch($sdpError$$ => {
      throw Error("Audio munging setRemoteDescription failed. " + $sdpError$$);
    });
    const $answer$$ = await $pc$$.createAnswer();
    await $pc$$.setLocalDescription({type:"answer", sdp:null === ($_a$jscomp$47$$ = $answer$$.sdp) || void 0 === $_a$jscomp$47$$ ? void 0 : $_a$jscomp$47$$.replace("opus/48000/2", "multiopus/48000/" + $channel$jscomp$1$$).replace("useinbandfec=1", $opusDescription$$)}).catch($sdpError$jscomp$1$$ => {
      throw Error("Audio munging setLocalDescription failed. " + $sdpError$jscomp$1$$);
    });
    const $receiver$$ = $pc$$.getReceivers()[0];
    if (!$receiver$$.getParameters) {
      return $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{4be0bf6}"), 2;
    }
    const {codecs:$codecs$jscomp$1$$} = $receiver$$.getParameters();
    if (1 === $codecs$jscomp$1$$.length && "audio/multiopus" === $codecs$jscomp$1$$[0].mimeType && $codecs$jscomp$1$$[0].channels === $channel$jscomp$1$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{8919816}", $channel$jscomp$1$$, $codecs$jscomp$1$$[0]);
    } else {
      throw Error("Audio munging failed " + $codecs$jscomp$1$$[0]);
    }
    return $channel$jscomp$1$$;
  } catch ($exception$jscomp$5$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{d988e7f}", "{4984c00}", $channel$jscomp$1$$, $exception$jscomp$5$$), 2;
  } finally {
    $pc$$.close();
  }
}
async function $module$contents$output$util$utils_mungingTest$$() {
  let $maxChannelCount$$ = 2;
  var $munging7_1_opusDescription$jscomp$1$$ = "minptime=10;useinbandfec=1;channel_mapping=0,4,1,2,3,5;num_streams=4;coupled_streams=2";
  const $munging5_1$$ = $module$contents$output$util$utils_mungingHelper$$(6, "v=0\no=- 0 3 IN IP4 127.0.0.1\ns=-\nt=0 0\na=fingerprint:sha-256 A7:24:72:CA:6E:02:55:39:BA:66:DF:6E:CC:4C:D8:B0:1A:BF:1A:56:65:7D:F4:03:AD:7E:77:43:2A:29:EC:93\nm=audio 9 UDP/TLS/RTP/SAVPF 100 101\nc=IN IP4 0.0.0.0\na=rtcp-mux\na=sendonly\na=mid:audio\na=setup:actpass\na=ice-ufrag:ETEn\na=ice-pwd:OtSK0WpNtpUjkY4+86js7Z/l\r\na=rtpmap:100 multiopus/48000/6\r\na=fmtp:100 " + $munging7_1_opusDescription$jscomp$1$$ + "\r\na=rtpmap:101 opus/48000/2\na=fmtp:101 minptime=10;useinbandfec=1\n", 
  $munging7_1_opusDescription$jscomp$1$$);
  $munging7_1_opusDescription$jscomp$1$$ = "minptime=10;useinbandfec=1;channel_mapping=0,6,1,2,3,4,5,7;num_streams=5;coupled_streams=3";
  $munging7_1_opusDescription$jscomp$1$$ = $module$contents$output$util$utils_mungingHelper$$(8, "v=0\no=- 0 3 IN IP4 127.0.0.1\ns=-\nt=0 0\na=fingerprint:sha-256 A7:24:72:CA:6E:02:55:39:BA:66:DF:6E:CC:4C:D8:B0:1A:BF:1A:56:65:7D:F4:03:AD:7E:77:43:2A:29:EC:93\nm=audio 9 UDP/TLS/RTP/SAVPF 100 101\nc=IN IP4 0.0.0.0\na=rtcp-mux\na=sendonly\na=mid:audio\na=setup:actpass\na=ice-ufrag:ETEn\na=ice-pwd:OtSK0WpNtpUjkY4+86js7Z/l\r\na=rtpmap:100 multiopus/48000/8\r\na=fmtp:100 " + $munging7_1_opusDescription$jscomp$1$$ + 
  "\r\na=rtpmap:101 opus/48000/2\na=fmtp:101 minptime=10;useinbandfec=1\n", $munging7_1_opusDescription$jscomp$1$$);
  await Promise.all([$munging5_1$$, $munging7_1_opusDescription$jscomp$1$$]).then($values$jscomp$10$$ => {
    $maxChannelCount$$ = Math.max(Number($values$jscomp$10$$[0]), Number($values$jscomp$10$$[1]));
  });
  $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{dc7ee29}", $maxChannelCount$$);
  return $maxChannelCount$$;
}
function $module$contents$output$util$utils_GetCaptureTimestamp$$($timestamp$$) {
  var $_a$jscomp$48$$;
  return (null !== ($_a$jscomp$48$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.usePerfNowCaptureTimestamp) && void 0 !== $_a$jscomp$48$$ ? $_a$jscomp$48$$ : !window.chrome) ? $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$) : $timestamp$$ - $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$j$;
}
;function $module$contents$output$input$gesturedetector_recordFromTouch$$($touch$jscomp$1$$, $pt$jscomp$1_warp$$ = !1) {
  $pt$jscomp$1_warp$$ = $pt$jscomp$1_warp$$ ? $module$contents$output$util$utils_WarpTouch$$($touch$jscomp$1$$) : {x:$touch$jscomp$1$$.clientX, y:$touch$jscomp$1$$.clientY};
  return {identifier:$touch$jscomp$1$$.identifier, clientX:$pt$jscomp$1_warp$$.x, clientY:$pt$jscomp$1_warp$$.y, deltaX:0, deltaY:0};
}
function $JSCompiler_StaticMethods_endTouches$$($JSCompiler_StaticMethods_endTouches$self$$, $evt$jscomp$36$$, $shouldSendTap$$) {
  let $touchHandled$jscomp$2$$ = !1;
  const $touches$jscomp$3$$ = $evt$jscomp$36$$.changedTouches, $timeStamp$jscomp$2$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$36$$.timeStamp);
  for (let $i$jscomp$12$$ = 0; $i$jscomp$12$$ < $touches$jscomp$3$$.length; $i$jscomp$12$$++) {
    const $touch$jscomp$4$$ = $touches$jscomp$3$$[$i$jscomp$12$$], $touchStartIndex$jscomp$1$$ = $JSCompiler_StaticMethods_endTouches$self$$.$h$.findIndex($t$jscomp$1$$ => $t$jscomp$1$$.identifier == $touch$jscomp$4$$.identifier);
    -1 != $touchStartIndex$jscomp$1$$ && ($touchHandled$jscomp$2$$ = !0, $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), $JSCompiler_StaticMethods_endTouches$self$$.$h$.splice($touchStartIndex$jscomp$1$$, 1), 0 === $JSCompiler_StaticMethods_endTouches$self$$.$h$.length ? (0 !== $JSCompiler_StaticMethods_endTouches$self$$.$l$ ? (window.clearTimeout($JSCompiler_StaticMethods_endTouches$self$$.$l$), $JSCompiler_StaticMethods_endTouches$self$$.$l$ = 
    0, $shouldSendTap$$ && $JSCompiler_StaticMethods_tap$$($JSCompiler_StaticMethods_endTouches$self$$.$j$, $JSCompiler_StaticMethods_endTouches$self$$.target, $timeStamp$jscomp$2$$, $module$contents$output$input$gesturedetector_recordFromTouch$$($touch$jscomp$4$$, !0), $JSCompiler_StaticMethods_endTouches$self$$.$m$)) : (2 === $JSCompiler_StaticMethods_endTouches$self$$.$g$ || 4 === $JSCompiler_StaticMethods_endTouches$self$$.$g$) && $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && 
    $JSCompiler_StaticMethods_holdEnd$$($JSCompiler_StaticMethods_endTouches$self$$.$j$, $timeStamp$jscomp$2$$), $JSCompiler_StaticMethods_endTouches$self$$.$m$ = 0, $JSCompiler_StaticMethods_endTouches$self$$.$g$ = 0) : 5 === $JSCompiler_StaticMethods_endTouches$self$$.$g$ ? $JSCompiler_StaticMethods_endTouches$self$$.$g$ = 0 : 6 === $JSCompiler_StaticMethods_endTouches$self$$.$g$ && ($module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_panZoomEnd$$($JSCompiler_StaticMethods_endTouches$self$$.$j$), 
    $JSCompiler_StaticMethods_endTouches$self$$.$g$ = 0));
  }
  $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$($JSCompiler_StaticMethods_endTouches$self$$.$j$) && $touchHandled$jscomp$2$$ && $evt$jscomp$36$$.preventDefault();
}
var $module$exports$output$input$gesturedetector$GestureDetector$$ = class {
  constructor($target$jscomp$100$$, $videoAddEventListener$$, $videoRemoveEventListener$$, $gestureHandler$$) {
    this.target = $target$jscomp$100$$;
    this.videoAddEventListener = $videoAddEventListener$$;
    this.videoRemoveEventListener = $videoRemoveEventListener$$;
    this.$j$ = $gestureHandler$$;
    this.$h$ = [];
    this.$g$ = this.$m$ = this.$l$ = 0;
    this.$v$ = $evt$jscomp$32$$ => {
      let $touchHandled$$ = !1;
      const $touches$jscomp$2$$ = $evt$jscomp$32$$.changedTouches, $timeStamp$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$32$$.timeStamp);
      for (let $i$jscomp$10$$ = 0; $i$jscomp$10$$ < $touches$jscomp$2$$.length; $i$jscomp$10$$++) {
        const $touch$jscomp$2$$ = $touches$jscomp$2$$[$i$jscomp$10$$];
        $touch$jscomp$2$$.target === this.target && ($touchHandled$$ = !0, $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), 0 === this.$h$.length ? (this.$g$ = 1, this.$l$ = window.setTimeout(() => {
          this.$l$ = 0;
          1 === this.$m$ && (this.$g$ = 2, $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_holdBegin$$(this.$j$, this.target, $timeStamp$$, $module$contents$output$input$gesturedetector_recordFromTouch$$($touch$jscomp$2$$)));
        }, 500)) : 1 !== this.$g$ && (2 === this.$g$ || 4 === this.$g$ ? $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_holdEnd$$(this.$j$, $timeStamp$$) : 6 === this.$g$ && $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_panZoomEnd$$(this.$j$), this.$g$ = 0), this.$h$.push($module$contents$output$input$gesturedetector_recordFromTouch$$($touch$jscomp$2$$)), this.$h$.length > this.$m$ && 
        (this.$m$ = this.$h$.length));
      }
      $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$(this.$j$) && $touchHandled$$ && $evt$jscomp$32$$.preventDefault();
    };
    this.$u$ = $evt$jscomp$33$$ => {
      let $touchHandled$jscomp$1$$ = !1;
      for ($changedTouches$jscomp$1_touchRecord$$ of this.$h$) {
        $changedTouches$jscomp$1_touchRecord$$.deltaX = 0, $changedTouches$jscomp$1_touchRecord$$.deltaY = 0;
      }
      var $changedTouches$jscomp$1_touchRecord$$ = $evt$jscomp$33$$.changedTouches;
      const $timeStamp$jscomp$1$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$33$$.timeStamp);
      let $updatedTouchIndices$$ = [];
      for (let $i$jscomp$11$$ = 0; $i$jscomp$11$$ < $changedTouches$jscomp$1_touchRecord$$.length; $i$jscomp$11$$++) {
        const $touch$jscomp$3$$ = $changedTouches$jscomp$1_touchRecord$$[$i$jscomp$11$$], $touchStartIndex$$ = this.$h$.findIndex($t$$ => $t$$.identifier == $touch$jscomp$3$$.identifier);
        if (-1 != $touchStartIndex$$) {
          $touchHandled$jscomp$1$$ = !0;
          var $deltaY_touchStart$$ = this.$h$[$touchStartIndex$$], $deltaX_touchRecord$jscomp$1$$ = $touch$jscomp$3$$.clientX - $deltaY_touchStart$$.clientX;
          $deltaY_touchStart$$ = $touch$jscomp$3$$.clientY - $deltaY_touchStart$$.clientY;
          let $shouldUpdateTouch$$ = !1;
          if (0 !== this.$l$) {
            if (10 < Math.abs($deltaX_touchRecord$jscomp$1$$) || 10 < Math.abs($deltaY_touchStart$$)) {
              window.clearTimeout(this.$l$), this.$l$ = 0, $shouldUpdateTouch$$ = !0;
            }
          } else {
            $shouldUpdateTouch$$ = !0;
          }
          $shouldUpdateTouch$$ && ($deltaX_touchRecord$jscomp$1$$ = {identifier:$touch$jscomp$3$$.identifier, clientX:$touch$jscomp$3$$.clientX, clientY:$touch$jscomp$3$$.clientY, deltaX:$deltaX_touchRecord$jscomp$1$$, deltaY:$deltaY_touchStart$$}, $updatedTouchIndices$$.push($touchStartIndex$$), this.$h$[$touchStartIndex$$] = $deltaX_touchRecord$jscomp$1$$);
        }
      }
      0 < $updatedTouchIndices$$.length && 0 === this.$l$ && 0 !== this.$g$ && (1 === this.$h$.length ? (1 === this.$g$ ? this.$g$ = 3 : 2 === this.$g$ && (this.$g$ = 4), $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_drag$$(this.$j$, this.target, $timeStamp$jscomp$1$$, this.$h$[0])) : 2 === this.$h$.length ? 5 === this.$g$ ? $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && this.$j$.scroll(this.target, $timeStamp$jscomp$1$$, 
      this.$h$) : 6 === this.$g$ ? $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_panZoom$$(this.$j$, this.$h$) : 1 === this.$g$ && (0 < this.$h$[0].deltaY * this.$h$[1].deltaY && (Math.sign(this.$h$[0].deltaX) === Math.sign(this.$h$[1].deltaX) || 10 > Math.abs(this.$h$[0].deltaX) && 10 > Math.abs(this.$h$[1].deltaX)) ? (this.$g$ = 5, $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && this.$j$.scroll(this.target, 
      $timeStamp$jscomp$1$$, this.$h$)) : (this.$g$ = 6, $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ && $JSCompiler_StaticMethods_panZoom$$(this.$j$, this.$h$))) : this.$g$ = 0);
      $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$(this.$j$) && $touchHandled$jscomp$1$$ && $evt$jscomp$33$$.preventDefault();
    };
    this.$o$ = $evt$jscomp$34$$ => {
      $JSCompiler_StaticMethods_endTouches$$(this, $evt$jscomp$34$$, !1);
    };
    this.$s$ = $evt$jscomp$35$$ => {
      $JSCompiler_StaticMethods_endTouches$$(this, $evt$jscomp$35$$, !0);
    };
  }
  start() {
    const $options$jscomp$59$$ = {passive:!$module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$};
    this.videoAddEventListener("touchstart", this.$v$, $options$jscomp$59$$);
    this.videoAddEventListener("touchmove", this.$u$, $options$jscomp$59$$);
    this.videoAddEventListener("touchcancel", this.$o$, $options$jscomp$59$$);
    this.videoAddEventListener("touchend", this.$s$, $options$jscomp$59$$);
  }
  stop() {
    this.videoRemoveEventListener("touchstart", this.$v$);
    this.videoRemoveEventListener("touchmove", this.$u$);
    this.videoRemoveEventListener("touchcancel", this.$o$);
    this.videoRemoveEventListener("touchend", this.$s$);
    this.$h$ = [];
    0 !== this.$l$ && (window.clearTimeout(this.$l$), this.$l$ = 0);
    this.$m$ = 0;
    if ($module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$) {
      switch(this.$g$) {
        case 6:
          $JSCompiler_StaticMethods_panZoomEnd$$(this.$j$);
          break;
        case 2:
        case 4:
          $JSCompiler_StaticMethods_holdEnd$$(this.$j$, performance.now());
      }
    }
    this.$g$ = 0;
  }
};
function $JSCompiler_StaticMethods_warpTouch$$($JSCompiler_StaticMethods_warpTouch$self$$) {
  const $warpedPt$$ = $module$contents$output$util$utils_WarpTouch$$($JSCompiler_StaticMethods_warpTouch$self$$);
  $JSCompiler_StaticMethods_warpTouch$self$$.$h$ = 0.01 < Math.abs($warpedPt$$.y - $JSCompiler_StaticMethods_warpTouch$self$$.clientY);
  $JSCompiler_StaticMethods_warpTouch$self$$.clientX = $warpedPt$$.x;
  $JSCompiler_StaticMethods_warpTouch$self$$.clientY = $warpedPt$$.y;
}
class $module$contents$output$input$touchlistener_TouchRecord$$ {
  constructor($touch$jscomp$5$$, $protocolId$$) {
    this.radiusY = this.radiusX = this.clientY = this.clientX = 0;
    this.$h$ = !1;
    this.identifier = $touch$jscomp$5$$.identifier;
    this.$g$ = $protocolId$$;
    this.clientX = $touch$jscomp$5$$.pageX;
    this.clientY = $touch$jscomp$5$$.pageY;
    this.radiusX = $touch$jscomp$5$$.radiusX;
    this.radiusY = $touch$jscomp$5$$.radiusY;
    $module$exports$output$util$settings$RagnarokSettings$$.$touchWarp$ ? $JSCompiler_StaticMethods_warpTouch$$(this) : this.$h$ = !1;
  }
  update($touch$jscomp$6$$) {
    this.clientX = $touch$jscomp$6$$.pageX;
    this.clientY = $touch$jscomp$6$$.pageY;
    this.radiusX = $touch$jscomp$6$$.radiusX;
    this.radiusY = $touch$jscomp$6$$.radiusY;
    this.$h$ && $JSCompiler_StaticMethods_warpTouch$$(this);
  }
}
class $module$contents$output$input$touchlistener_TouchStorage$$ {
  constructor($touch$jscomp$7$$, $protocolId$jscomp$1$$, $type$jscomp$161$$, $ts$jscomp$1$$, $captureTs$$) {
    this.$h$ = $protocolId$jscomp$1$$;
    this.id = $touch$jscomp$7$$.identifier;
    this.$u$ = $type$jscomp$161$$;
    this.$l$ = $touch$jscomp$7$$.pageX;
    this.$m$ = $touch$jscomp$7$$.pageY;
    this.$o$ = $touch$jscomp$7$$.radiusX;
    this.$s$ = $touch$jscomp$7$$.radiusY;
    this.$g$ = $ts$jscomp$1$$;
    this.$j$ = $captureTs$$;
  }
}
function $JSCompiler_StaticMethods_sendTouches$$($JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$, $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$, $touchType$jscomp$2$$, $timeStamp$jscomp$5$$) {
  var $_a$jscomp$49$$, $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$ = 0;
  for (let $touch$jscomp$15$$ of $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$) {
    if (40 < $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{ec05004}", "{2faaf33}", $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$.length - $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$);
      return;
    }
    var $JSCompiler_inline_result$jscomp$35_id$jscomp$6$$ = null === ($_a$jscomp$49$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$g$.get($touch$jscomp$15$$.identifier)) || void 0 === $_a$jscomp$49$$ ? void 0 : $_a$jscomp$49$$.$g$;
    if (void 0 === $JSCompiler_inline_result$jscomp$35_id$jscomp$6$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{ec05004}", "{960ee4f}", $touch$jscomp$15$$.identifier);
    } else {
      $scaledX_x$jscomp$inline_279$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$l$ * ($touch$jscomp$15$$.clientX - $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$u$.$horizontal$);
      $scaledY_y$jscomp$inline_280$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$m$ * ($touch$jscomp$15$$.clientY - $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$u$.vertical);
      $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$l$ * $touch$jscomp$15$$.radiusX;
      $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$m$ * $touch$jscomp$15$$.radiusY;
      $maxX_touchType$jscomp$inline_278$$ = 65535 + $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$;
      $minY_radiusX$jscomp$inline_281$$ = -$maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$;
      $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$ = 65535 + $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$;
      if ($scaledX_x$jscomp$inline_279$$ < -$JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$ || $scaledX_x$jscomp$inline_279$$ > $maxX_touchType$jscomp$inline_278$$ || $scaledY_y$jscomp$inline_280$$ < $minY_radiusX$jscomp$inline_281$$ || $scaledY_y$jscomp$inline_280$$ > $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$) {
        switch($touchType$jscomp$2$$) {
          case 2:
          case 8:
            break;
          case 1:
            continue;
          case 4:
            continue;
          default:
            continue;
        }
      }
      $scaledX_x$jscomp$inline_279$$ = Math.min(Math.max($scaledX_x$jscomp$inline_279$$, 0), 65535);
      $scaledY_y$jscomp$inline_280$$ = Math.min(Math.max($scaledY_y$jscomp$inline_280$$, 0), 65535);
      a: {
        var $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$ = $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$I$, $maxX_touchType$jscomp$inline_278$$ = $touchType$jscomp$2$$, $scaledX_x$jscomp$inline_279$$ = $scaledX_x$jscomp$inline_279$$, $scaledY_y$jscomp$inline_280$$ = $scaledY_y$jscomp$inline_280$$, $minY_radiusX$jscomp$inline_281$$ = $touch$jscomp$15$$.radiusX, $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$ = 
        $touch$jscomp$15$$.radiusY, $ts$jscomp$inline_283$$ = $timeStamp$jscomp$5$$;
        if (40 <= $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$) {
          $JSCompiler_inline_result$jscomp$35_id$jscomp$6$$ = !1;
          break a;
        }
        const $offset$jscomp$inline_284$$ = 18 + 16 * $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$;
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint8($offset$jscomp$inline_284$$, $JSCompiler_inline_result$jscomp$35_id$jscomp$6$$);
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint8($offset$jscomp$inline_284$$ + 1, $maxX_touchType$jscomp$inline_278$$);
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint16($offset$jscomp$inline_284$$ + 2, $scaledX_x$jscomp$inline_279$$, !1);
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint16($offset$jscomp$inline_284$$ + 4, $scaledY_y$jscomp$inline_280$$, !1);
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint8($offset$jscomp$inline_284$$ + 6, $minY_radiusX$jscomp$inline_281$$);
        $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$.setUint8($offset$jscomp$inline_284$$ + 7, $maxY_radiusY$jscomp$2_radiusY$jscomp$inline_282$$);
        $module$contents$output$util$utils_setUint64$$($ts$jscomp$inline_283$$, $JSCompiler_StaticMethods_addTouchEvent$self$jscomp$inline_275_radiusX$jscomp$2$$.$j$, $offset$jscomp$inline_284$$ + 8, !1, 1000);
        $JSCompiler_inline_result$jscomp$35_id$jscomp$6$$ = !0;
      }
      if (!$JSCompiler_inline_result$jscomp$35_id$jscomp$6$$) {
        $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$j$ += $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$.length - $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$;
        break;
      }
      $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$++;
    }
  }
  0 != $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$ && ($count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$ > $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$.length ? $module$exports$rtcutils_core$output$logger$Log$$.w("{ec05004}", "{4e60a66}", $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$, $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$.length) : ($JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$ = 
  $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$I$, $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$ = $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$, $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$ = 8 + 16 * $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$, $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$j$.setUint16(14, 
  $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$, !1), $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$j$.setUint16(16, $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$, !1), $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$ = 10, 3 <= $JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$h$ && ($count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$++, 
  $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$--), $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$ = new DataView($JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$.$j$.buffer, $count$jscomp$inline_287_offset$jscomp$inline_289_touchesToSend$jscomp$2$$, $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$), $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$), 
  $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendTouchPacket$self$jscomp$inline_286_JSCompiler_StaticMethods_sendTouches$self$$, $count$jscomp$43_size$jscomp$inline_288_totalPacketView$jscomp$inline_290$$) || $module$exports$rtcutils_core$output$logger$Log$$.e("{ec05004}", "{56a8404}")));
}
function $JSCompiler_StaticMethods_touchEnd$$($JSCompiler_StaticMethods_touchEnd$self$$, $evt$jscomp$42$$, $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$) {
  var $identifier$jscomp$inline_293_now$jscomp$3$$ = performance.now(), $timeStamp$jscomp$6_touch$jscomp$inline_294$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$42$$.timeStamp);
  let $touchHandled$jscomp$5$$ = !1, $removedIds$$ = [];
  const $touches$jscomp$6$$ = $evt$jscomp$42$$.changedTouches;
  let $touchesToSend$jscomp$3$$ = [];
  for (let $i$jscomp$15$$ = 0; $i$jscomp$15$$ < $touches$jscomp$6$$.length; $i$jscomp$15$$++) {
    const $touch$jscomp$16$$ = $touches$jscomp$6$$[$i$jscomp$15$$];
    if ($touch$jscomp$16$$.target === $JSCompiler_StaticMethods_touchEnd$self$$.target) {
      let $touchRecord$jscomp$5$$ = $JSCompiler_StaticMethods_touchEnd$self$$.$g$.get($touch$jscomp$16$$.identifier);
      $removedIds$$.push($touch$jscomp$16$$.identifier);
      $touchRecord$jscomp$5$$ && ($touchHandled$jscomp$5$$ = !0, $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), $touchRecord$jscomp$5$$.update($touch$jscomp$16$$), $touchesToSend$jscomp$3$$.push($touchRecord$jscomp$5$$), $JSCompiler_StaticMethods_touchEnd$self$$.$storeTouch$($touch$jscomp$16$$, $touchRecord$jscomp$5$$, $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$, $identifier$jscomp$inline_293_now$jscomp$3$$, 
      $evt$jscomp$42$$));
    }
  }
  $JSCompiler_StaticMethods_sendTouches$$($JSCompiler_StaticMethods_touchEnd$self$$, $touchesToSend$jscomp$3$$, $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$, $timeStamp$jscomp$6_touch$jscomp$inline_294$$);
  for (const $id$jscomp$7$$ of $removedIds$$) {
    if ($JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$ = $JSCompiler_StaticMethods_touchEnd$self$$, $identifier$jscomp$inline_293_now$jscomp$3$$ = $id$jscomp$7$$, $timeStamp$jscomp$6_touch$jscomp$inline_294$$ = $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$.$g$.get($identifier$jscomp$inline_293_now$jscomp$3$$)) {
      $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$.$g$.delete($identifier$jscomp$inline_293_now$jscomp$3$$), $JSCompiler_StaticMethods_removeTouch$self$jscomp$inline_292_type$jscomp$162$$.$o$.delete($timeStamp$jscomp$6_touch$jscomp$inline_294$$.$g$);
    }
  }
  $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ && ($JSCompiler_StaticMethods_touchEnd$self$$.$G$ = 0 == $JSCompiler_StaticMethods_touchEnd$self$$.$g$.size ? !0 : !1);
  $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$($JSCompiler_StaticMethods_touchEnd$self$$.$s$) && $touchHandled$jscomp$5$$ && $evt$jscomp$42$$.preventDefault();
}
var $module$exports$output$input$touchlistener$TouchListener$$ = class {
  constructor($target$jscomp$101$$, $videoAddEventListener$jscomp$1$$, $videoRemoveEventListener$jscomp$1$$, $touchDataHandler$$, $gestureHandler$jscomp$1$$) {
    this.target = $target$jscomp$101$$;
    this.videoAddEventListener = $videoAddEventListener$jscomp$1$$;
    this.videoRemoveEventListener = $videoRemoveEventListener$jscomp$1$$;
    this.$I$ = $touchDataHandler$$;
    this.$s$ = $gestureHandler$jscomp$1$$;
    this.$m$ = this.$l$ = 0;
    this.$u$ = {$horizontal$:1.0, vertical:1.0};
    this.$g$ = new Map();
    this.$o$ = new Set();
    this.$j$ = 0;
    this.$h$ = [];
    this.$v$ = 0;
    this.$G$ = !0;
    this.$F$ = $evt$jscomp$37$$ => {
      const $now$jscomp$1$$ = performance.now(), $timeStamp$jscomp$3$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$37$$.timeStamp);
      let $touchHandled$jscomp$3$$ = !1;
      const $touches$jscomp$4$$ = $evt$jscomp$37$$.changedTouches;
      let $touchesToSend$$ = [];
      for (let $i$jscomp$13$$ = 0; $i$jscomp$13$$ < $touches$jscomp$4$$.length; $i$jscomp$13$$++) {
        const $touch$jscomp$8$$ = $touches$jscomp$4$$[$i$jscomp$13$$];
        if ($touch$jscomp$8$$.target === this.target) {
          $touchHandled$jscomp$3$$ = !0;
          $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$());
          var $touch$jscomp$inline_297_touchRecord$jscomp$2$$ = $touch$jscomp$8$$;
          let $newId$jscomp$inline_298$$ = 0;
          for (; this.$o$.has($newId$jscomp$inline_298$$);) {
            $newId$jscomp$inline_298$$++;
          }
          let $record$jscomp$inline_299$$ = new $module$contents$output$input$touchlistener_TouchRecord$$($touch$jscomp$inline_297_touchRecord$jscomp$2$$, $newId$jscomp$inline_298$$);
          this.$g$.set($touch$jscomp$inline_297_touchRecord$jscomp$2$$.identifier, $record$jscomp$inline_299$$);
          this.$o$.add($newId$jscomp$inline_298$$);
          $touch$jscomp$inline_297_touchRecord$jscomp$2$$ = $record$jscomp$inline_299$$;
          $touchesToSend$$.push($touch$jscomp$inline_297_touchRecord$jscomp$2$$);
          this.$storeTouch$($touch$jscomp$8$$, $touch$jscomp$inline_297_touchRecord$jscomp$2$$, 1, $now$jscomp$1$$, $evt$jscomp$37$$);
        }
      }
      $JSCompiler_StaticMethods_sendTouches$$(this, $touchesToSend$$, 1, $timeStamp$jscomp$3$$);
      $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ && $module$exports$output$util$settings$RagnarokSettings$$.$storeTouchGesture$ && 8 == this.$g$.size && this.$G$ && (this.$A$(), this.$H$());
      $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$(this.$s$) && $touchHandled$jscomp$3$$ && $evt$jscomp$37$$.preventDefault();
    };
    this.$D$ = $evt$jscomp$38$$ => {
      const $now$jscomp$2$$ = performance.now(), $timeStamp$jscomp$4$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$38$$.timeStamp);
      let $touchHandled$jscomp$4$$ = !1;
      const $touches$jscomp$5$$ = $evt$jscomp$38$$.changedTouches;
      let $touchesToSend$jscomp$1$$ = [];
      for (let $i$jscomp$14$$ = 0; $i$jscomp$14$$ < $touches$jscomp$5$$.length; $i$jscomp$14$$++) {
        const $touch$jscomp$9$$ = $touches$jscomp$5$$[$i$jscomp$14$$];
        if ($touch$jscomp$9$$.target === this.target) {
          let $touchRecord$jscomp$3$$ = this.$g$.get($touch$jscomp$9$$.identifier);
          $touchRecord$jscomp$3$$ && ($touchHandled$jscomp$4$$ = !0, $touchRecord$jscomp$3$$.update($touch$jscomp$9$$), $touchesToSend$jscomp$1$$.push($touchRecord$jscomp$3$$), this.$storeTouch$($touch$jscomp$9$$, $touchRecord$jscomp$3$$, 4, $now$jscomp$2$$, $evt$jscomp$38$$));
        }
      }
      $JSCompiler_StaticMethods_sendTouches$$(this, $touchesToSend$jscomp$1$$, 4, $timeStamp$jscomp$4$$);
      $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$(this.$s$) && $touchHandled$jscomp$4$$ && $evt$jscomp$38$$.preventDefault();
    };
    this.$B$ = $evt$jscomp$39$$ => {
      $JSCompiler_StaticMethods_touchEnd$$(this, $evt$jscomp$39$$, 8);
    };
    this.$C$ = $evt$jscomp$40$$ => {
      $JSCompiler_StaticMethods_touchEnd$$(this, $evt$jscomp$40$$, 2);
    };
    this.$A$ = this.$K$.bind(this);
    this.$H$ = this.$J$.bind(this);
  }
  $storeTouch$($touch$jscomp$10$$, $touchRecord$jscomp$4$$, $touchType$jscomp$1$$, $callbackTs$$, $evt$jscomp$41$$) {
    $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ && this.$h$.push(new $module$contents$output$input$touchlistener_TouchStorage$$($touch$jscomp$10$$, $touchRecord$jscomp$4$$.$g$, $touchType$jscomp$1$$, $callbackTs$$, $evt$jscomp$41$$.timeStamp));
  }
  $K$() {
    const $length$jscomp$17$$ = this.$h$.length;
    if ($length$jscomp$17$$) {
      var $oldestTs$$ = this.$h$[$length$jscomp$17$$ - 1].$g$ - 3E4, $trimIndex$$ = -1;
      for (let $idx$jscomp$1$$ = 0; $idx$jscomp$1$$ < $length$jscomp$17$$; $idx$jscomp$1$$++) {
        if (this.$h$[$idx$jscomp$1$$].$g$ < $oldestTs$$) {
          $trimIndex$$ = $idx$jscomp$1$$;
        } else {
          break;
        }
      }
      this.$h$.splice(0, $trimIndex$$ + 1);
    }
  }
  $J$() {
    for (let $touch$jscomp$11$$ of this.$h$) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{ec05004}", "{3c6a946}", $touch$jscomp$11$$.$j$.toFixed(2), $touch$jscomp$11$$.$g$.toFixed(2), $touch$jscomp$11$$.id, $touch$jscomp$11$$.$h$, $touch$jscomp$11$$.$u$, $touch$jscomp$11$$.$l$.toFixed(2), $touch$jscomp$11$$.$m$.toFixed(2), $touch$jscomp$11$$.$o$.toFixed(0), $touch$jscomp$11$$.$s$.toFixed(0));
    }
    this.$h$ = [];
  }
  start() {
    this.$j$ = 0;
    const $options$jscomp$60$$ = {passive:!1};
    this.videoAddEventListener("touchstart", this.$F$, $options$jscomp$60$$);
    this.videoAddEventListener("touchmove", this.$D$, $options$jscomp$60$$);
    this.videoAddEventListener("touchcancel", this.$B$, $options$jscomp$60$$);
    this.videoAddEventListener("touchend", this.$C$, $options$jscomp$60$$);
    $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{ec05004}", "{72764d2}", performance.now()), this.$h$ = [], this.$v$ = window.setInterval(this.$A$, 6E4));
  }
  stop() {
    $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ && (this.$v$ && clearTimeout(this.$v$), this.$A$(), this.$H$());
    this.$g$.size && ($JSCompiler_StaticMethods_sendTouches$$(this, Array.from(this.$g$.values()), 8, performance.now()), this.$g$.clear(), this.$o$.clear());
    this.$j$ && $module$exports$rtcutils_core$output$logger$Log$$.w("{ec05004}", "{10858ae}", this.$j$);
    const $options$jscomp$61$$ = {passive:!1};
    this.videoRemoveEventListener("touchstart", this.$F$, $options$jscomp$61$$);
    this.videoRemoveEventListener("touchmove", this.$D$, $options$jscomp$61$$);
    this.videoRemoveEventListener("touchcancel", this.$B$, $options$jscomp$61$$);
    this.videoRemoveEventListener("touchend", this.$C$, $options$jscomp$61$$);
  }
};
var $module$exports$output$input$keycodes$CODE_TO_VK_MAP$$ = new Map([["Escape", 27], ["Digit0", 48], ["Digit1", 49], ["Digit2", 50], ["Digit3", 51], ["Digit4", 52], ["Digit5", 53], ["Digit6", 54], ["Digit7", 55], ["Digit8", 56], ["Digit9", 57], ["Minus", 189], ["Equal", 187], ["Backspace", 8], ["Tab", 9], ["KeyQ", 81], ["KeyW", 87], ["KeyE", 69], ["KeyR", 82], ["KeyT", 84], ["KeyY", 89], ["KeyU", 85], ["KeyI", 73], ["KeyO", 79], ["KeyP", 80], ["BracketLeft", 219], ["BracketRight", 221], ["Enter", 
13], ["ControlLeft", 162], ["KeyA", 65], ["KeyS", 83], ["KeyD", 68], ["KeyF", 70], ["KeyG", 71], ["KeyH", 72], ["KeyJ", 74], ["KeyK", 75], ["KeyL", 76], ["Semicolon", 186], ["Quote", 222], ["Backquote", 192], ["ShiftLeft", 160], ["Backslash", 220], ["KeyZ", 90], ["KeyX", 88], ["KeyC", 67], ["KeyV", 86], ["KeyB", 66], ["KeyN", 78], ["KeyM", 77], ["Comma", 188], ["Period", 190], ["Slash", 191], ["ShiftRight", 161], ["NumpadMultiply", 106], ["AltLeft", 164], ["Space", 32], ["CapsLock", 20], ["F1", 112], 
["F2", 113], ["F3", 114], ["F4", 115], ["F5", 116], ["F6", 117], ["F7", 118], ["F8", 119], ["F9", 120], ["F10", 121], ["Pause", 19], ["ScrollLock", 145], ["Numpad7", 103], ["Numpad8", 104], ["Numpad9", 105], ["NumpadSubtract", 109], ["Numpad4", 100], ["Numpad5", 101], ["Numpad6", 102], ["NumpadAdd", 107], ["Numpad1", 97], ["Numpad2", 98], ["Numpad3", 99], ["Numpad0", 96], ["NumpadDecimal", 110], ["PrintScreen", 42], ["IntlBackslash", 226], ["F11", 122], ["F12", 123], ["NumpadEqual", 187], ["F13", 
124], ["F14", 125], ["F15", 126], ["F16", 127], ["F17", 128], ["F18", 129], ["F19", 130], ["F20", 131], ["F21", 132], ["F22", 133], ["F23", 134], ["F24", 135], ["KanaMode", 233], ["Lang2", 25], ["Lang1", 21], ["IntlRo", 194], ["Convert", 234], ["NonConvert", 235], ["IntlYen", 193], ["NumpadComma", 188], ["NumpadEnter", 13], ["ControlRight", 163], ["NumpadDivide", 111], ["PrintScreen", 42], ["AltRight", 165], ["NumLock", 144], ["Pause", 19], ["Home", 36], ["ArrowUp", 38], ["PageUp", 33], ["ArrowLeft", 
37], ["ArrowRight", 39], ["End", 35], ["ArrowDown", 40], ["PageDown", 34], ["Insert", 45], ["Delete", 46], ["MetaLeft", 91], ["OSLeft", 91], ["MetaRight", 92], ["OSRight", 92], ["Lang2", 25], ["Lang1", 21], ["NumpadClear", 12], ["NumpadClearEntry", 12]]), $module$exports$output$input$keycodes$KEY_TO_VK_MAP$$ = new Map([["HanjaMode", 25], ["HangulMode", 21]]), $module$exports$output$input$keycodes$CHAR_TO_VK_MAP$$ = new Map([["1", {vkCode:49, shift:!1}], ["2", {vkCode:50, shift:!1}], ["3", {vkCode:51, 
shift:!1}], ["4", {vkCode:52, shift:!1}], ["5", {vkCode:53, shift:!1}], ["6", {vkCode:54, shift:!1}], ["7", {vkCode:55, shift:!1}], ["8", {vkCode:56, shift:!1}], ["9", {vkCode:57, shift:!1}], ["0", {vkCode:48, shift:!1}], ["!", {vkCode:49, shift:!0}], ["@", {vkCode:50, shift:!0}], ["#", {vkCode:51, shift:!0}], ["$", {vkCode:52, shift:!0}], ["%", {vkCode:53, shift:!0}], ["^", {vkCode:54, shift:!0}], ["&", {vkCode:55, shift:!0}], ["*", {vkCode:56, shift:!0}], ["(", {vkCode:57, shift:!0}], [")", {vkCode:48, 
shift:!0}], ["-", {vkCode:189, shift:!1}], ["_", {vkCode:189, shift:!0}], ["=", {vkCode:187, shift:!1}], ["+", {vkCode:187, shift:!0}], [",", {vkCode:188, shift:!1}], ["<", {vkCode:188, shift:!0}], [".", {vkCode:190, shift:!1}], [">", {vkCode:190, shift:!0}], [";", {vkCode:186, shift:!1}], [":", {vkCode:186, shift:!0}], ["/", {vkCode:191, shift:!1}], ["?", {vkCode:191, shift:!0}], ["`", {vkCode:192, shift:!1}], ["~", {vkCode:192, shift:!0}], ["[", {vkCode:219, shift:!1}], ["{", {vkCode:219, shift:!0}], 
["\\", {vkCode:220, shift:!1}], ["|", {vkCode:220, shift:!0}], ["]", {vkCode:221, shift:!1}], ["}", {vkCode:221, shift:!0}], ["'", {vkCode:222, shift:!1}], ['"', {vkCode:222, shift:!0}], [" ", {vkCode:32, shift:!1}], ["A", {vkCode:65, shift:!0}], ["B", {vkCode:66, shift:!0}], ["C", {vkCode:67, shift:!0}], ["D", {vkCode:68, shift:!0}], ["E", {vkCode:69, shift:!0}], ["F", {vkCode:70, shift:!0}], ["G", {vkCode:71, shift:!0}], ["H", {vkCode:72, shift:!0}], ["I", {vkCode:73, shift:!0}], ["J", {vkCode:74, 
shift:!0}], ["K", {vkCode:75, shift:!0}], ["L", {vkCode:76, shift:!0}], ["M", {vkCode:77, shift:!0}], ["N", {vkCode:78, shift:!0}], ["O", {vkCode:79, shift:!0}], ["P", {vkCode:80, shift:!0}], ["Q", {vkCode:81, shift:!0}], ["R", {vkCode:82, shift:!0}], ["S", {vkCode:83, shift:!0}], ["T", {vkCode:84, shift:!0}], ["U", {vkCode:85, shift:!0}], ["V", {vkCode:86, shift:!0}], ["W", {vkCode:87, shift:!0}], ["X", {vkCode:88, shift:!0}], ["Y", {vkCode:89, shift:!0}], ["Z", {vkCode:90, shift:!0}], ["a", {vkCode:65, 
shift:!1}], ["b", {vkCode:66, shift:!1}], ["c", {vkCode:67, shift:!1}], ["d", {vkCode:68, shift:!1}], ["e", {vkCode:69, shift:!1}], ["f", {vkCode:70, shift:!1}], ["g", {vkCode:71, shift:!1}], ["h", {vkCode:72, shift:!1}], ["i", {vkCode:73, shift:!1}], ["j", {vkCode:74, shift:!1}], ["k", {vkCode:75, shift:!1}], ["l", {vkCode:76, shift:!1}], ["m", {vkCode:77, shift:!1}], ["n", {vkCode:78, shift:!1}], ["o", {vkCode:79, shift:!1}], ["p", {vkCode:80, shift:!1}], ["q", {vkCode:81, shift:!1}], ["r", {vkCode:82, 
shift:!1}], ["s", {vkCode:83, shift:!1}], ["t", {vkCode:84, shift:!1}], ["u", {vkCode:85, shift:!1}], ["v", {vkCode:86, shift:!1}], ["w", {vkCode:87, shift:!1}], ["x", {vkCode:88, shift:!1}], ["y", {vkCode:89, shift:!1}], ["z", {vkCode:90, shift:!1}]]);
class $module$contents$output$input$inputpackethandler_ShiftedDataView$$ extends DataView {
  constructor($buffer$jscomp$16$$, $byteLength$$, $byteOffset$jscomp$22$$, $shift$$) {
    super($buffer$jscomp$16$$, $byteLength$$, $byteOffset$jscomp$22$$);
    this.shift = 0;
    this.setUint8 = ($byteOffset$jscomp$23$$, $value$jscomp$112$$) => super.setUint8($byteOffset$jscomp$23$$ + this.shift, $value$jscomp$112$$);
    this.setUint16 = ($byteOffset$jscomp$24$$, $value$jscomp$113$$, $littleEndian$jscomp$6$$) => super.setUint16($byteOffset$jscomp$24$$ + this.shift, $value$jscomp$113$$, $littleEndian$jscomp$6$$);
    this.setUint32 = ($byteOffset$jscomp$25$$, $value$jscomp$114$$, $littleEndian$jscomp$7$$) => super.setUint32($byteOffset$jscomp$25$$ + this.shift, $value$jscomp$114$$, $littleEndian$jscomp$7$$);
    this.setInt8 = ($byteOffset$jscomp$26$$, $value$jscomp$115$$) => super.setInt8($byteOffset$jscomp$26$$ + this.shift, $value$jscomp$115$$);
    this.setInt16 = ($byteOffset$jscomp$27$$, $value$jscomp$116$$, $littleEndian$jscomp$8$$) => super.setInt16($byteOffset$jscomp$27$$ + this.shift, $value$jscomp$116$$, $littleEndian$jscomp$8$$);
    this.setInt32 = ($byteOffset$jscomp$28$$, $value$jscomp$117$$, $littleEndian$jscomp$9$$) => super.setInt32($byteOffset$jscomp$28$$ + this.shift, $value$jscomp$117$$, $littleEndian$jscomp$9$$);
    this.setFloat32 = ($byteOffset$jscomp$29$$, $value$jscomp$118$$, $littleEndian$jscomp$10$$) => super.setFloat32($byteOffset$jscomp$29$$ + this.shift, $value$jscomp$118$$, $littleEndian$jscomp$10$$);
    this.setFloat64 = ($byteOffset$jscomp$30$$, $value$jscomp$119$$, $littleEndian$jscomp$11$$) => super.setFloat64($byteOffset$jscomp$30$$ + this.shift, $value$jscomp$119$$, $littleEndian$jscomp$11$$);
    this.shift = null !== $shift$$ && void 0 !== $shift$$ ? $shift$$ : 0;
  }
}
function $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendInput$self$$, $buffer$jscomp$17_value$jscomp$120$$, $prependTimestamp$$ = !0) {
  0 < $JSCompiler_StaticMethods_sendInput$self$$.$g$.$h$ && ($buffer$jscomp$17_value$jscomp$120$$ = $JSCompiler_StaticMethods_sendInput$self$$.$H$($buffer$jscomp$17_value$jscomp$120$$));
  if (void 0 === $buffer$jscomp$17_value$jscomp$120$$) {
    return !1;
  }
  const $before$jscomp$1$$ = window.performance.now();
  var $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$ = $JSCompiler_StaticMethods_sendInput$self$$.$I$;
  $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$.$R$ ? ($JSCompiler_StaticMethods_clearIdleTimeout$$($JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$), $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$ = !1) : $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$ = 
  !0;
  if (!$JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$) {
    return !1;
  }
  $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$ = !1;
  2 < $JSCompiler_StaticMethods_sendInput$self$$.$h$ && $prependTimestamp$$ && (9 > $buffer$jscomp$17_value$jscomp$120$$.byteOffset ? $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{0fc6121}") : ($buffer$jscomp$17_value$jscomp$120$$ = new DataView($buffer$jscomp$17_value$jscomp$120$$.buffer, $buffer$jscomp$17_value$jscomp$120$$.byteOffset - 9, 9 + $buffer$jscomp$17_value$jscomp$120$$.byteLength), $buffer$jscomp$17_value$jscomp$120$$.setUint8(0, 35), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), 
  $buffer$jscomp$17_value$jscomp$120$$, 1, !1, 1000)));
  try {
    let $t0$$ = performance.now();
    $JSCompiler_StaticMethods_sendInput$self$$.$A$.send($buffer$jscomp$17_value$jscomp$120$$);
    $JSCompiler_StaticMethods_updateDcTimeDuration$$($JSCompiler_StaticMethods_sendInput$self$$.$J$, performance.now() - $t0$$);
    const $after$$ = window.performance.now();
    $JSCompiler_StaticMethods_sendInput$self$$.$o$.$sendInputCount$ += 1;
    $buffer$jscomp$17_value$jscomp$120$$ = $after$$ - $before$jscomp$1$$;
    5 < $buffer$jscomp$17_value$jscomp$120$$ && ($JSCompiler_StaticMethods_sendInput$self$$.$o$.$sendInputOver5ms$ += 1);
    10 < $buffer$jscomp$17_value$jscomp$120$$ && ($JSCompiler_StaticMethods_sendInput$self$$.$o$.$sendInputOver10ms$ += 1);
    $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$ = !0;
  } catch ($exp$jscomp$6$$) {
    $exp$jscomp$6$$.stack && !$exp$jscomp$6$$.stack.includes("Could not send data") && ($module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{7a6bf7c}", $exp$jscomp$6$$), $JSCompiler_StaticMethods_channelOpen$$($JSCompiler_StaticMethods_sendInput$self$$) && $JSCompiler_StaticMethods_sendInput$self$$.$v$.$g$($exp$jscomp$6$$, "sendinput exception", "{57a6a4d}.ts", 0, 0, !0));
  }
  return $JSCompiler_StaticMethods_onSendInput$self$jscomp$inline_303_JSCompiler_inline_result$jscomp$48_result$jscomp$11$$;
}
function $JSCompiler_StaticMethods_sendMouseWheel$$($JSCompiler_StaticMethods_sendMouseWheel$self$$, $deltaY$jscomp$1$$, $ts$jscomp$4$$) {
  const $packet$jscomp$3$$ = $JSCompiler_StaticMethods_sendMouseWheel$self$$.$l$(22);
  $packet$jscomp$3$$.setUint32(0, 10, !0);
  $packet$jscomp$3$$.setUint16(4, 0, !1);
  $packet$jscomp$3$$.setUint16(6, -$deltaY$jscomp$1$$, !1);
  $packet$jscomp$3$$.setUint16(8, 0, !1);
  $packet$jscomp$3$$.setUint32(10, 0);
  $module$contents$output$util$utils_setUint64$$($ts$jscomp$4$$, $packet$jscomp$3$$, 14, !1, 1000);
  try {
    $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendMouseWheel$self$$, $packet$jscomp$3$$);
  } catch ($exp$jscomp$3$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{3d81a57}", $exp$jscomp$3$$), $JSCompiler_StaticMethods_sendMouseWheel$self$$.$v$.$g$($exp$jscomp$3$$, "send mousewheel exception", "{57a6a4d}.ts", 0, 0, !0);
  }
}
function $JSCompiler_StaticMethods_fillMovePacket$$($JSCompiler_StaticMethods_fillMovePacket$self_sessionHeight$$, $view$jscomp$12$$, $index$jscomp$105$$, $absolute$jscomp$1$$, $x$jscomp$101$$, $y$jscomp$78$$, $ts$jscomp$6$$ = 0) {
  let $sessionWidth$$ = $JSCompiler_StaticMethods_fillMovePacket$self_sessionHeight$$.$G$.$displayVideoWidth$;
  $JSCompiler_StaticMethods_fillMovePacket$self_sessionHeight$$ = $JSCompiler_StaticMethods_fillMovePacket$self_sessionHeight$$.$G$.$displayVideoHeight$;
  let $packetype$$ = 7;
  $absolute$jscomp$1$$ && ($packetype$$ = 5);
  let $videoDimensionOffset$$ = 0;
  5 == $packetype$$ && ($videoDimensionOffset$$ = 4);
  $view$jscomp$12$$.setUint32($index$jscomp$105$$, $packetype$$, !0);
  $view$jscomp$12$$.setUint16($index$jscomp$105$$ + 4, $x$jscomp$101$$, !1);
  $view$jscomp$12$$.setUint16($index$jscomp$105$$ + 6, $y$jscomp$78$$, !1);
  $view$jscomp$12$$.setUint16($index$jscomp$105$$ + 8, 0, !1);
  $view$jscomp$12$$.setUint32($index$jscomp$105$$ + 10 + $videoDimensionOffset$$, 0, !1);
  $module$contents$output$util$utils_setUint64$$($ts$jscomp$6$$, $view$jscomp$12$$, $index$jscomp$105$$ + 14 + $videoDimensionOffset$$, !1, 1000);
  $videoDimensionOffset$$ && ($view$jscomp$12$$.setUint16($index$jscomp$105$$ + 10, $sessionWidth$$, !1), $view$jscomp$12$$.setUint16($index$jscomp$105$$ + 12, $JSCompiler_StaticMethods_fillMovePacket$self_sessionHeight$$, !1));
  return $index$jscomp$105$$ + ($absolute$jscomp$1$$ ? 26 : 22);
}
function $JSCompiler_StaticMethods_channelOpen$$($JSCompiler_StaticMethods_channelOpen$self$$) {
  return "open" === $JSCompiler_StaticMethods_channelOpen$self$$.$A$.readyState;
}
function $JSCompiler_StaticMethods_sendCursorPos$$($JSCompiler_StaticMethods_sendCursorPos$self$$, $x$jscomp$100$$, $y$jscomp$77$$, $ts$jscomp$5$$ = 0) {
  const $packet$jscomp$4$$ = $JSCompiler_StaticMethods_sendCursorPos$self$$.$l$(26);
  $JSCompiler_StaticMethods_fillMovePacket$$($JSCompiler_StaticMethods_sendCursorPos$self$$, $packet$jscomp$4$$, 0, !0, $x$jscomp$100$$, $y$jscomp$77$$, $ts$jscomp$5$$);
  try {
    $JSCompiler_StaticMethods_channelOpen$$($JSCompiler_StaticMethods_sendCursorPos$self$$) && $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendCursorPos$self$$, $packet$jscomp$4$$);
  } catch ($exp$jscomp$4$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{dba1265}", $exp$jscomp$4$$), $JSCompiler_StaticMethods_sendCursorPos$self$$.$v$.$g$($exp$jscomp$4$$, "send CursorPos exception", "{57a6a4d}.ts", 0, 0, !0);
  }
}
function $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_sendKeyboardEvent$self$$, $packetId$jscomp$1$$, $keyCode$$, $flags$jscomp$5$$, $ts$jscomp$7$$ = 0) {
  if (4 !== $packetId$jscomp$1$$ && 3 !== $packetId$jscomp$1$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{66e269d}", $packetId$jscomp$1$$);
  } else {
    var $packet$jscomp$5$$ = $JSCompiler_StaticMethods_sendKeyboardEvent$self$$.$l$(18);
    $packet$jscomp$5$$.setUint32(0, $packetId$jscomp$1$$, !0);
    $packet$jscomp$5$$.setUint16(4, $keyCode$$, !1);
    $packet$jscomp$5$$.setUint16(6, $flags$jscomp$5$$, !1);
    $packet$jscomp$5$$.setUint16(8, 0, !1);
    $module$contents$output$util$utils_setUint64$$($ts$jscomp$7$$, $packet$jscomp$5$$, 10, !1, 1000);
    $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendKeyboardEvent$self$$, $packet$jscomp$5$$);
  }
}
function $JSCompiler_StaticMethods_timeScheduledPackets$$($JSCompiler_StaticMethods_timeScheduledPackets$self$$, $delay$jscomp$1$$) {
  $JSCompiler_StaticMethods_timeScheduledPackets$self$$.$u$ = window.setTimeout(() => {
    $JSCompiler_StaticMethods_timeScheduledPackets$self$$.$u$ = 0;
    $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_timeScheduledPackets$self$$);
  }, $delay$jscomp$1$$);
}
function $JSCompiler_StaticMethods_populateMultiGamepadPacket$$($packet$jscomp$7$$, $offset$jscomp$35$$, $index$jscomp$106$$, $buttons$jscomp$4$$, $trigger$jscomp$4$$, $axes$jscomp$4$$, $ts$jscomp$8$$ = 0, $gamepadBitmap$jscomp$3$$ = 0) {
  $packet$jscomp$7$$.setUint32($offset$jscomp$35$$, 12, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 4, 26, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 6, $index$jscomp$106$$, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 8, $gamepadBitmap$jscomp$3$$, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 10, 20, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 12, $buttons$jscomp$4$$, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 14, $trigger$jscomp$4$$, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 16, Math.round(32767.5 * ($axes$jscomp$4$$[0] + 1.0)) - 32768, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 18, Math.round(32767.5 * (-$axes$jscomp$4$$[1] + 1.0)) - 32768, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 20, Math.round(32767.5 * ($axes$jscomp$4$$[2] + 1.0)) - 32768, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 22, Math.round(32767.5 * (-$axes$jscomp$4$$[3] + 1.0)) - 32768, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 24, 0, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 26, 85, !0);
  $packet$jscomp$7$$.setInt16($offset$jscomp$35$$ + 28, 0, !0);
  $module$contents$output$util$utils_setUint64$$($ts$jscomp$8$$, $packet$jscomp$7$$, $offset$jscomp$35$$ + 30, !0, 1000);
}
function $JSCompiler_StaticMethods_getMultiGamepadPacket$$($JSCompiler_StaticMethods_getMultiGamepadPacket$self_packet$jscomp$8$$, $buttons$jscomp$5$$, $trigger$jscomp$5$$, $index$jscomp$107$$, $axes$jscomp$5$$, $ts$jscomp$9$$ = 0, $gamepadBitmap$jscomp$4$$ = 0) {
  $JSCompiler_StaticMethods_getMultiGamepadPacket$self_packet$jscomp$8$$ = $JSCompiler_StaticMethods_getMultiGamepadPacket$self_packet$jscomp$8$$.$l$(38);
  $JSCompiler_StaticMethods_populateMultiGamepadPacket$$($JSCompiler_StaticMethods_getMultiGamepadPacket$self_packet$jscomp$8$$, 0, $index$jscomp$107$$, $buttons$jscomp$5$$, $trigger$jscomp$5$$, $axes$jscomp$5$$, $ts$jscomp$9$$, $gamepadBitmap$jscomp$4$$);
  return $JSCompiler_StaticMethods_getMultiGamepadPacket$self_packet$jscomp$8$$;
}
var $module$exports$output$input$inputpackethandler$InputPacketHandler$$ = class {
  constructor($callbacks$$, $moveEventBuffer$$, $measurements$$, $videoState$jscomp$1$$, $streamClient$$, $inputChannel$$, $telemetry$jscomp$3$$) {
    this.$h$ = this.$D$ = 0;
    this.$m$ = new ArrayBuffer(1150);
    this.$K$ = new DataView(this.$m$);
    this.$U$ = new ArrayBuffer(658);
    this.$j$ = new DataView(this.$U$);
    this.$s$ = new DataView(new ArrayBuffer(173));
    this.$T$ = new ArrayBuffer(100);
    this.$u$ = 0;
    this.$H$ = this.$P$;
    this.$l$ = this.$L$;
    this.$C$ = [];
    this.$I$ = $callbacks$$;
    this.$g$ = $moveEventBuffer$$;
    this.$J$ = $streamClient$$;
    this.$G$ = $videoState$jscomp$1$$;
    this.$A$ = $inputChannel$$;
    this.$A$.onmessage = $evt$jscomp$43_view$jscomp$inline_309$$ => {
      $evt$jscomp$43_view$jscomp$inline_309$$ = new DataView($evt$jscomp$43_view$jscomp$inline_309$$.data);
      if (0 === this.$h$) {
        let $first16$jscomp$inline_310$$ = $evt$jscomp$43_view$jscomp$inline_309$$.getUint16(0, !0);
        526 == $first16$jscomp$inline_310$$ ? (this.$F$ = this.$N$.bind(this), this.$h$ = $evt$jscomp$43_view$jscomp$inline_309$$.getUint16(2, !0)) : (this.$F$ = this.$B$.bind(this), this.$h$ = $first16$jscomp$inline_310$$);
        2 == this.$h$ ? this.$g$.$m$ = !0 : 2 < this.$h$ && (this.$g$.$m$ = !0, this.$H$ = this.$R$, this.$l$ = this.$M$);
        $module$exports$rtcutils_core$output$logger$Log$$.i("{57a6a4d}", "{68c4654}", this.$h$);
      } else {
        this.$F$($evt$jscomp$43_view$jscomp$inline_309$$, 0);
      }
    };
    this.$v$ = $telemetry$jscomp$3$$;
    this.$o$ = $measurements$$;
    this.$F$ = this.$B$.bind(this);
    this.$j$.setUint8(9, 34);
    this.$j$.setUint32(10, 24, !0);
  }
  $N$($view$jscomp$6$$, $aggCmd_offset$jscomp$29$$) {
    var $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$ = $view$jscomp$6$$.getUint16($aggCmd_offset$jscomp$29$$, !0);
    switch($cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$) {
      case 267:
        this.$B$($view$jscomp$6$$, $aggCmd_offset$jscomp$29$$ + 2);
        break;
      default:
        switch($aggCmd_offset$jscomp$29$$ = $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$ & 255, $aggCmd_offset$jscomp$29$$) {
          case 32:
          case 33:
          case 34:
          case 35:
          case 36:
          case 255:
            $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$ = $aggCmd_offset$jscomp$29$$;
            switch($cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$) {
              case 34:
                $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$ = $view$jscomp$6$$.getUint32(1, !0);
                switch($cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$) {
                  case 267:
                    this.$B$($view$jscomp$6$$, 5);
                    break;
                  default:
                    $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{25be6a3}", $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$);
                }break;
              default:
                $module$exports$rtcutils_core$output$logger$Log$$.d("{57a6a4d}", "{ba4ff6a}", $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$);
            }break;
          default:
            $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{aea35b8}", $cmd$jscomp$inline_313_first16$jscomp$1_riCmd$jscomp$inline_1171$$);
        }
    }
  }
  $B$($rMotorSpeed_view$jscomp$9$$, $_b$jscomp$inline_1181_offset$jscomp$32$$) {
    var $index$jscomp$103_packetId_size$jscomp$21$$ = $rMotorSpeed_view$jscomp$9$$.getUint16($_b$jscomp$inline_1181_offset$jscomp$32$$, !0);
    if (1 == $index$jscomp$103_packetId_size$jscomp$21$$) {
      if ($index$jscomp$103_packetId_size$jscomp$21$$ = $rMotorSpeed_view$jscomp$9$$.getUint16($_b$jscomp$inline_1181_offset$jscomp$32$$ + 2, !0), 6 > $index$jscomp$103_packetId_size$jscomp$21$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{1527181}", $index$jscomp$103_packetId_size$jscomp$21$$);
      } else {
        6 < $index$jscomp$103_packetId_size$jscomp$21$$ && $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{78db114}", $index$jscomp$103_packetId_size$jscomp$21$$);
        $index$jscomp$103_packetId_size$jscomp$21$$ = $rMotorSpeed_view$jscomp$9$$.getUint16($_b$jscomp$inline_1181_offset$jscomp$32$$ + 4, !0);
        var $lMotorSpeed$$ = $rMotorSpeed_view$jscomp$9$$.getUint16($_b$jscomp$inline_1181_offset$jscomp$32$$ + 6, !0);
        $rMotorSpeed_view$jscomp$9$$ = $rMotorSpeed_view$jscomp$9$$.getUint16($_b$jscomp$inline_1181_offset$jscomp$32$$ + 8, !0);
        for (const $vibrationHandler$$ of this.$C$) {
          var $_a$jscomp$inline_1180$$ = $_b$jscomp$inline_1181_offset$jscomp$32$$ = void 0, $_b$jscomp$inline_1178_now$jscomp$inline_1183$$ = void 0, $_a$jscomp$inline_1177_delay$jscomp$inline_1184$$ = void 0, $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$ = $vibrationHandler$$, $index$jscomp$inline_1174$$ = $index$jscomp$103_packetId_size$jscomp$21$$, $rightMotorSpeed$jscomp$inline_1176$$ = $rMotorSpeed_view$jscomp$9$$;
          if ($JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$D$) {
            var $details$jscomp$inline_1179$$ = $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$h$[$index$jscomp$inline_1174$$];
            if ($details$jscomp$inline_1179$$) {
              let $gamepad$jscomp$inline_1182$$ = $details$jscomp$inline_1179$$.$device$;
              if ($gamepad$jscomp$inline_1182$$) {
                if (0 != $lMotorSpeed$$ || 0 != $rightMotorSpeed$jscomp$inline_1176$$) {
                  if ($_b$jscomp$inline_1178_now$jscomp$inline_1183$$ = performance.now(), $_a$jscomp$inline_1177_delay$jscomp$inline_1184$$ = $_b$jscomp$inline_1178_now$jscomp$inline_1183$$ - $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$R$[$index$jscomp$inline_1174$$], $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$F$[$index$jscomp$inline_1174$$] = $lMotorSpeed$$ / 65535.0, $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$G$[$index$jscomp$inline_1174$$] = 
                  $rightMotorSpeed$jscomp$inline_1176$$ / 65535.0, !$details$jscomp$inline_1179$$.$simplifiedHaptics$ || 500 < $_a$jscomp$inline_1177_delay$jscomp$inline_1184$$) {
                    $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$R$[$index$jscomp$inline_1174$$] = $_b$jscomp$inline_1178_now$jscomp$inline_1183$$, null === ($_b$jscomp$inline_1181_offset$jscomp$32$$ = null === ($_a$jscomp$inline_1180$$ = $gamepad$jscomp$inline_1182$$.vibrationActuator) || void 0 === $_a$jscomp$inline_1180$$ ? void 0 : $_a$jscomp$inline_1180$$.playEffect) || void 0 === $_b$jscomp$inline_1181_offset$jscomp$32$$ ? void 0 : $_b$jscomp$inline_1181_offset$jscomp$32$$.call($_a$jscomp$inline_1180$$, 
                    "dual-rumble", {startDelay:0, duration:1000, weakMagnitude:$JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$G$[$index$jscomp$inline_1174$$], strongMagnitude:$JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$F$[$index$jscomp$inline_1174$$]});
                  }
                } else {
                  $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$R$[$index$jscomp$inline_1174$$] = performance.now(), $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$F$[$index$jscomp$inline_1174$$] = 0, $JSCompiler_StaticMethods_handleSimpleVibration$self$jscomp$inline_1173$$.$G$[$index$jscomp$inline_1174$$] = 0, null === ($_b$jscomp$inline_1178_now$jscomp$inline_1183$$ = null === ($_a$jscomp$inline_1177_delay$jscomp$inline_1184$$ = $gamepad$jscomp$inline_1182$$.vibrationActuator) || 
                  void 0 === $_a$jscomp$inline_1177_delay$jscomp$inline_1184$$ ? void 0 : $_a$jscomp$inline_1177_delay$jscomp$inline_1184$$.playEffect) || void 0 === $_b$jscomp$inline_1178_now$jscomp$inline_1183$$ ? void 0 : $_b$jscomp$inline_1178_now$jscomp$inline_1183$$.call($_a$jscomp$inline_1177_delay$jscomp$inline_1184$$, "dual-rumble", $module$contents$output$input$gamepadhandler_EMPTY_EFFECT$$);
                }
              }
            }
          }
        }
      }
    } else {
      $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{c7cf6da}", $index$jscomp$103_packetId_size$jscomp$21$$);
    }
  }
  $P$($extraPacket$$) {
    0 !== this.$u$ && (window.clearTimeout(this.$u$), this.$u$ = 0);
    var $i$jscomp$20_now$jscomp$4$$ = performance.now();
    this.$D$ = $i$jscomp$20_now$jscomp$4$$;
    for (var $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ = 1, $i$jscomp$19_i$jscomp$inline_319$$ = 0; $i$jscomp$19_i$jscomp$inline_319$$ < this.$g$.$h$;) {
      $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ += 2;
      var $groupSize$jscomp$inline_320_packetSizeIndex$$ = this.$g$.$g$[$i$jscomp$19_i$jscomp$inline_319$$].$groupSize$;
      if (0 < $groupSize$jscomp$inline_320_packetSizeIndex$$) {
        $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ += 19;
        for (var $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$ = 0; $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$ < $groupSize$jscomp$inline_320_packetSizeIndex$$; $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$++) {
          $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ += 1 + (this.$g$.$g$[$i$jscomp$19_i$jscomp$inline_319$$ + $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$].$absPos$ ? 26 : 22);
        }
        $i$jscomp$19_i$jscomp$inline_319$$ += $groupSize$jscomp$inline_320_packetSizeIndex$$;
      } else {
        $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ += this.$g$.$g$[$i$jscomp$19_i$jscomp$inline_319$$].$absPos$ ? 26 : 22, $i$jscomp$19_i$jscomp$inline_319$$++;
      }
    }
    $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ += $extraPacket$$ ? 2 + $extraPacket$$.byteLength : 0;
    $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ > this.$m$.byteLength ? ($totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ = new DataView(new ArrayBuffer($totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$)), this.$o$.$oversizedEventCount$++) : $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$ = new DataView(this.$m$, 0, $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$);
    $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$.setUint8(0, 255);
    var $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ = 1;
    for ($i$jscomp$19_i$jscomp$inline_319$$ = 0; $i$jscomp$19_i$jscomp$inline_319$$ < this.$g$.$h$;) {
      $groupSize$jscomp$inline_320_packetSizeIndex$$ = $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$;
      $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ += 2;
      $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$ = this.$g$.$g$[$i$jscomp$19_i$jscomp$inline_319$$];
      if (0 < $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.$groupSize$) {
        var $view$jscomp$inline_1186_view$jscomp$inline_324$$ = $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$, $firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ = $i$jscomp$19_i$jscomp$inline_319$$, $sendTimestamp$jscomp$inline_1190_sendTimestampMs$jscomp$inline_327$$ = $i$jscomp$20_now$jscomp$4$$;
        $callbackTimestamp$jscomp$inline_1189_firstEvent$jscomp$inline_328$$ = this.$g$.$g$[$firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$];
        $groupStartIndex$jscomp$inline_329_totalSize$jscomp$inline_1188$$ = $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$;
        $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ += 19;
        for (let $i$jscomp$inline_330$$ = 0; $i$jscomp$inline_330$$ < $callbackTimestamp$jscomp$inline_1189_firstEvent$jscomp$inline_328$$.$groupSize$; ++$i$jscomp$inline_330$$) {
          const $moveEvent$jscomp$inline_331$$ = this.$g$.$g$[$firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ + $i$jscomp$inline_330$$];
          $view$jscomp$inline_1186_view$jscomp$inline_324$$.setUint8($packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$, $moveEvent$jscomp$inline_331$$.$absPos$ ? 26 : 22);
          $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$++;
          $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ = $JSCompiler_StaticMethods_fillMovePacket$$(this, $view$jscomp$inline_1186_view$jscomp$inline_324$$, $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$, $moveEvent$jscomp$inline_331$$.$absPos$, $moveEvent$jscomp$inline_331$$.x, $moveEvent$jscomp$inline_331$$.y, $moveEvent$jscomp$inline_331$$.captureTimestamp);
        }
        $firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ = $groupStartIndex$jscomp$inline_329_totalSize$jscomp$inline_1188$$;
        var $groupStartIndex$jscomp$inline_329_totalSize$jscomp$inline_1188$$ = $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ - $groupStartIndex$jscomp$inline_329_totalSize$jscomp$inline_1188$$, $callbackTimestamp$jscomp$inline_1189_firstEvent$jscomp$inline_328$$ = $callbackTimestamp$jscomp$inline_1189_firstEvent$jscomp$inline_328$$.$callbackTimestamp$;
        $view$jscomp$inline_1186_view$jscomp$inline_324$$.setUint8($firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$, 32);
        $view$jscomp$inline_1186_view$jscomp$inline_324$$.setUint16($firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ + 1, $groupStartIndex$jscomp$inline_329_totalSize$jscomp$inline_1188$$, !1);
        $module$contents$output$util$utils_setUint64$$($sendTimestamp$jscomp$inline_1190_sendTimestampMs$jscomp$inline_327$$, $view$jscomp$inline_1186_view$jscomp$inline_324$$, $firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ + 3, !1, 1000);
        $module$contents$output$util$utils_setUint64$$($callbackTimestamp$jscomp$inline_1189_firstEvent$jscomp$inline_328$$, $view$jscomp$inline_1186_view$jscomp$inline_324$$, $firstIndex$jscomp$inline_326_index$jscomp$inline_1187$$ + 11, !1, 1000);
        $i$jscomp$19_i$jscomp$inline_319$$ += $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.$groupSize$;
      } else {
        $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ = $JSCompiler_StaticMethods_fillMovePacket$$(this, $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$, $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$, $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.$absPos$, $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.x, $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.y, $groupIndex$jscomp$inline_321_moveEvent$jscomp$1$$.captureTimestamp), $i$jscomp$19_i$jscomp$inline_319$$++;
      }
      $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$.setUint16($groupSize$jscomp$inline_320_packetSizeIndex$$, $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ - $groupSize$jscomp$inline_320_packetSizeIndex$$ - 2);
    }
    this.$g$.$j$ = 0;
    if ($extraPacket$$) {
      for ($totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$.setUint16($packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$, $extraPacket$$.byteLength), $packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ += 2, $i$jscomp$20_now$jscomp$4$$ = 0; $i$jscomp$20_now$jscomp$4$$ < $extraPacket$$.byteLength; $i$jscomp$20_now$jscomp$4$$++) {
        $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$.setUint8($packetIndex$jscomp$1_packetIndex$jscomp$inline_325$$ + $i$jscomp$20_now$jscomp$4$$, $extraPacket$$.getUint8($i$jscomp$20_now$jscomp$4$$));
      }
    }
    return $totalPacket_totalSize$jscomp$3_totalSize$jscomp$inline_318$$;
  }
  $R$($extraPacket$jscomp$1_packetIndex$jscomp$2$$) {
    var $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$;
    if ($extraPacket$jscomp$1_packetIndex$jscomp$2$$ && $extraPacket$jscomp$1_packetIndex$jscomp$2$$.buffer != this.$m$) {
      return $JSCompiler_StaticMethods_sendInput$$(this), $extraPacket$jscomp$1_packetIndex$jscomp$2$$;
    }
    0 !== this.$u$ && (window.clearTimeout(this.$u$), this.$u$ = 0);
    this.$D$ = performance.now();
    var $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ = 0, $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ = -1;
    for (var $i$jscomp$inline_340_moveEvent$jscomp$2$$ = 0; $i$jscomp$inline_340_moveEvent$jscomp$2$$ < this.$g$.$h$; $i$jscomp$inline_340_moveEvent$jscomp$2$$++) {
      0 < this.$g$.$g$[$i$jscomp$inline_340_moveEvent$jscomp$2$$].$groupSize$ ? ($groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ += 9, $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ = this.$g$.$g$[$i$jscomp$inline_340_moveEvent$jscomp$2$$].$groupSize$) : 0 === $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ && ($groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ += 9), $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ += 
      3 + (this.$g$.$g$[$i$jscomp$inline_340_moveEvent$jscomp$2$$].$absPos$ ? 26 : 22), $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$--;
    }
    $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ += null !== ($_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ = null === $extraPacket$jscomp$1_packetIndex$jscomp$2$$ || void 0 === $extraPacket$jscomp$1_packetIndex$jscomp$2$$ ? void 0 : $extraPacket$jscomp$1_packetIndex$jscomp$2$$.byteLength) && void 0 !== $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ ? $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ : 0;
    $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ = 9 + $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$;
    if ($_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ > this.$m$.byteLength) {
      if ($_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ = new DataView(new ArrayBuffer($_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$), $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ - $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$, $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$), this.$o$.$oversizedEventCount$++, $extraPacket$jscomp$1_packetIndex$jscomp$2$$) {
        for ($groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ = $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.byteLength - $extraPacket$jscomp$1_packetIndex$jscomp$2$$.byteLength, $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ = 0; $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ < $extraPacket$jscomp$1_packetIndex$jscomp$2$$.byteLength; $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$++) {
          $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.setUint8($groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ + $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$, $extraPacket$jscomp$1_packetIndex$jscomp$2$$.getUint8($groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$));
        }
      }
    } else {
      $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$ = new DataView(this.$m$, this.$m$.byteLength - $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$, $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$);
    }
    $extraPacket$jscomp$1_packetIndex$jscomp$2$$ = 0;
    $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ = -1;
    for ($groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ = 0; $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$ < this.$g$.$h$; $groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$++) {
      $i$jscomp$inline_340_moveEvent$jscomp$2$$ = this.$g$.$g$[$groupSize$jscomp$inline_339_i$jscomp$21_i$jscomp$22$$], 0 < $i$jscomp$inline_340_moveEvent$jscomp$2$$.$groupSize$ ? ($groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ = $i$jscomp$inline_340_moveEvent$jscomp$2$$.$groupSize$, $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.setUint8($extraPacket$jscomp$1_packetIndex$jscomp$2$$, 36), $module$contents$output$util$utils_setUint64$$($i$jscomp$inline_340_moveEvent$jscomp$2$$.$callbackTimestamp$, 
      $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$, $extraPacket$jscomp$1_packetIndex$jscomp$2$$ + 1, !1, 1000), $extraPacket$jscomp$1_packetIndex$jscomp$2$$ += 9) : 0 === $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$ && ($_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.setUint8($extraPacket$jscomp$1_packetIndex$jscomp$2$$, 36), $module$contents$output$util$utils_setUint64$$(0, $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$, $extraPacket$jscomp$1_packetIndex$jscomp$2$$ + 
      1, !1, 1000), $extraPacket$jscomp$1_packetIndex$jscomp$2$$ += 9), $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.setUint8($extraPacket$jscomp$1_packetIndex$jscomp$2$$, 33), $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$.setUint16($extraPacket$jscomp$1_packetIndex$jscomp$2$$ + 1, $i$jscomp$inline_340_moveEvent$jscomp$2$$.$absPos$ ? 26 : 22), $extraPacket$jscomp$1_packetIndex$jscomp$2$$ = $JSCompiler_StaticMethods_fillMovePacket$$(this, $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$, 
      $extraPacket$jscomp$1_packetIndex$jscomp$2$$ + 3, $i$jscomp$inline_340_moveEvent$jscomp$2$$.$absPos$, $i$jscomp$inline_340_moveEvent$jscomp$2$$.x, $i$jscomp$inline_340_moveEvent$jscomp$2$$.y, $i$jscomp$inline_340_moveEvent$jscomp$2$$.captureTimestamp), $groupSize$jscomp$2_offset$jscomp$33_totalSize$jscomp$4_totalSize$jscomp$inline_338$$--;
    }
    this.$g$.$j$ = 0;
    return $_a$jscomp$50_necessaryBufferSize_totalPacket$jscomp$1$$;
  }
  $L$($length$jscomp$18$$) {
    return new $module$contents$output$input$inputpackethandler_ShiftedDataView$$(this.$T$, 0, $length$jscomp$18$$);
  }
  $M$($dv_length$jscomp$19$$) {
    $dv_length$jscomp$19$$ += 1;
    const $offset$jscomp$34$$ = this.$m$.byteLength - $dv_length$jscomp$19$$;
    $dv_length$jscomp$19$$ = new $module$contents$output$input$inputpackethandler_ShiftedDataView$$(this.$m$, $offset$jscomp$34$$, $dv_length$jscomp$19$$, 1);
    this.$K$.setUint8($offset$jscomp$34$$, 34);
    return $dv_length$jscomp$19$$;
  }
  sendTextInput($text$jscomp$14$$) {
    let $bytesSent$$ = 0, $textView$$ = new DataView($text$jscomp$14$$, 0, $text$jscomp$14$$.byteLength), $sendBuffer$$ = new ArrayBuffer(1021);
    for (; $bytesSent$$ < $text$jscomp$14$$.byteLength;) {
      let $textChunkToSend$$;
      if (1016 >= $text$jscomp$14$$.byteLength - $bytesSent$$) {
        $textChunkToSend$$ = $text$jscomp$14$$.byteLength - $bytesSent$$;
      } else {
        $textChunkToSend$$ = $bytesSent$$ + 1016;
        $foundCodePoint_sendBufferView$$ = !1;
        for (let $i$jscomp$23$$ = 0; 4 > $i$jscomp$23$$; $i$jscomp$23$$++) {
          if (128 != ($textView$$.getUint8($textChunkToSend$$) & 192)) {
            $foundCodePoint_sendBufferView$$ = !0;
            break;
          } else {
            $textChunkToSend$$--;
          }
        }
        if ($foundCodePoint_sendBufferView$$) {
          $textChunkToSend$$ -= $bytesSent$$;
        } else {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{938b0d3}");
          break;
        }
      }
      var $foundCodePoint_sendBufferView$$ = new DataView($sendBuffer$$, 0, $textChunkToSend$$ + 5);
      $foundCodePoint_sendBufferView$$.setUint8(0, 34);
      $foundCodePoint_sendBufferView$$.setUint32(1, 23, !0);
      (new Uint8Array($sendBuffer$$)).set(new Uint8Array($text$jscomp$14$$, $bytesSent$$, $textChunkToSend$$), 5);
      $bytesSent$$ += $textChunkToSend$$;
      $JSCompiler_StaticMethods_sendInput$$(this, $foundCodePoint_sendBufferView$$, !1);
    }
  }
  stop() {
    0 < this.$A$.bufferedAmount && $module$exports$rtcutils_core$output$logger$Log$$.w("{57a6a4d}", "{5e5b9e5}", this.$A$.bufferedAmount);
  }
  get $S$() {
    return this.$h$;
  }
  get $O$() {
    return this.$D$;
  }
  $gamepadBitmapUpdateHandler$($gamepadBitmap$jscomp$5_packet$jscomp$9$$) {
    $gamepadBitmap$jscomp$5_packet$jscomp$9$$ = $JSCompiler_StaticMethods_getMultiGamepadPacket$$(this, 0, 0, 0, {}, 0, $gamepadBitmap$jscomp$5_packet$jscomp$9$$);
    $JSCompiler_StaticMethods_sendInput$$(this, $gamepadBitmap$jscomp$5_packet$jscomp$9$$);
  }
  $gamepadStateUpdateHandler$($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$, $index$jscomp$108_packet$jscomp$10$$, $buttons$jscomp$6$$, $trigger$jscomp$6$$, $axes$jscomp$6$$, $ts$jscomp$10$$ = 0, $gamepadBitmap$jscomp$6$$) {
    2 < this.$h$ ? ($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$ = 9 + 41 * $count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$, this.$s$.setUint8($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$, 33), this.$s$.setUint16($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$ + 1, 38), $JSCompiler_StaticMethods_populateMultiGamepadPacket$$(this.$s$, $count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$ + 3, $index$jscomp$108_packet$jscomp$10$$, $buttons$jscomp$6$$, $trigger$jscomp$6$$, $axes$jscomp$6$$, 
    $ts$jscomp$10$$, $gamepadBitmap$jscomp$6$$)) : 2 == this.$h$ ? ($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$ = 1 + 40 * $count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$, this.$s$.setUint16($count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$, 38), $JSCompiler_StaticMethods_populateMultiGamepadPacket$$(this.$s$, $count$jscomp$44_offset$jscomp$36_offset$jscomp$37$$ + 2, $index$jscomp$108_packet$jscomp$10$$, $buttons$jscomp$6$$, $trigger$jscomp$6$$, $axes$jscomp$6$$, $ts$jscomp$10$$, 
    $gamepadBitmap$jscomp$6$$)) : ($index$jscomp$108_packet$jscomp$10$$ = $JSCompiler_StaticMethods_getMultiGamepadPacket$$(this, $buttons$jscomp$6$$, $trigger$jscomp$6$$, $index$jscomp$108_packet$jscomp$10$$, $axes$jscomp$6$$, $ts$jscomp$10$$, $gamepadBitmap$jscomp$6$$), $JSCompiler_StaticMethods_sendInput$$(this, $index$jscomp$108_packet$jscomp$10$$));
  }
  $virtualGamepadUpdateHandler$($buttons$jscomp$7_packet$jscomp$11$$, $trigger$jscomp$7$$, $index$jscomp$109$$, $axes$jscomp$7$$, $gamepadBitmap$jscomp$7$$ = 0) {
    $buttons$jscomp$7_packet$jscomp$11$$ = $JSCompiler_StaticMethods_getMultiGamepadPacket$$(this, $buttons$jscomp$7_packet$jscomp$11$$, $trigger$jscomp$7$$, $index$jscomp$109$$, $axes$jscomp$7$$, 0, $gamepadBitmap$jscomp$7$$);
    $JSCompiler_StaticMethods_sendInput$$(this, $buttons$jscomp$7_packet$jscomp$11$$);
  }
  $finalizeGamepadData$($count$jscomp$45$$) {
    if (!(2 > this.$h$)) {
      $JSCompiler_StaticMethods_sendInput$$(this);
      var $totalPacketView$$ = null;
      2 < this.$h$ ? $totalPacketView$$ = new DataView(this.$s$.buffer, 9, 41 * $count$jscomp$45$$) : 2 == this.$h$ && (this.$s$.setUint8(0, 255), $totalPacketView$$ = new DataView(this.$s$.buffer, 0, 1 + 40 * $count$jscomp$45$$));
      $totalPacketView$$ && $JSCompiler_StaticMethods_sendInput$$(this, $totalPacketView$$);
    }
  }
  $connectUnsupportedGamepad$() {
  }
  $sendGamepadHapticsControl$($enable$jscomp$5$$) {
    const $packet$jscomp$12$$ = this.$l$(6);
    $packet$jscomp$12$$.setUint32(0, 13, !0);
    $packet$jscomp$12$$.setUint16(4, $enable$jscomp$5$$ ? 1 : 0, !1);
    $JSCompiler_StaticMethods_sendInput$$(this, $packet$jscomp$12$$);
  }
}, $module$exports$output$input$inputpackethandler$MoveEventBuffer$$ = class {
  constructor() {
    this.$m$ = !1;
    this.$j$ = 0;
    this.$l$ = Array(36);
    for (let $i$jscomp$24$$ = 0; $i$jscomp$24$$ < this.$g$.length; $i$jscomp$24$$++) {
      this.$l$[$i$jscomp$24$$] = {$absPos$:!1, x:0, y:0, captureTimestamp:0, $groupSize$:0, $callbackTimestamp$:0};
    }
  }
  get $g$() {
    return this.$l$;
  }
  get $h$() {
    return this.$j$;
  }
};
function $JSCompiler_StaticMethods_sendMouseButtonEvent$$($JSCompiler_StaticMethods_sendMouseButtonEvent$self$$, $changedButton_event$jscomp$17$$, $down$$) {
  $changedButton_event$jscomp$17$$ = new MouseEvent($down$$ ? $JSCompiler_StaticMethods_sendMouseButtonEvent$self$$.$downName$ : $JSCompiler_StaticMethods_sendMouseButtonEvent$self$$.$upName$, {button:$changedButton_event$jscomp$17$$, buttons:($JSCompiler_StaticMethods_sendMouseButtonEvent$self$$.$button1$ ? 1 : 0) | ($JSCompiler_StaticMethods_sendMouseButtonEvent$self$$.$button2$ ? 2 : 0)});
  $JSCompiler_StaticMethods_sendMouseButtonEvent$self$$.$eventElement$.dispatchEvent($changedButton_event$jscomp$17$$);
}
var $module$exports$output$input$gamepadrsdmm$GamepadRSDMM$$ = class {
  constructor($element$jscomp$10$$, $platformDetails$jscomp$31$$) {
    this.$rsdmmTimer$ = 0;
    this.$rsdmmPollInterval$ = 8;
    this.$accumulatedV$ = this.$accumulatedH$ = this.$prevV$ = this.$prevH$ = 0;
    this.$button2$ = this.$button1$ = !1;
    this.scale = 12;
    this.$moveName$ = "mousemove";
    this.$downName$ = "mousedown";
    this.$upName$ = "mouseup";
    this.$rtThreshold$ = 58752;
    this.$ltThreshold$ = 229.5;
    this.$stickIndexX$ = 2;
    this.$stickIndexY$ = 3;
    this.$platformDetails$ = $platformDetails$jscomp$31$$;
    this.$eventElement$ = $element$jscomp$10$$;
    this.$rsdmmTickFunc$ = this.$rsdmmTick$.bind(this);
    $module$contents$rtcutils_core$output$utils_IsXboxEdge$$(this.$platformDetails$) && (this.$stickIndexX$ = 0, this.$stickIndexY$ = 1);
  }
  $gamepadStateUpdateHandler$($count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$, $eventScale_index$jscomp$112$$, $button1_buttons$jscomp$8$$, $button2_trigger$jscomp$8$$, $horiz_inputaxes_oldButton1$$) {
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ = [];
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[0] = -0.1 < $horiz_inputaxes_oldButton1$$[0] && 0.1 > $horiz_inputaxes_oldButton1$$[0] ? 0 : $horiz_inputaxes_oldButton1$$[0];
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[1] = -0.1 < $horiz_inputaxes_oldButton1$$[1] && 0.1 > $horiz_inputaxes_oldButton1$$[1] ? 0 : $horiz_inputaxes_oldButton1$$[1];
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[2] = -0.1 < $horiz_inputaxes_oldButton1$$[2] && 0.1 > $horiz_inputaxes_oldButton1$$[2] ? 0 : $horiz_inputaxes_oldButton1$$[2];
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[3] = -0.1 < $horiz_inputaxes_oldButton1$$[3] && 0.1 > $horiz_inputaxes_oldButton1$$[3] ? 0 : $horiz_inputaxes_oldButton1$$[3];
    $horiz_inputaxes_oldButton1$$ = $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[this.$stickIndexX$];
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ = $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$[this.$stickIndexY$];
    $eventScale_index$jscomp$112$$ = 4.0 - 3.0 * Math.min(1.0, Math.sqrt($horiz_inputaxes_oldButton1$$ * $horiz_inputaxes_oldButton1$$ + $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ * $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$));
    this.$prevH$ = $horiz_inputaxes_oldButton1$$ * this.scale / $eventScale_index$jscomp$112$$;
    this.$prevV$ = $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ * this.scale / $eventScale_index$jscomp$112$$;
    $button1_buttons$jscomp$8$$ = !!($button1_buttons$jscomp$8$$ & 4224) || ($button2_trigger$jscomp$8$$ & 65280) > this.$rtThreshold$;
    $button2_trigger$jscomp$8$$ = ($button2_trigger$jscomp$8$$ & 255) > this.$ltThreshold$;
    $horiz_inputaxes_oldButton1$$ = this.$button1$;
    $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ = this.$button2$;
    this.$button1$ = $button1_buttons$jscomp$8$$;
    this.$button2$ = $button2_trigger$jscomp$8$$;
    !$button1_buttons$jscomp$8$$ && $horiz_inputaxes_oldButton1$$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 0, !1);
    !$button2_trigger$jscomp$8$$ && $count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 2, !1);
    $button1_buttons$jscomp$8$$ && !$horiz_inputaxes_oldButton1$$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 0, !0);
    $button2_trigger$jscomp$8$$ && !$count$jscomp$47_oldButton2_outputAxes$jscomp$inline_1193_vert$$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 2, !0);
  }
  $rsdmmTick$() {
    this.$accumulatedH$ = Math.sign(this.$accumulatedH$) != Math.sign(this.$prevH$) ? this.$prevH$ : this.$accumulatedH$ + this.$prevH$;
    this.$accumulatedV$ = Math.sign(this.$accumulatedV$) != Math.sign(this.$prevV$) ? this.$prevV$ : this.$accumulatedV$ + this.$prevV$;
    var $deltaX$jscomp$1_init$jscomp$4$$ = 0;
    let $deltaY$jscomp$2$$ = 0;
    if (1 <= this.$accumulatedH$ || -1 >= this.$accumulatedH$) {
      $deltaX$jscomp$1_init$jscomp$4$$ = Math.trunc(this.$accumulatedH$), this.$accumulatedH$ -= $deltaX$jscomp$1_init$jscomp$4$$;
    }
    if (1 <= this.$accumulatedV$ || -1 >= this.$accumulatedV$) {
      $deltaY$jscomp$2$$ = Math.trunc(this.$accumulatedV$), this.$accumulatedV$ -= $deltaY$jscomp$2$$;
    }
    if (0 != $deltaX$jscomp$1_init$jscomp$4$$ || 0 != $deltaY$jscomp$2$$) {
      $deltaX$jscomp$1_init$jscomp$4$$ = {movementX:$deltaX$jscomp$1_init$jscomp$4$$, movementY:$deltaY$jscomp$2$$, isPrimary:!0};
      let $event$jscomp$16$$;
      "pointerrawupdate" == this.$moveName$ || "pointermove" == this.$moveName$ ? $event$jscomp$16$$ = new PointerEvent(this.$moveName$, $deltaX$jscomp$1_init$jscomp$4$$) : $event$jscomp$16$$ = new MouseEvent("mousemove", $deltaX$jscomp$1_init$jscomp$4$$);
      this.$eventElement$.dispatchEvent($event$jscomp$16$$);
    }
  }
  start() {
    this.$rsdmmTimer$ && this.stop();
    this.$rsdmmTimer$ = window.setInterval(this.$rsdmmTickFunc$, this.$rsdmmPollInterval$);
  }
  stop() {
    this.$rsdmmTimer$ && (clearInterval(this.$rsdmmTimer$), this.$rsdmmTimer$ = 0);
  }
  reset() {
    this.$button1$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 0, !1);
    this.$button2$ && $JSCompiler_StaticMethods_sendMouseButtonEvent$$(this, 2, !1);
    this.$accumulatedH$ = this.$accumulatedV$ = this.$prevH$ = this.$prevV$ = 0;
    this.$button1$ = this.$button2$ = !1;
  }
  $gamepadBitmapUpdateHandler$() {
  }
  $finalizeGamepadData$() {
  }
  $virtualGamepadUpdateHandler$() {
  }
  $connectUnsupportedGamepad$() {
  }
};
var $module$exports$output$input$mousefilter$NullMouseFilter$$ = class {
  constructor() {
    this.y = this.x = 0;
  }
  $getX$() {
    return this.x;
  }
  $getY$() {
    return this.y;
  }
  update($x$jscomp$105$$, $y$jscomp$82$$) {
    this.x = $x$jscomp$105$$;
    this.y = $y$jscomp$82$$;
    return !0;
  }
}, $module$exports$output$input$mousefilter$MouseFilter$$ = class {
  constructor() {
    this.$l$ = this.$j$ = this.$o$ = this.$m$ = this.$A$ = this.$v$ = this.$s$ = this.$h$ = this.$g$ = 0;
    this.$u$ = !1;
  }
  $getX$() {
    return this.$g$;
  }
  $getY$() {
    return this.$h$;
  }
  update($x$jscomp$106$$, $y$jscomp$83$$, $ts$jscomp$14$$) {
    if (0 === $x$jscomp$106$$ && 0 === $y$jscomp$83$$) {
      return this.$u$ ? this.$l$ = this.$j$ = 0 : this.$u$ = !0, !1;
    }
    this.$u$ = !1;
    if (0 === this.$j$ && 0 === this.$l$) {
      if ($ts$jscomp$14$$ < this.$s$) {
        return this.$j$ = $x$jscomp$106$$, this.$l$ = $y$jscomp$83$$, !1;
      }
    } else {
      $x$jscomp$106$$ += this.$j$, $y$jscomp$83$$ += this.$l$, this.$l$ = this.$j$ = 0;
    }
    var $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ = $x$jscomp$106$$ * this.$g$ + $y$jscomp$83$$ * this.$h$, $accelY_magSquared$$ = $x$jscomp$106$$ * $x$jscomp$106$$ + $y$jscomp$83$$ * $y$jscomp$83$$, $lastMagSquared_threshold_thresholdY_timeMult$$ = this.$g$ * this.$g$ + this.$h$ * this.$h$, $allow_ignoredAccelX_thresholdX$$ = !0;
    0.95 > $ts$jscomp$14$$ - this.$s$ && 0 > $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ && 0 !== $lastMagSquared_threshold_thresholdY_timeMult$$ && $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ * $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ > .81 * $accelY_magSquared$$ * $lastMagSquared_threshold_thresholdY_timeMult$$ && ($accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ = Math.sqrt($accelY_magSquared$$) / Math.sqrt($lastMagSquared_threshold_thresholdY_timeMult$$), $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ = 
    Math.abs($accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ - Math.trunc($accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$)), 0.5 < $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ && ($accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ = 1 - $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$), 0.1 > $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ && ($allow_ignoredAccelX_thresholdX$$ = !1));
    $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ = $x$jscomp$106$$ - this.$g$;
    $accelY_magSquared$$ = $y$jscomp$83$$ - this.$h$;
    if ($allow_ignoredAccelX_thresholdX$$ && ($lastMagSquared_threshold_thresholdY_timeMult$$ = 1 + 0.1 * Math.max(1, Math.min(16, $ts$jscomp$14$$ - this.$s$)), $allow_ignoredAccelX_thresholdX$$ = 2 * $lastMagSquared_threshold_thresholdY_timeMult$$ * Math.abs(this.$v$), $lastMagSquared_threshold_thresholdY_timeMult$$ = 2 * $lastMagSquared_threshold_thresholdY_timeMult$$ * Math.abs(this.$A$), $lastMagSquared_threshold_thresholdY_timeMult$$ = Math.max(8100, $allow_ignoredAccelX_thresholdX$$ * $allow_ignoredAccelX_thresholdX$$ + 
    $lastMagSquared_threshold_thresholdY_timeMult$$ * $lastMagSquared_threshold_thresholdY_timeMult$$), $allow_ignoredAccelX_thresholdX$$ = $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ * $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$ + $accelY_magSquared$$ * $accelY_magSquared$$ < $lastMagSquared_threshold_thresholdY_timeMult$$, !$allow_ignoredAccelX_thresholdX$$ && (this.$m$ || this.$o$))) {
      $allow_ignoredAccelX_thresholdX$$ = $x$jscomp$106$$ - this.$m$;
      const $ignoredAccelY$$ = $y$jscomp$83$$ - this.$o$;
      $allow_ignoredAccelX_thresholdX$$ = $allow_ignoredAccelX_thresholdX$$ * $allow_ignoredAccelX_thresholdX$$ + $ignoredAccelY$$ * $ignoredAccelY$$ < $lastMagSquared_threshold_thresholdY_timeMult$$;
    }
    if ($allow_ignoredAccelX_thresholdX$$) {
      return this.$v$ = .4 * this.$v$ + 0.6 * $accelX_dotProduct_frac$jscomp$2_mult$jscomp$4$$, this.$A$ = .4 * this.$A$ + 0.6 * $accelY_magSquared$$, this.$g$ = $x$jscomp$106$$, this.$h$ = $y$jscomp$83$$, this.$s$ = $ts$jscomp$14$$, this.$o$ = this.$m$ = 0, !0;
    }
    this.$m$ = $x$jscomp$106$$;
    this.$o$ = $y$jscomp$83$$;
    return !1;
  }
};
function $module$contents$output$input$mousehandler_createSystemCursor$$($systemCursor$$) {
  return {$mimeTypeStr$:"image/x-icon", scale:1, ...$systemCursor$$};
}
const $module$contents$output$input$mousehandler_DEFAULT_CURSOR$$ = {style:"default", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAOAAAADAAAABwAAAAYAAAAOAAABDAAAAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA////////////////////////////////////////////5////8P///+D////h////wf//98P///OD///xh///8Af///AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=", 
$hotspotX$:2, $hotspotY$:1}, $module$contents$output$input$mousehandler_SYSTEM_CURSORS$$ = [{style:"none", $imageStr$:"", $hotspotX$:0, $hotspotY$:0}, $module$contents$output$input$mousehandler_DEFAULT_CURSOR$$, {style:"text", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfvwAAAAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAfPwAAAAAAAAAAAAAAAAAA/////////////////////////////////////+BA///Agf///z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z////8/////P////z///+BA///Agf////////////8=", 
$hotspotX$:8, $hotspotY$:13}, {style:"wait", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/8AAAzzAAAHDgAABfoAAAb2AAADbAAAAfgAAABgAAAAYAAAAGAAAABgAAAAYAAAAGAAAABgAAAB+AAAA/wAAAaWAAAH/gAABWoAAA//AAAP/wAAAAAAAAAAAAA//////////////////////////////////////////+AAf//gAH//4AB//+AAf//wAP//8AD///gB///8A////gf///8P////D////w////8P////D////gf///wD///4Af//8AD///AA///gAH//4AB//+AAf//gAH///////8=", $hotspotX$:7, 
$hotspotY$:12}, {style:"crosshair", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAABjAAABgMAAAQBAAAIAIAACACAABAAQAAAIAAAEABAAAgAgAAIAIAABgMAAAICAAABjAAAAFAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////4////5T///53P//+97///fff//333//79+//+AAP//v37//999///fff//53P///d3///5T////j////////8=", $hotspotX$:8, 
$hotspotY$:8}, {style:"progress", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD4AAAAiAAAAPgAAABwAAAYIAAAOCAAADAgAABwcAAAYNgAAOCoABDA+AAZwAAAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA///////////////////////+A////gP///4D///+A///5wf//8OP//+Dj///h4///wcH/98OA//ODgP/xh4D/8AeA//AP///wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=", $hotspotX$:2, $hotspotY$:1}, 
{style:"nwse-resize", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP4AAAB+AAAAPgAAAB4AAABuAAAA5gAAAcIAAEOAAABnAAAAdgAAAHgAAAB8AAAAfgAAAH8AAAAAAAAAAAAAA/////////////////////////////////////////////////////////////////////////////////wA///+AP///wD///+A////gP///wD//34A//88GP//GDz//wB+//8A////Af///wH///8A////AH///wA////////8=", $hotspotX$:9, $hotspotY$:8}, 
{style:"nesw-resize", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAfwAAAH4AAAB8AAAAeAAAAHYAAABnAAAAQ4AAAAHCAAAA5gAAAG4AAAAeAAAAPgAAAH4AAAD+AAAAAAAAAAAAA////////////////////////////////////////////////////////////////////////////////wA///8Af///AP///wH///8B////AP///wB+//8YPP//PBj//34A////AP///4D///+A////AP///gD///wA///////8=", $hotspotX$:9, $hotspotY$:9}, 
{style:"ew-resize", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAEAABgBgAA4AcAAeAHgAPv98AH7/fgA+/3wAHgB4AA4AcAAGAGAAAgBAAAAAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////////////////////+/3///P8///j/H//w/w//4P8H/8AAA/+AAAH/AAAA/4AAAf/AAAP/4P8H//D/D//4/x///P8///7/f//////8=", $hotspotX$:13, $hotspotY$:8}, 
{style:"ns-resize", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADgAAAB8AAAA/gAAAf8AAAP/gAAAAAAAADgAAAA4AAAAOAAAADgAAAA4AAAAOAAAADgAAAA4AAAAAAAAA/+AAAH/AAAA/gAAAHwAAAA4AAAAEAAAAAAAAAAAAAA//////////////////////////////////////+/////H////g////wH///4A///8AH//+AA///AAH///g////4P///+D////g////4P///+D////g////4P///AAH//4AD///AB///4A////Af///4P////H////7////////8=", $hotspotX$:9, $hotspotY$:12}, 
{style:"move", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAABwAAAA+AAAAHAAAABwAAAAcAAAAHAAAABwAAAgACAAf3fwAP93+AB/d/AAIAAgAABwAAAAcAAAAHAAAABwAAAAcAAAAPgAAABwAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////f////j////wf///4D///8Af///wf///8H///vB7//zwef/4AAD/8AAAf+AAAD/wAAB/+AAA//zwef/+8Hv///B////wf///wB///+A////wf///+P////3///////////////////////8=", $hotspotX$:13, $hotspotY$:12}, $module$contents$output$input$mousehandler_DEFAULT_CURSOR$$, 
{style:"pointer", $imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAH+AAAB/gAAA/4AAAP/AAAH/wAAB/8AAA//gAAP/4AAH/+AADttgABzbYAAY2wAAANsAAADYAAAAwAAAAMAAAAAAAAAAAAAA//////////////////////////////////////////////////////////////////////+Af///AD///wA///4AP//+AB///AAf//wAH//4AA//+AAP//AAD//gAA//wAAP/8IAH//mAH///gD///4H///+H////z////////8=", $hotspotX$:8, $hotspotY$:3}, {style:"help", 
$imageStr$:"AAABAAEAICACAAEAAQAwAQAAFgAAACgAAAAgAAAAQAAAAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////AAAAAAAAAAAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAABgAAAAYAAAYHAAAOAYAADADAABwwwAAYMMAAODDABDAZgAZwDwAHYAAAB4AAAAf+AAAH/AAAB/gAAAfwAAAH4AAAB8AAAAeAAAAHAAAABgAAAAQAAAAAAAAAAAAAAAAAAAA/////////////+f////D////5//////////n////w///58P//8PB//+D4P//hzB//wYYf98OGH/ODhh/xh8A/8Afgf/AP8P/wAH//8AD///AB///wA///8Af///AP///wH///8D////B////w////8f////P////3/////////8=", $hotspotX$:2, $hotspotY$:1}];
function $JSCompiler_StaticMethods_onCursorMessage$$($JSCompiler_StaticMethods_onCursorMessage$self$$, $cursorId_msg$jscomp$20$$) {
  let $uint8Array$jscomp$1$$ = new Uint8Array($cursorId_msg$jscomp$20$$.data);
  switch($uint8Array$jscomp$1$$[0]) {
    case 0:
    case 1:
      $cursorId_msg$jscomp$20$$ = $uint8Array$jscomp$1$$[1];
      let $hotX$$ = $uint8Array$jscomp$1$$[2], $hotY$$ = $uint8Array$jscomp$1$$[3];
      var $mimeSize_payloadSize$$ = $uint8Array$jscomp$1$$[4];
      let $offset$jscomp$40$$ = 5, $read16$jscomp$1$$ = () => {
        const $result$jscomp$12$$ = $uint8Array$jscomp$1$$[$offset$jscomp$40$$] + ($uint8Array$jscomp$1$$[$offset$jscomp$40$$ + 1] << 8);
        $offset$jscomp$40$$ += 2;
        return $result$jscomp$12$$;
      };
      var $mimeType$jscomp$7_mimearray$$ = "";
      0 != $mimeSize_payloadSize$$ && ($mimeType$jscomp$7_mimearray$$ = $uint8Array$jscomp$1$$.subarray($offset$jscomp$40$$, $offset$jscomp$40$$ + $mimeSize_payloadSize$$), $offset$jscomp$40$$ += $mimeSize_payloadSize$$, $mimeType$jscomp$7_mimearray$$ = (new TextDecoder("utf-8")).decode($mimeType$jscomp$7_mimearray$$));
      $mimeSize_payloadSize$$ = $read16$jscomp$1$$();
      var $payload_payloadarray$$ = "";
      0 != $mimeSize_payloadSize$$ && ($payload_payloadarray$$ = $uint8Array$jscomp$1$$.subarray($offset$jscomp$40$$, $offset$jscomp$40$$ + $mimeSize_payloadSize$$), $offset$jscomp$40$$ += $mimeSize_payloadSize$$, $payload_payloadarray$$ = (new TextDecoder("utf-8")).decode($payload_payloadarray$$));
      let $x$jscomp$110$$, $y$jscomp$87$$;
      $offset$jscomp$40$$ + 4 <= $uint8Array$jscomp$1$$.byteLength && ($x$jscomp$110$$ = $read16$jscomp$1$$(), $y$jscomp$87$$ = $read16$jscomp$1$$());
      let $scale$jscomp$6$$;
      $offset$jscomp$40$$ + 2 <= $uint8Array$jscomp$1$$.byteLength && ($scale$jscomp$6$$ = $read16$jscomp$1$$() / 100);
      0 == $uint8Array$jscomp$1$$[0] ? $JSCompiler_StaticMethods_handleSystemCursor$$($JSCompiler_StaticMethods_onCursorMessage$self$$, $cursorId_msg$jscomp$20$$, $x$jscomp$110$$, $y$jscomp$87$$) : $JSCompiler_StaticMethods_handleBitmapCursor$$($JSCompiler_StaticMethods_onCursorMessage$self$$, $cursorId_msg$jscomp$20$$, $hotX$$, $hotY$$, $mimeType$jscomp$7_mimearray$$, $payload_payloadarray$$, $x$jscomp$110$$, $y$jscomp$87$$, $scale$jscomp$6$$);
      break;
    case 10:
      $JSCompiler_StaticMethods_onCursorMessage$self$$.$oa$.allowUnconfined && $JSCompiler_StaticMethods_setCursorConfinement$$($JSCompiler_StaticMethods_onCursorMessage$self$$, 1 == $uint8Array$jscomp$1$$[1]);
  }
}
function $JSCompiler_StaticMethods_getCursorCanvas$$($JSCompiler_StaticMethods_getCursorCanvas$self$$, $videoTagElement$$) {
  var $cursorCanvas$jscomp$inline_348_element$jscomp$11$$ = document.getElementById($JSCompiler_StaticMethods_getCursorCanvas$self$$.$M$);
  if ($cursorCanvas$jscomp$inline_348_element$jscomp$11$$ && $cursorCanvas$jscomp$inline_348_element$jscomp$11$$ instanceof HTMLCanvasElement && $cursorCanvas$jscomp$inline_348_element$jscomp$11$$.parentElement === $videoTagElement$$.parentElement) {
    return $cursorCanvas$jscomp$inline_348_element$jscomp$11$$;
  }
  if ($cursorCanvas$jscomp$inline_348_element$jscomp$11$$) {
    let $canvasId$$;
    do {
      $canvasId$$ = "canvasId" + Math.round(10000 * Math.random()), $cursorCanvas$jscomp$inline_348_element$jscomp$11$$ = document.getElementById($canvasId$$);
    } while ($cursorCanvas$jscomp$inline_348_element$jscomp$11$$);
    $JSCompiler_StaticMethods_getCursorCanvas$self$$.$M$ = $canvasId$$;
  }
  $cursorCanvas$jscomp$inline_348_element$jscomp$11$$ = document.createElement("canvas");
  $cursorCanvas$jscomp$inline_348_element$jscomp$11$$.id = $JSCompiler_StaticMethods_getCursorCanvas$self$$.$M$;
  $cursorCanvas$jscomp$inline_348_element$jscomp$11$$.style.touchAction = "none";
  $cursorCanvas$jscomp$inline_348_element$jscomp$11$$.style.pointerEvents = "none";
  $cursorCanvas$jscomp$inline_348_element$jscomp$11$$.style.willChange = "transform";
  $JSCompiler_StaticMethods_setCursorCanvasPosition$$($JSCompiler_StaticMethods_getCursorCanvas$self$$, $cursorCanvas$jscomp$inline_348_element$jscomp$11$$, $videoTagElement$$);
  $videoTagElement$$.insertAdjacentElement("afterend", $cursorCanvas$jscomp$inline_348_element$jscomp$11$$);
  return $cursorCanvas$jscomp$inline_348_element$jscomp$11$$;
}
function $JSCompiler_StaticMethods_setCursorCanvasPosition$$($JSCompiler_StaticMethods_setCursorCanvasPosition$self$$, $cursorCanvas$jscomp$1$$, $parentBounding_videoTagElement$jscomp$2$$) {
  var $_a$jscomp$52_left$jscomp$2$$, $_b$jscomp$23_translationLimits$$, $bounding_top$jscomp$3$$ = $parentBounding_videoTagElement$jscomp$2$$.getBoundingClientRect();
  $parentBounding_videoTagElement$jscomp$2$$ = null !== ($_b$jscomp$23_translationLimits$$ = null === ($_a$jscomp$52_left$jscomp$2$$ = $parentBounding_videoTagElement$jscomp$2$$.parentElement) || void 0 === $_a$jscomp$52_left$jscomp$2$$ ? void 0 : $_a$jscomp$52_left$jscomp$2$$.getBoundingClientRect()) && void 0 !== $_b$jscomp$23_translationLimits$$ ? $_b$jscomp$23_translationLimits$$ : new DOMRect(0, 0, 0, 0);
  $_b$jscomp$23_translationLimits$$ = $JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$$($JSCompiler_StaticMethods_setCursorCanvasPosition$self$$);
  $_a$jscomp$52_left$jscomp$2$$ = $bounding_top$jscomp$3$$.left - $parentBounding_videoTagElement$jscomp$2$$.left - $JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.offsetX + $_b$jscomp$23_translationLimits$$.$horizontal$ + ($JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.$zoomFactor$ - 1) * $JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.$leftPadding$;
  $bounding_top$jscomp$3$$ = $bounding_top$jscomp$3$$.top - $parentBounding_videoTagElement$jscomp$2$$.top - $JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.offsetY + $_b$jscomp$23_translationLimits$$.vertical + ($JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.$zoomFactor$ - 1) * $JSCompiler_StaticMethods_setCursorCanvasPosition$self$$.$j$.$topPadding$;
  $cursorCanvas$jscomp$1$$.style.position = "absolute";
  $cursorCanvas$jscomp$1$$.style.left = $_a$jscomp$52_left$jscomp$2$$ + "px";
  $cursorCanvas$jscomp$1$$.style.top = $bounding_top$jscomp$3$$ + "px";
  $cursorCanvas$jscomp$1$$.style.zIndex = "200";
  $JSCompiler_StaticMethods_updateCursorCanvasState$$($JSCompiler_StaticMethods_setCursorCanvasPosition$self$$, $cursorCanvas$jscomp$1$$);
}
function $JSCompiler_StaticMethods_setRawUpdate$$($JSCompiler_StaticMethods_setRawUpdate$self$$, $newState$$) {
  if ($JSCompiler_StaticMethods_setRawUpdate$self$$.$L$ && $JSCompiler_StaticMethods_setRawUpdate$self$$.$F$ !== $newState$$) {
    switch($JSCompiler_StaticMethods_setRawUpdate$self$$.$A$ && $JSCompiler_StaticMethods_removeMoveListener$$($JSCompiler_StaticMethods_setRawUpdate$self$$), $JSCompiler_StaticMethods_setRawUpdate$self$$.$F$ = $newState$$, $JSCompiler_StaticMethods_setRawUpdate$self$$.$A$ && $JSCompiler_StaticMethods_addMoveListener$$($JSCompiler_StaticMethods_setRawUpdate$self$$), $newState$$) {
      case 1:
        $JSCompiler_StaticMethods_setRawUpdate$self$$.$D$ = 4;
        break;
      case 2:
        $JSCompiler_StaticMethods_setRawUpdate$self$$.$D$ = 8;
        break;
      case 3:
        $JSCompiler_StaticMethods_setRawUpdate$self$$.$D$ = 16;
        break;
      default:
        $JSCompiler_StaticMethods_setRawUpdate$self$$.$D$ = 0;
    }
  }
}
function $JSCompiler_StaticMethods_JSC$2667_preRender$$($JSCompiler_StaticMethods_JSC$2667_preRender$self$$) {
  if ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$dirty$ && ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$dirty$ = !1, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$)) {
    if ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$W$ && $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.$absPositioning$) {
      if ($scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$ = $JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$$($JSCompiler_StaticMethods_JSC$2667_preRender$self$$), $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$) {
        var $dpr$jscomp$inline_1200$$ = $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$dpiRatio$, $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ = $dpr$jscomp$inline_1200$$ / $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.scale;
        var $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$ = 1.499 <= $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ && 1.999 > $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ ? 2 : Math.max(1, Math.floor($ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ + 0.001));
        var $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$ = $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$ / $dpr$jscomp$inline_1200$$;
        $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ = ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.$absX$ * $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.$zoomFactor$ + $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.offsetX - $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$.$horizontal$ - $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.$hotspotX$ * $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$ + $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.$leftPadding$) * 
        $dpr$jscomp$inline_1200$$;
        var $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$ = ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.$absY$ * $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.$zoomFactor$ + $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.offsetY - $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$.vertical - $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.$hotspotY$ * $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$ + $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$j$.$topPadding$) * 
        $dpr$jscomp$inline_1200$$;
        $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$P$ || ($ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ = Math.round($ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$), $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$ = Math.round($scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$));
        $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ /= $dpr$jscomp$inline_1200$$;
        $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$ /= $dpr$jscomp$inline_1200$$;
        if ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$imageChanged$ && $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.image) {
          $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$imageChanged$ = !1;
          $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$ = $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.width * $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$;
          $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$ *= $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.height;
          const $ctx$jscomp$inline_1208$$ = $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$graphicsContext$;
          $ctx$jscomp$inline_1208$$.clearRect(0, 0, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.width, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.height);
          $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$imageDimensionsChanged$ && ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$imageDimensionsChanged$ = !1, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.style.width = $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$ / $dpr$jscomp$inline_1200$$ + "px", $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.style.height = $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$ / 
          $dpr$jscomp$inline_1200$$ + "px", $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.width = Math.ceil($cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$), $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.height = Math.ceil($cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$), $ctx$jscomp$inline_1208$$.scale(1, 1), $ctx$jscomp$inline_1208$$.imageSmoothingEnabled = !1);
          $ctx$jscomp$inline_1208$$.drawImage($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$g$.image, 0, 0, $cursorPixelWidth$jscomp$inline_1206_hotspotScale$jscomp$inline_1203$$, $cursorPixelHeight$jscomp$inline_1207_cursorScaling$jscomp$inline_1201$$);
        }
        $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$showing$ || ($JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$h$.$showing$ = !0, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.style.visibility = "visible");
        $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$.style.transform = "translate(" + $ratio$jscomp$inline_1202_scaleX$jscomp$inline_1204$$ + "px, " + $scaleY$jscomp$inline_1205_translationLimits$jscomp$inline_354$$ + "px)";
      }
    } else {
      $JSCompiler_StaticMethods_hideCursor$$($JSCompiler_StaticMethods_JSC$2667_preRender$self$$, $JSCompiler_StaticMethods_JSC$2667_preRender$self$$.$l$);
    }
  }
}
function $JSCompiler_StaticMethods_shouldPointerLock$$($JSCompiler_StaticMethods_shouldPointerLock$self$$) {
  var $_a$jscomp$53$$, $_b$jscomp$24$$;
  return $JSCompiler_StaticMethods_shouldPointerLock$self$$.$isUserInputEnabled$() && 2 != $JSCompiler_StaticMethods_shouldPointerLock$self$$.cursorType && $JSCompiler_StaticMethods_shouldPointerLock$self$$.$v$.$h$ && (!$JSCompiler_StaticMethods_shouldPointerLock$self$$.$g$.$absPositioning$ || $JSCompiler_StaticMethods_shouldPointerLock$self$$.$g$.$confined$) && (null !== ($_b$jscomp$24$$ = null === ($_a$jscomp$53$$ = $JSCompiler_StaticMethods_JSC$2930_getLdatHandler$$($JSCompiler_StaticMethods_shouldPointerLock$self$$.$I$)) || 
  void 0 === $_a$jscomp$53$$ ? void 0 : $_a$jscomp$53$$.$allowPointerLock$()) && void 0 !== $_b$jscomp$24$$ ? $_b$jscomp$24$$ : !0);
}
function $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_updatePointerLock$self$$) {
  var $promise$jscomp$1_shouldLock_target$jscomp$105$$ = $JSCompiler_StaticMethods_shouldPointerLock$$($JSCompiler_StaticMethods_updatePointerLock$self$$);
  const $isLocked$$ = null !== $JSCompiler_StaticMethods_updatePointerLock$self$$.$o$, $shouldUnadjusted$$ = $JSCompiler_StaticMethods_updatePointerLock$self$$.$u$ && !$JSCompiler_StaticMethods_updatePointerLock$self$$.$g$.$absPositioning$, $isUnadjusted$$ = $JSCompiler_StaticMethods_updatePointerLock$self$$.$na$;
  if (!$JSCompiler_StaticMethods_updatePointerLock$self$$.$allowPointerLock$ || !$promise$jscomp$1_shouldLock_target$jscomp$105$$ || $isLocked$$ && $shouldUnadjusted$$ === $isUnadjusted$$) {
    !$promise$jscomp$1_shouldLock_target$jscomp$105$$ && $isLocked$$ && ($JSCompiler_StaticMethods_updatePointerLock$self$$.$o$ = null, document.exitPointerLock && document.exitPointerLock());
  } else {
    if ($promise$jscomp$1_shouldLock_target$jscomp$105$$ = $JSCompiler_StaticMethods_updatePointerLock$self$$.$s$, $JSCompiler_StaticMethods_updatePointerLock$self$$.$o$ = $promise$jscomp$1_shouldLock_target$jscomp$105$$, $promise$jscomp$1_shouldLock_target$jscomp$105$$.requestPointerLock && 3 > $JSCompiler_StaticMethods_updatePointerLock$self$$.$J$) {
      if ($JSCompiler_StaticMethods_updatePointerLock$self$$.$sa$) {
        if ($promise$jscomp$1_shouldLock_target$jscomp$105$$ = $promise$jscomp$1_shouldLock_target$jscomp$105$$.requestPointerLock({unadjustedMovement:$shouldUnadjusted$$})) {
          $JSCompiler_StaticMethods_updatePointerLock$self$$.$ia$ = !0, $promise$jscomp$1_shouldLock_target$jscomp$105$$.then(() => {
            $JSCompiler_StaticMethods_updatePointerLock$self$$.$na$ = $shouldUnadjusted$$;
            $JSCompiler_StaticMethods_updatePointerLock$self$$.$J$ = 0;
          }).catch($ex$jscomp$4$$ => {
            $JSCompiler_StaticMethods_updatePointerLock$self$$.$o$ = null;
            "NotSupportedError" === $ex$jscomp$4$$.name && $shouldUnadjusted$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{08fd91e}"), $JSCompiler_StaticMethods_updatePointerLock$self$$.$u$ = !1, $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_updatePointerLock$self$$)) : ("UnknownError" == $ex$jscomp$4$$.name ? ($JSCompiler_StaticMethods_updatePointerLock$self$$.$J$++, $module$exports$rtcutils_core$output$logger$Log$$.w("{70cc40b}", "{9f2ba9f}", 
            $JSCompiler_StaticMethods_updatePointerLock$self$$.$J$)) : $module$exports$rtcutils_core$output$logger$Log$$.e("{70cc40b}", "{4cdd98f}", $ex$jscomp$4$$.name, $ex$jscomp$4$$.message), $JSCompiler_StaticMethods_updateHardwareCursor$$($JSCompiler_StaticMethods_updatePointerLock$self$$));
          });
        }
      } else {
        $promise$jscomp$1_shouldLock_target$jscomp$105$$.requestPointerLock();
      }
    }
  }
}
function $JSCompiler_StaticMethods_setCursorPosFromOffset$$($JSCompiler_StaticMethods_setCursorPosFromOffset$self$$, $offsetX$jscomp$2$$, $offsetY$jscomp$2$$) {
  $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$$($JSCompiler_StaticMethods_setCursorPosFromOffset$self$$, $offsetX$jscomp$2$$ - $JSCompiler_StaticMethods_setCursorPosFromOffset$self$$.$j$.$leftPadding$, $offsetY$jscomp$2$$ - $JSCompiler_StaticMethods_setCursorPosFromOffset$self$$.$j$.$topPadding$);
}
function $JSCompiler_StaticMethods_JSC$2667_sendMouseDown$$($JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$, $button$jscomp$3$$, $ts$jscomp$15$$) {
  if (!$JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$.$C$.has($button$jscomp$3$$)) {
    $JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$.$C$.add($button$jscomp$3$$);
    $JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$ = $JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$.$m$;
    const $packet$jscomp$inline_363$$ = $JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$.$l$(18);
    $packet$jscomp$inline_363$$.setUint32(0, 8, !0);
    $packet$jscomp$inline_363$$.setUint8(4, $button$jscomp$3$$ + 1);
    $packet$jscomp$inline_363$$.setUint8(5, 0);
    $packet$jscomp$inline_363$$.setUint32(6, 0);
    $module$contents$output$util$utils_setUint64$$($ts$jscomp$15$$, $packet$jscomp$inline_363$$, 10, !1, 1000);
    try {
      $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$, $packet$jscomp$inline_363$$);
    } catch ($exp$jscomp$inline_364$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{b258856}", $exp$jscomp$inline_364$$), $JSCompiler_StaticMethods_JSC$2609_sendMouseDown$self$jscomp$inline_360_JSCompiler_StaticMethods_JSC$2667_sendMouseDown$self$$.$v$.$g$($exp$jscomp$inline_364$$, "send mousedown exception", "{57a6a4d}.ts", 0, 0, !0);
    }
  }
}
function $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$($JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$, $button$jscomp$4$$, $ts$jscomp$16$$) {
  if ($JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$.$C$.has($button$jscomp$4$$)) {
    $JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$.$C$.delete($button$jscomp$4$$);
    $JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$ = $JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$.$m$;
    const $packet$jscomp$inline_369$$ = $JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$.$l$(18);
    $packet$jscomp$inline_369$$.setUint32(0, 9, !0);
    $packet$jscomp$inline_369$$.setUint8(4, $button$jscomp$4$$ + 1);
    $packet$jscomp$inline_369$$.setUint8(5, 0);
    $packet$jscomp$inline_369$$.setUint32(6, 0);
    $module$contents$output$util$utils_setUint64$$($ts$jscomp$16$$, $packet$jscomp$inline_369$$, 10, !1, 1000);
    try {
      $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$, $packet$jscomp$inline_369$$);
    } catch ($exp$jscomp$inline_370$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{c1ae1fc}", $exp$jscomp$inline_370$$), $JSCompiler_StaticMethods_JSC$2609_sendMouseUp$self$jscomp$inline_366_JSCompiler_StaticMethods_JSC$2667_sendMouseUp$self$$.$v$.$g$($exp$jscomp$inline_370$$, "send mouseup exception", "{57a6a4d}.ts", 0, 0, !0);
    }
  }
}
function $JSCompiler_StaticMethods_handlePointerEvent$$($JSCompiler_StaticMethods_handlePointerEvent$self$$, $allowedEvents_evt$jscomp$52_moveBufferSize$$) {
  if ($allowedEvents_evt$jscomp$52_moveBufferSize$$ instanceof PointerEvent) {
    if ($module$contents$output$input$mousehandler_shouldIgnorePointerEvent$$($allowedEvents_evt$jscomp$52_moveBufferSize$$)) {
      return;
    }
    $allowedEvents_evt$jscomp$52_moveBufferSize$$.preventDefault();
  }
  let $callbackTime$$ = performance.now();
  if (!(!$JSCompiler_StaticMethods_handlePointerEvent$self$$.$v$.$h$ || $JSCompiler_StaticMethods_shouldPointerLock$$($JSCompiler_StaticMethods_handlePointerEvent$self$$) && null === $JSCompiler_StaticMethods_handlePointerEvent$self$$.$o$ || 0 === $allowedEvents_evt$jscomp$52_moveBufferSize$$.movementX && 0 === $allowedEvents_evt$jscomp$52_moveBufferSize$$.movementY)) {
    var $eventsPerAggregation$$ = 1, $eventCount$$ = 0, $absolute$jscomp$4$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$absPositioning$, $firstEventIndex$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$h$, $processMovement$$ = $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$ => {
      if ($JSCompiler_StaticMethods_handlePointerEvent$self$$.$mouseFilter$.update($captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.movementX, $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.movementY, $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.timeStamp)) {
        var $coordX$jscomp$1_x$jscomp$inline_379$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$mouseFilter$.$getX$(), $coordY$jscomp$1_y$jscomp$inline_380$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$mouseFilter$.$getY$();
        $absolute$jscomp$4$$ ? ($JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$confined$ ? ($JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$K$ ? $JSCompiler_StaticMethods_handlePointerEvent$self$$.$h$.$dpiRatio$ : 1.0, $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$$($JSCompiler_StaticMethods_handlePointerEvent$self$$, $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$absX$ + 
        $coordX$jscomp$1_x$jscomp$inline_379$$ / $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$, $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$absY$ + $coordY$jscomp$1_y$jscomp$inline_380$$ / $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$)) : $JSCompiler_StaticMethods_setCursorPosFromOffset$$($JSCompiler_StaticMethods_handlePointerEvent$self$$, $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.offsetX, 
        $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.offsetY), $JSCompiler_StaticMethods_handlePointerEvent$self$$.$h$.$dirty$ = !0, $coordX$jscomp$1_x$jscomp$inline_379$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$absX$, $coordY$jscomp$1_y$jscomp$inline_380$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$absY$) : $JSCompiler_StaticMethods_handlePointerEvent$self$$.$K$ && ($JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$ = 
        $JSCompiler_StaticMethods_handlePointerEvent$self$$.$h$.$dpiRatio$, $coordX$jscomp$1_x$jscomp$inline_379$$ += $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$remX$, $coordY$jscomp$1_y$jscomp$inline_380$$ += $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$remY$, $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$remX$ = $coordX$jscomp$1_x$jscomp$inline_379$$ % $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$, 
        $JSCompiler_StaticMethods_handlePointerEvent$self$$.$g$.$remY$ = $coordY$jscomp$1_y$jscomp$inline_380$$ % $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$, $coordX$jscomp$1_x$jscomp$inline_379$$ /= $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$, $coordY$jscomp$1_y$jscomp$inline_380$$ /= $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$);
        a: {
          var $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$;
          $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($captureTimestamp$jscomp$inline_381_ev$jscomp$3$$.timeStamp);
          if (0 !== $eventCount$$ % $eventsPerAggregation$$ && 0 < $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$j$) {
            const $target$jscomp$inline_386$$ = $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$l$[$JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$j$ - 1];
            if ($target$jscomp$inline_386$$.$absPos$ === $absolute$jscomp$4$$ && $target$jscomp$inline_386$$.$callbackTimestamp$ === $callbackTime$$) {
              $absolute$jscomp$4$$ ? ($target$jscomp$inline_386$$.x = $coordX$jscomp$1_x$jscomp$inline_379$$, $target$jscomp$inline_386$$.y = $coordY$jscomp$1_y$jscomp$inline_380$$) : ($target$jscomp$inline_386$$.x += $coordX$jscomp$1_x$jscomp$inline_379$$, $target$jscomp$inline_386$$.y += $coordY$jscomp$1_y$jscomp$inline_380$$);
              break a;
            }
          }
          $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$j$ == $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$l$.length ? ($JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$l$.push({$absPos$:$absolute$jscomp$4$$, x:$coordX$jscomp$1_x$jscomp$inline_379$$, y:$coordY$jscomp$1_y$jscomp$inline_380$$, 
          captureTimestamp:$captureTimestamp$jscomp$inline_381_ev$jscomp$3$$, $groupSize$:0, $callbackTimestamp$:$callbackTime$$}), $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$j$++) : ($JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$ = $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$l$[$JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$j$++], 
          $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$absPos$ = $absolute$jscomp$4$$, $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.x = $coordX$jscomp$1_x$jscomp$inline_379$$, $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.y = $coordY$jscomp$1_y$jscomp$inline_380$$, $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.captureTimestamp = 
          $captureTimestamp$jscomp$inline_381_ev$jscomp$3$$, $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$groupSize$ = 0, $JSCompiler_StaticMethods_addMoveEvent$self$jscomp$inline_377_dpr_scale$jscomp$inline_375_target$jscomp$inline_387$$.$callbackTimestamp$ = $callbackTime$$);
        }
        $eventCount$$++;
      }
    };
    if ($allowedEvents_evt$jscomp$52_moveBufferSize$$ instanceof PointerEvent && $JSCompiler_StaticMethods_handlePointerEvent$self$$.$N$) {
      const $coalesced$$ = $allowedEvents_evt$jscomp$52_moveBufferSize$$.getCoalescedEvents();
      if (0 == $coalesced$$.length) {
        $processMovement$$($allowedEvents_evt$jscomp$52_moveBufferSize$$);
      } else {
        $allowedEvents_evt$jscomp$52_moveBufferSize$$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$g$.length;
        $allowedEvents_evt$jscomp$52_moveBufferSize$$ = $coalesced$$.length > 2 * $allowedEvents_evt$jscomp$52_moveBufferSize$$ ? 1 : Math.max($allowedEvents_evt$jscomp$52_moveBufferSize$$ - $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$h$ - 4, 1);
        $coalesced$$.length > $allowedEvents_evt$jscomp$52_moveBufferSize$$ && ($eventsPerAggregation$$ = Math.ceil($coalesced$$.length / $allowedEvents_evt$jscomp$52_moveBufferSize$$), $JSCompiler_StaticMethods_handlePointerEvent$self$$.$T$.$aggregatedCount$ += $coalesced$$.length);
        for (let $ev$jscomp$4$$ of $coalesced$$) {
          $processMovement$$($ev$jscomp$4$$);
        }
      }
    } else {
      $processMovement$$($allowedEvents_evt$jscomp$52_moveBufferSize$$);
    }
    1 < $JSCompiler_StaticMethods_handlePointerEvent$self$$.$m$.$S$ && 0 === $firstEventIndex$$ && $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$h$ > $firstEventIndex$$ && ($JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$l$[$firstEventIndex$$].$groupSize$ = $JSCompiler_StaticMethods_handlePointerEvent$self$$.$B$.$h$ - $firstEventIndex$$);
  }
}
function $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$$($JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$, $x$jscomp$107$$, $y$jscomp$84$$) {
  $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$.$g$.$absX$ = Math.min(Math.max($x$jscomp$107$$, 0), $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$.$j$.$displayVideoWidth$);
  $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$.$g$.$absY$ = Math.min(Math.max($y$jscomp$84$$, 0), $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$.$j$.$displayVideoHeight$);
  $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$self$$.$h$.$dirty$ = !0;
}
function $JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$$($JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$self$$) {
  return {$horizontal$:$JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$self$$.$j$.$displayVideoWidth$ * ($JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$self$$.$j$.$zoomFactor$ - 1) / 2, vertical:$JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$self$$.$j$.$displayVideoHeight$ * ($JSCompiler_StaticMethods_JSC$2667_getTranslationLimits$self$$.$j$.$zoomFactor$ - 1) / 2};
}
function $JSCompiler_StaticMethods_updateCursorCanvasState$$($JSCompiler_StaticMethods_updateCursorCanvasState$self$$, $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$) {
  if ($ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$ = $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$.getContext("2d")) {
    $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$graphicsContext$ = $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$, $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$ = window.devicePixelRatio, $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$dpiRatio$ != $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$ && ($module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{b786ba9}", $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$), $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$dpiRatio$ = 
    $ctx_cursorCanvas$jscomp$2_dpr$jscomp$1$$, $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$imageChanged$ = !0, $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$imageDimensionsChanged$ = !0, $JSCompiler_StaticMethods_updateCursorCanvasState$self$$.$h$.$dirty$ = !0);
  }
}
function $JSCompiler_StaticMethods_JSC$2667_updateVideoState$$($JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$, $videoState$jscomp$2$$) {
  if ($JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$j$.$displayVideoWidth$ && $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$j$.$displayVideoHeight$) {
    const $verticalScaleFactor$$ = $videoState$jscomp$2$$.$displayVideoHeight$ / $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$j$.$displayVideoHeight$;
    $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$g$.$absX$ *= $videoState$jscomp$2$$.$displayVideoWidth$ / $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$j$.$displayVideoWidth$;
    $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$g$.$absY$ *= $verticalScaleFactor$$;
  }
  $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$j$ = $videoState$jscomp$2$$;
  $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$l$ && $JSCompiler_StaticMethods_setCursorCanvasPosition$$($JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$, $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$l$, $JSCompiler_StaticMethods_JSC$2667_updateVideoState$self$$.$s$);
}
function $JSCompiler_StaticMethods_hideCursor$$($JSCompiler_StaticMethods_hideCursor$self$$, $canvas$jscomp$1$$) {
  $JSCompiler_StaticMethods_hideCursor$self$$.$h$.$showing$ && ($JSCompiler_StaticMethods_hideCursor$self$$.$h$.$showing$ = !1, $canvas$jscomp$1$$.style.visibility = "hidden", $JSCompiler_StaticMethods_hideCursor$self$$.$g$.image = void 0);
}
function $JSCompiler_StaticMethods_setCursor$$($JSCompiler_StaticMethods_setCursor$self$$, $cursor$$) {
  if ($JSCompiler_StaticMethods_setCursor$self$$.$l$) {
    if ("none" !== $cursor$$.style) {
      var $updateImage$$ = () => {
        const $image$jscomp$3$$ = $cursor$$.$imageElement$;
        $JSCompiler_StaticMethods_setCursor$self$$.$h$.$imageChanged$ = !0;
        $JSCompiler_StaticMethods_setCursor$self$$.$h$.$imageDimensionsChanged$ = !$JSCompiler_StaticMethods_setCursor$self$$.$g$.image || $image$jscomp$3$$.width !== $JSCompiler_StaticMethods_setCursor$self$$.$g$.image.width || $image$jscomp$3$$.height !== $JSCompiler_StaticMethods_setCursor$self$$.$g$.image.height;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.image = $image$jscomp$3$$;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.$hotspotX$ = $cursor$$.$hotspotX$;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.$hotspotY$ = $cursor$$.$hotspotY$;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.width = $image$jscomp$3$$.width;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.height = $image$jscomp$3$$.height;
        $JSCompiler_StaticMethods_setCursor$self$$.$g$.scale = $cursor$$.scale;
        $JSCompiler_StaticMethods_setCursor$self$$.$h$.$dirty$ = !0;
      };
      if ($cursor$$.$imageElement$) {
        0 !== $cursor$$.$imageElement$.width || 0 !== $cursor$$.$imageElement$.height ? $updateImage$$() : $JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ = $cursor$$.$imageElement$;
      } else {
        const $image$jscomp$4$$ = new Image();
        $cursor$$.$imageElement$ = $image$jscomp$4$$;
        !$image$jscomp$4$$.decode && $image$jscomp$4$$.decoding && ($image$jscomp$4$$.decoding = "sync");
        $image$jscomp$4$$.src = `data:${$cursor$$.$mimeTypeStr$};base64,${$cursor$$.$imageStr$}`;
        $image$jscomp$4$$.decode ? ($JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ = $image$jscomp$4$$, $image$jscomp$4$$.decode().then(() => {
          $JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ === $image$jscomp$4$$ && ($JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ = void 0, $updateImage$$());
        }).catch(() => {
          $JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ === $image$jscomp$4$$ && ($JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ = void 0, $JSCompiler_StaticMethods_setCursor$$($JSCompiler_StaticMethods_setCursor$self$$, $JSCompiler_StaticMethods_setCursor$self$$.$O$[1]));
        })) : ($JSCompiler_StaticMethods_setCursor$self$$.$g$.$imagePendingDecode$ = void 0, $updateImage$$());
      }
    } else {
      $JSCompiler_StaticMethods_hideCursor$$($JSCompiler_StaticMethods_setCursor$self$$, $JSCompiler_StaticMethods_setCursor$self$$.$l$);
    }
  } else {
    $cursor$$.style || ($cursor$$.style = `url(${`data:${$cursor$$.$mimeTypeStr$};base64,${$cursor$$.$imageStr$}`}) ${$cursor$$.$hotspotX$} ${$cursor$$.$hotspotY$}, auto`), $JSCompiler_StaticMethods_setCursor$self$$.$g$.style = $cursor$$.style;
  }
}
function $JSCompiler_StaticMethods_handleSystemCursor$$($JSCompiler_StaticMethods_handleSystemCursor$self$$, $id$jscomp$9$$, $x$jscomp$111$$, $y$jscomp$88$$) {
  $id$jscomp$9$$ >= $JSCompiler_StaticMethods_handleSystemCursor$self$$.$O$.length ? $module$exports$rtcutils_core$output$logger$Log$$.e("{70cc40b}", "{de8eabe}", $id$jscomp$9$$) : $JSCompiler_StaticMethods_handleCursorCommon$$($JSCompiler_StaticMethods_handleSystemCursor$self$$, $JSCompiler_StaticMethods_handleSystemCursor$self$$.$O$[$id$jscomp$9$$], $x$jscomp$111$$, $y$jscomp$88$$);
}
function $JSCompiler_StaticMethods_handleBitmapCursor$$($JSCompiler_StaticMethods_handleBitmapCursor$self$$, $id$jscomp$10$$, $cursor$jscomp$1_hotspotX$$, $hotspotY$$, $mimeType$jscomp$8$$, $image$jscomp$5$$, $x$jscomp$112$$, $y$jscomp$89$$, $scale$jscomp$7$$) {
  if (0 < $image$jscomp$5$$.length) {
    $cursor$jscomp$1_hotspotX$$ = {$imageStr$:$image$jscomp$5$$, $hotspotX$:$cursor$jscomp$1_hotspotX$$, $hotspotY$:$hotspotY$$, $mimeTypeStr$:$mimeType$jscomp$8$$, scale:$scale$jscomp$7$$ ? $scale$jscomp$7$$ : 1}, $JSCompiler_StaticMethods_handleBitmapCursor$self$$.$V$[$id$jscomp$10$$] = $cursor$jscomp$1_hotspotX$$;
  } else {
    if ($cursor$jscomp$1_hotspotX$$ = $JSCompiler_StaticMethods_handleBitmapCursor$self$$.$V$[$id$jscomp$10$$], void 0 === $cursor$jscomp$1_hotspotX$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{70cc40b}", "{0196577}", $id$jscomp$10$$);
      return;
    }
  }
  $JSCompiler_StaticMethods_handleCursorCommon$$($JSCompiler_StaticMethods_handleBitmapCursor$self$$, $cursor$jscomp$1_hotspotX$$, $x$jscomp$112$$, $y$jscomp$89$$);
}
function $JSCompiler_StaticMethods_setCursorConfinement$$($JSCompiler_StaticMethods_setCursorConfinement$self$$, $confine$jscomp$1$$) {
  $JSCompiler_StaticMethods_setCursorConfinement$self$$.$g$.$confined$ = $confine$jscomp$1$$;
  $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_setCursorConfinement$self$$);
}
function $JSCompiler_StaticMethods_handleCursorCommon$$($JSCompiler_StaticMethods_handleCursorCommon$self$$, $cursor$jscomp$2$$, $x$jscomp$113$$, $y$jscomp$90$$) {
  const $isVisible$$ = "none" !== $cursor$jscomp$2$$.style;
  !$JSCompiler_StaticMethods_handleCursorCommon$self$$.$g$.$absPositioning$ && $isVisible$$ && void 0 !== $x$jscomp$113$$ && void 0 !== $y$jscomp$90$$ && $JSCompiler_StaticMethods_setCursorPosFromDisplayVideo$$($JSCompiler_StaticMethods_handleCursorCommon$self$$, $x$jscomp$113$$ * $JSCompiler_StaticMethods_handleCursorCommon$self$$.$j$.$displayVideoWidth$ / 65535, $y$jscomp$90$$ * $JSCompiler_StaticMethods_handleCursorCommon$self$$.$j$.$displayVideoHeight$ / 65535);
  $JSCompiler_StaticMethods_handleCursorCommon$self$$.$g$.$absPositioning$ = $isVisible$$;
  $isVisible$$ || ($JSCompiler_StaticMethods_handleCursorCommon$self$$.$g$.$remX$ = 0, $JSCompiler_StaticMethods_handleCursorCommon$self$$.$g$.$remY$ = 0);
  $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_handleCursorCommon$self$$);
  $JSCompiler_StaticMethods_setCursor$$($JSCompiler_StaticMethods_handleCursorCommon$self$$, $cursor$jscomp$2$$);
  $JSCompiler_StaticMethods_updateHardwareCursor$$($JSCompiler_StaticMethods_handleCursorCommon$self$$);
}
function $JSCompiler_StaticMethods_updateHardwareCursor$$($JSCompiler_StaticMethods_updateHardwareCursor$self$$) {
  const $target$jscomp$104$$ = $JSCompiler_StaticMethods_updateHardwareCursor$self$$.$s$;
  !$JSCompiler_StaticMethods_updateHardwareCursor$self$$.$isUserInputEnabled$() || $JSCompiler_StaticMethods_shouldPointerLock$$($JSCompiler_StaticMethods_updateHardwareCursor$self$$) && null === $JSCompiler_StaticMethods_updateHardwareCursor$self$$.$o$ || 2 == $JSCompiler_StaticMethods_updateHardwareCursor$self$$.cursorType ? $target$jscomp$104$$.style.cursor = "default" : $target$jscomp$104$$.style.cursor = $JSCompiler_StaticMethods_updateHardwareCursor$self$$.$l$ ? "none" : $JSCompiler_StaticMethods_updateHardwareCursor$self$$.$g$.style;
}
function $JSCompiler_StaticMethods_addMoveListener$$($JSCompiler_StaticMethods_addMoveListener$self$$) {
  2 == $JSCompiler_StaticMethods_addMoveListener$self$$.cursorType ? ($JSCompiler_StaticMethods_addMoveListener$self$$.$H$.$moveName$ = $JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_addMoveListener$self$$), $JSCompiler_StaticMethods_addMoveListener$self$$.videoAddEventListener($JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_addMoveListener$self$$), $JSCompiler_StaticMethods_addMoveListener$self$$.$G$ ? $JSCompiler_StaticMethods_addMoveListener$self$$.$aa$ : 
  $JSCompiler_StaticMethods_addMoveListener$self$$.$$$)) : 0 !== $JSCompiler_StaticMethods_addMoveListener$self$$.$F$ ? ($JSCompiler_StaticMethods_addMoveListener$self$$.$H$.$moveName$ = "pointerrawupdate", $JSCompiler_StaticMethods_addMoveListener$self$$.videoAddEventListener("pointerrawupdate", $JSCompiler_StaticMethods_addMoveListener$self$$.$ka$)) : ($JSCompiler_StaticMethods_addMoveListener$self$$.$H$.$moveName$ = $JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_addMoveListener$self$$), 
  $JSCompiler_StaticMethods_addMoveListener$self$$.videoAddEventListener($JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_addMoveListener$self$$), $JSCompiler_StaticMethods_addMoveListener$self$$.$ja$));
}
function $JSCompiler_StaticMethods_releasePressedButtons$$($JSCompiler_StaticMethods_releasePressedButtons$self$$) {
  if (0 < $JSCompiler_StaticMethods_releasePressedButtons$self$$.$C$.size) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{041c67f}", $JSCompiler_StaticMethods_releasePressedButtons$self$$.$C$.size);
    for (const $button$jscomp$2$$ of $JSCompiler_StaticMethods_releasePressedButtons$self$$.$C$) {
      $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$($JSCompiler_StaticMethods_releasePressedButtons$self$$, $button$jscomp$2$$, 0);
    }
  }
}
function $JSCompiler_StaticMethods_removeMoveListener$$($JSCompiler_StaticMethods_removeMoveListener$self$$) {
  2 == $JSCompiler_StaticMethods_removeMoveListener$self$$.cursorType ? $JSCompiler_StaticMethods_removeMoveListener$self$$.videoRemoveEventListener($JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_removeMoveListener$self$$), $JSCompiler_StaticMethods_removeMoveListener$self$$.$G$ ? $JSCompiler_StaticMethods_removeMoveListener$self$$.$aa$ : $JSCompiler_StaticMethods_removeMoveListener$self$$.$$$) : 0 !== $JSCompiler_StaticMethods_removeMoveListener$self$$.$F$ ? $JSCompiler_StaticMethods_removeMoveListener$self$$.videoRemoveEventListener("pointerrawupdate", 
  $JSCompiler_StaticMethods_removeMoveListener$self$$.$ka$) : $JSCompiler_StaticMethods_removeMoveListener$self$$.videoRemoveEventListener($JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_removeMoveListener$self$$), $JSCompiler_StaticMethods_removeMoveListener$self$$.$ja$);
}
function $JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_getMoveEventName$self$$) {
  return $JSCompiler_StaticMethods_getMoveEventName$self$$.$G$ ? "pointermove" : "mousemove";
}
function $JSCompiler_StaticMethods_setShowCursor$$($JSCompiler_StaticMethods_setShowCursor$self$$) {
  $JSCompiler_StaticMethods_setShowCursor$self$$.$W$ = !1;
  $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_setShowCursor$self$$);
}
var $module$exports$output$input$mousehandler$MouseHandler$$ = class {
  constructor($streamClient$jscomp$1_zoneless$$, $updateOverride_videoElement$jscomp$2$$, $cursorChannel$$, $configFlags$$, $platformDetails$jscomp$32$$, $rsdmmHandler$$, $measurements$jscomp$1$$, $moveEventBuffer$jscomp$1$$, $packetHandler$$, $windowObserver$$) {
    var $_a$jscomp$51$$, $_b$jscomp$22$$, $_c$jscomp$12$$, $_d$jscomp$11$$, $_e$jscomp$8$$, $_f$jscomp$7$$, $_g$jscomp$5$$, $_h$jscomp$5$$, $_j$jscomp$5$$, $_k$jscomp$5$$, $_l$jscomp$5$$, $_m$jscomp$4$$, $_o$jscomp$4$$, $_p$jscomp$4_avoidFilter_needsFilter$$, $_q$jscomp$3$$;
    this.$v$ = $windowObserver$$;
    this.$J$ = 0;
    this.$allowPointerLock$ = !1;
    this.$C$ = new Set();
    this.$ia$ = this.$na$ = this.$u$ = this.$N$ = this.$G$ = this.$L$ = !1;
    this.$D$ = this.$F$ = 0;
    this.$P$ = !1;
    this.$fa$ = {passive:!1};
    this.$W$ = !0;
    this.$A$ = !1;
    this.$platformDetails$ = $platformDetails$jscomp$32$$;
    this.$I$ = $streamClient$jscomp$1_zoneless$$;
    this.$s$ = $updateOverride_videoElement$jscomp$2$$;
    this.$oa$ = $configFlags$$;
    this.$H$ = $rsdmmHandler$$;
    this.$T$ = $measurements$jscomp$1$$;
    this.$B$ = $moveEventBuffer$jscomp$1$$;
    this.$m$ = $packetHandler$$;
    $cursorChannel$$.onmessage = $msg$jscomp$19$$ => $JSCompiler_StaticMethods_onCursorMessage$$(this, $msg$jscomp$19$$);
    this.$j$ = {$displayVideoWidth$:$updateOverride_videoElement$jscomp$2$$.clientWidth || window.screen.width, $displayVideoHeight$:$updateOverride_videoElement$jscomp$2$$.clientHeight || window.screen.height, $scalingFactor$:1, $leftPadding$:0, $topPadding$:0, videoWidth:0, videoHeight:0, $viewportHeight$:0, offsetX:0, offsetY:0, $zoomFactor$:1};
    $streamClient$jscomp$1_zoneless$$ = window.zoneless;
    this.documentAddEventListener = null !== ($_b$jscomp$22$$ = null === ($_a$jscomp$51$$ = null === $streamClient$jscomp$1_zoneless$$ || void 0 === $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.documentAddEventListener) || void 0 === $_a$jscomp$51$$ ? void 0 : $_a$jscomp$51$$.bind(document)) && void 0 !== $_b$jscomp$22$$ ? $_b$jscomp$22$$ : document.addEventListener.bind(document);
    this.documentRemoveEventListener = null !== ($_d$jscomp$11$$ = null === ($_c$jscomp$12$$ = null === $streamClient$jscomp$1_zoneless$$ || void 0 === $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.documentRemoveEventListener) || void 0 === $_c$jscomp$12$$ ? void 0 : $_c$jscomp$12$$.bind(document)) && void 0 !== $_d$jscomp$11$$ ? $_d$jscomp$11$$ : document.removeEventListener.bind(document);
    this.videoAddEventListener = null !== ($_h$jscomp$5$$ = null !== ($_f$jscomp$7$$ = null === ($_e$jscomp$8$$ = null === $streamClient$jscomp$1_zoneless$$ || void 0 === $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.videoAddEventListener) || void 0 === $_e$jscomp$8$$ ? void 0 : $_e$jscomp$8$$.bind($updateOverride_videoElement$jscomp$2$$)) && void 0 !== $_f$jscomp$7$$ ? $_f$jscomp$7$$ : null === ($_g$jscomp$5$$ = null === $streamClient$jscomp$1_zoneless$$ || void 0 === 
    $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.documentAddEventListener) || void 0 === $_g$jscomp$5$$ ? void 0 : $_g$jscomp$5$$.bind(document)) && void 0 !== $_h$jscomp$5$$ ? $_h$jscomp$5$$ : $updateOverride_videoElement$jscomp$2$$.addEventListener.bind($updateOverride_videoElement$jscomp$2$$);
    this.videoRemoveEventListener = null !== ($_m$jscomp$4$$ = null !== ($_k$jscomp$5$$ = null === ($_j$jscomp$5$$ = null === $streamClient$jscomp$1_zoneless$$ || void 0 === $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.videoRemoveEventListener) || void 0 === $_j$jscomp$5$$ ? void 0 : $_j$jscomp$5$$.bind($updateOverride_videoElement$jscomp$2$$)) && void 0 !== $_k$jscomp$5$$ ? $_k$jscomp$5$$ : null === ($_l$jscomp$5$$ = null === $streamClient$jscomp$1_zoneless$$ || 
    void 0 === $streamClient$jscomp$1_zoneless$$ ? void 0 : $streamClient$jscomp$1_zoneless$$.documentRemoveEventListener) || void 0 === $_l$jscomp$5$$ ? void 0 : $_l$jscomp$5$$.bind(document)) && void 0 !== $_m$jscomp$4$$ ? $_m$jscomp$4$$ : $updateOverride_videoElement$jscomp$2$$.removeEventListener.bind($updateOverride_videoElement$jscomp$2$$);
    this.$U$ = this.$ba$.bind(this);
    this.$la$ = this.$wa$.bind(this);
    this.$da$ = this.$ca$.bind(this);
    this.$ma$ = this.$za$.bind(this);
    this.$ea$ = this.$ta$.bind(this);
    this.$ja$ = this.$xa$.bind(this);
    this.$ka$ = this.$ya$.bind(this);
    this.$$$ = this.$Z$.bind(this);
    this.$aa$ = this.$ra$.bind(this);
    this.$ha$ = this.$ua$.bind(this);
    this.$ga$ = this.$va$.bind(this);
    this.$R$ = this.$pa$.bind(this);
    this.$S$ = this.$qa$.bind(this);
    this.cursorType = null !== ($_o$jscomp$4$$ = $configFlags$$.cursorType) && void 0 !== $_o$jscomp$4$$ ? $_o$jscomp$4$$ : 0;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{3277c0e}", this.cursorType);
    this.$g$ = {$absPositioning$:!1, $confined$:0 === this.cursorType && !$configFlags$$.allowUnconfined, $absX$:0, $absY$:0, $remX$:0, $remY$:0, style:"", $hotspotX$:0, $hotspotY$:0, width:0, height:0, scale:1};
    this.$h$ = {$dpiRatio$:1, $cursorScaling$:1, $dirty$:!1, $imageChanged$:!1, $imageDimensionsChanged$:!1, $showing$:!1};
    this.$V$ = [];
    this.$M$ = "canvasId1";
    0 == this.cursorType ? (this.$l$ = $JSCompiler_StaticMethods_getCursorCanvas$$(this, this.$s$), $JSCompiler_StaticMethods_setCursorCanvasPosition$$(this, this.$l$, this.$s$)) : this.$l$ = null;
    this.$O$ = $module$contents$output$input$mousehandler_SYSTEM_CURSORS$$.map($module$contents$output$input$mousehandler_createSystemCursor$$);
    this.$o$ = null;
    this.$L$ = "onpointerrawupdate" in this.$s$;
    this.$N$ = (this.$G$ = !(null === PointerEvent || void 0 === PointerEvent || !PointerEvent.prototype)) && "getCoalescedEvents" in PointerEvent.prototype && "Firefox" !== $platformDetails$jscomp$32$$.browser;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{f30b8ee}", this.$N$ ? "supported" : "not supported");
    this.$sa$ = !!window.chrome;
    this.$L$ && ($updateOverride_videoElement$jscomp$2$$ = $module$contents$output$input$mousehandler_getRawUpdateOverride$$(), void 0 !== $updateOverride_videoElement$jscomp$2$$ ? $JSCompiler_StaticMethods_setRawUpdate$$(this, $updateOverride_videoElement$jscomp$2$$) : $module$contents$rtcutils_core$output$utils_IsChromeOS$$($platformDetails$jscomp$32$$) ? $JSCompiler_StaticMethods_setRawUpdate$$(this, 3) : $JSCompiler_StaticMethods_setRawUpdate$$(this, 1), $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", 
    "{20be0c0}", this.$D$, void 0 !== $updateOverride_videoElement$jscomp$2$$ ? " (overridden)" : ""));
    this.$u$ = null !== ($_p$jscomp$4_avoidFilter_needsFilter$$ = $module$exports$output$util$settings$RagnarokSettings$$.unadjustedMovement) && void 0 !== $_p$jscomp$4_avoidFilter_needsFilter$$ ? $_p$jscomp$4_avoidFilter_needsFilter$$ : $module$contents$rtcutils_core$output$utils_IsWindowsOS$$(this.$platformDetails$) ? $module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$(this.$platformDetails$, 84, 0, 4147, 78) : $module$contents$rtcutils_core$output$utils_IsChromeOS$$(this.$platformDetails$) || 
    $module$contents$rtcutils_core$output$utils_IsMacOS$$(this.$platformDetails$) ? $module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$(this.$platformDetails$, 86, 0, 4240, 198) : !1;
    $_p$jscomp$4_avoidFilter_needsFilter$$ = $module$contents$rtcutils_core$output$utils_IsChromeOS$$($platformDetails$jscomp$32$$) && $module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$(this.$platformDetails$, 84, 0, 4147, 94) && !$module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$(this.$platformDetails$, 88, 0, 4324, 139);
    $_p$jscomp$4_avoidFilter_needsFilter$$ = $module$contents$rtcutils_core$output$utils_IsWindowsOS$$(this.$platformDetails$) || !$_p$jscomp$4_avoidFilter_needsFilter$$ || !$module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$(this.$platformDetails$, 84, 0, 4147, 94);
    (null !== ($_q$jscomp$3$$ = $module$exports$output$util$settings$RagnarokSettings$$.$mouseFilter$) && void 0 !== $_q$jscomp$3$$ ? $_q$jscomp$3$$ : $_p$jscomp$4_avoidFilter_needsFilter$$) ? this.$mouseFilter$ = new $module$exports$output$input$mousefilter$MouseFilter$$() : this.$mouseFilter$ = new $module$exports$output$input$mousefilter$NullMouseFilter$$();
    ["pointerlockchange", "mozpointerlockchange"].forEach($eventType$jscomp$3$$ => this.documentAddEventListener($eventType$jscomp$3$$, this.$ha$));
    ["pointerlockerror", "mozpointerlockerror"].forEach($eventType$jscomp$4$$ => this.documentAddEventListener($eventType$jscomp$4$$, this.$ga$));
    $JSCompiler_StaticMethods_addStateListener$$(this.$v$, 0, this.$R$);
    $JSCompiler_StaticMethods_addStateListener$$(this.$v$, 2, this.$S$);
    $module$contents$rtcutils_core$output$utils_IsWebOS$$(this.$platformDetails$) || "Tizen" === this.$platformDetails$.os ? this.$K$ = !0 : "Chrome" != $platformDetails$jscomp$32$$.browser || $module$contents$rtcutils_core$output$utils_IsChromeVersionAtLeast$$($platformDetails$jscomp$32$$, 99, 0, 4844, 44) || $module$contents$rtcutils_core$output$utils_IsMacOS$$($platformDetails$jscomp$32$$) ? this.$K$ = !1 : this.$K$ = !0;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{70cc40b}", "{ec7c4c5}");
  }
  uninitialize() {
    ["pointerlockerror", "mozpointerlockerror"].forEach($eventType$jscomp$5$$ => this.documentRemoveEventListener($eventType$jscomp$5$$, this.$ga$));
    ["pointerlockchange", "mozpointerlockchange"].forEach($eventType$jscomp$6$$ => this.documentRemoveEventListener($eventType$jscomp$6$$, this.$ha$));
    $JSCompiler_StaticMethods_removeStateListener$$(this.$v$, 0, this.$R$);
    $JSCompiler_StaticMethods_removeStateListener$$(this.$v$, 2, this.$S$);
  }
  $wa$($evt$jscomp$45$$) {
    $module$contents$output$input$mousehandler_shouldIgnorePointerEvent$$($evt$jscomp$45$$) || ($evt$jscomp$45$$.preventDefault(), this.$ba$($evt$jscomp$45$$), 2 === this.cursorType && this.$s$.setPointerCapture($evt$jscomp$45$$.pointerId));
  }
  $ba$($evt$jscomp$46$$) {
    var $_a$jscomp$inline_413_timeStamp$jscomp$7$$;
    null === ($_a$jscomp$inline_413_timeStamp$jscomp$7$$ = this.$I$.$I$) || void 0 === $_a$jscomp$inline_413_timeStamp$jscomp$7$$ ? void 0 : 2 == $_a$jscomp$inline_413_timeStamp$jscomp$7$$.$g$ && ($module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{89b1a9f}"), $JSCompiler_StaticMethods_destroyRecorder$$($_a$jscomp$inline_413_timeStamp$jscomp$7$$), $JSCompiler_StaticMethods_createRecorder$$($_a$jscomp$inline_413_timeStamp$jscomp$7$$), $JSCompiler_StaticMethods_startRecord$$($_a$jscomp$inline_413_timeStamp$jscomp$7$$));
    $JSCompiler_StaticMethods_setWindowFocus$$(this.$v$, !0);
    this.$allowPointerLock$ = !0;
    $_a$jscomp$inline_413_timeStamp$jscomp$7$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$46$$.timeStamp);
    $JSCompiler_StaticMethods_shouldPointerLock$$(this) && null === this.$o$ ? ($JSCompiler_StaticMethods_updatePointerLock$$(this), $JSCompiler_StaticMethods_setCursorPosFromOffset$$(this, $evt$jscomp$46$$.offsetX, $evt$jscomp$46$$.offsetY), this.$h$.$dirty$ = !0, $JSCompiler_StaticMethods_sendCursorPos$$(this.$m$, this.$g$.$absX$, this.$g$.$absY$, $_a$jscomp$inline_413_timeStamp$jscomp$7$$)) : ($JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), 
    $JSCompiler_StaticMethods_JSC$2667_sendMouseDown$$(this, $evt$jscomp$46$$.button, $_a$jscomp$inline_413_timeStamp$jscomp$7$$));
  }
  $za$($evt$jscomp$47$$) {
    $module$contents$output$input$mousehandler_shouldIgnorePointerEvent$$($evt$jscomp$47$$) || ($evt$jscomp$47$$.preventDefault(), this.$ca$($evt$jscomp$47$$));
  }
  $ca$($evt$jscomp$48$$) {
    $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$());
    $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$(this, $evt$jscomp$48$$.button, $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$48$$.timeStamp));
  }
  $ta$($evt$jscomp$49$$) {
    $JSCompiler_StaticMethods_sendMouseWheel$$(this.$m$, $evt$jscomp$49$$.deltaY, $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$49$$.timeStamp));
    $evt$jscomp$49$$.preventDefault();
  }
  $ra$($evt$jscomp$50$$) {
    if (!$module$contents$output$input$mousehandler_shouldIgnorePointerEvent$$($evt$jscomp$50$$)) {
      $evt$jscomp$50$$.preventDefault();
      if (-1 !== $evt$jscomp$50$$.button) {
        let $maskShift$$;
        switch($evt$jscomp$50$$.button) {
          case 1:
            $maskShift$$ = 2;
            break;
          case 2:
            $maskShift$$ = 1;
            break;
          default:
            $maskShift$$ = $evt$jscomp$50$$.button;
        }
        const $timeStamp$jscomp$8$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$50$$.timeStamp);
        $evt$jscomp$50$$.buttons & 1 << $maskShift$$ ? $JSCompiler_StaticMethods_JSC$2667_sendMouseDown$$(this, $evt$jscomp$50$$.button, $timeStamp$jscomp$8$$) : $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$(this, $evt$jscomp$50$$.button, $timeStamp$jscomp$8$$);
      }
      this.$Z$($evt$jscomp$50$$);
    }
  }
  $Z$($evt$jscomp$51$$) {
    $JSCompiler_StaticMethods_setCursorPosFromOffset$$(this, $evt$jscomp$51$$.offsetX, $evt$jscomp$51$$.offsetY);
    $JSCompiler_StaticMethods_sendCursorPos$$(this.$m$, this.$g$.$absX$, this.$g$.$absY$, $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$51$$.timeStamp));
  }
  $xa$($evt$jscomp$53$$) {
    $JSCompiler_StaticMethods_handlePointerEvent$$(this, $evt$jscomp$53$$);
  }
  $ya$($evt$jscomp$54_msSinceSend$$) {
    const $alreadyScheduled$$ = 0 < this.$m$.$g$.$h$;
    $JSCompiler_StaticMethods_handlePointerEvent$$(this, $evt$jscomp$54_msSinceSend$$);
    !$alreadyScheduled$$ && 0 < this.$m$.$g$.$h$ && ($evt$jscomp$54_msSinceSend$$ = performance.now() - this.$m$.$O$, $evt$jscomp$54_msSinceSend$$ >= this.$D$ ? $JSCompiler_StaticMethods_sendInput$$(this.$m$) : $JSCompiler_StaticMethods_timeScheduledPackets$$(this.$m$, this.$D$ - $evt$jscomp$54_msSinceSend$$));
  }
  $qa$($fullscreen$$) {
    this.$allowPointerLock$ = $fullscreen$$;
    $JSCompiler_StaticMethods_updatePointerLock$$(this);
    $JSCompiler_StaticMethods_updateHardwareCursor$$(this);
  }
  $ua$() {
    document.pointerLockElement instanceof HTMLElement ? this.$o$ = document.pointerLockElement : (this.$o$ = null, $JSCompiler_StaticMethods_shouldPointerLock$$(this) && ($module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{d4b3de3}"), this.$allowPointerLock$ = !1, $JSCompiler_StaticMethods_updateHardwareCursor$$(this)));
  }
  $va$() {
    this.$ia$ || (this.$o$ = null, this.$u$ ? (this.$u$ = !1, $module$exports$rtcutils_core$output$logger$Log$$.e("{70cc40b}", "{7599808}"), $JSCompiler_StaticMethods_updatePointerLock$$(this)) : ($module$exports$rtcutils_core$output$logger$Log$$.e("{70cc40b}", "{d633cd1}"), $JSCompiler_StaticMethods_updateHardwareCursor$$(this)));
  }
  $isUserInputEnabled$() {
    return this.$A$;
  }
  $pa$($focus$$) {
    $focus$$ && (this.$v$.$j$ && (this.$allowPointerLock$ = !0, $JSCompiler_StaticMethods_updatePointerLock$$(this)), this.$l$ && $JSCompiler_StaticMethods_updateCursorCanvasState$$(this, this.$l$));
  }
};
function $module$contents$output$input$mousehandler_getRawUpdateOverride$$() {
  const $override$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.mouseCoalesceInterval;
  if (void 0 !== $override$$) {
    return (new Map([[0, 0], [4, 1], [8, 2], [16, 3]])).get($override$$);
  }
}
function $module$contents$output$input$mousehandler_shouldIgnorePointerEvent$$($evt$jscomp$55$$) {
  return $evt$jscomp$55$$.isPrimary && "touch" !== $evt$jscomp$55$$.pointerType && "pen" !== $evt$jscomp$55$$.pointerType ? !1 : !0;
}
;function $JSCompiler_StaticMethods_holdBegin$$($JSCompiler_StaticMethods_holdBegin$self$$, $target$jscomp$108$$, $timestamp$jscomp$4$$, $touch$jscomp$18$$) {
  1 === $JSCompiler_StaticMethods_holdBegin$self$$.$g$.$zoomFactor$ && ($JSCompiler_StaticMethods_touchMove$$($JSCompiler_StaticMethods_holdBegin$self$$, $target$jscomp$108$$, $touch$jscomp$18$$, $timestamp$jscomp$4$$), $JSCompiler_StaticMethods_holdBegin$self$$.$I$.delay(() => {
    $JSCompiler_StaticMethods_JSC$2667_sendMouseDown$$($JSCompiler_StaticMethods_holdBegin$self$$.$l$, 0, $timestamp$jscomp$4$$);
  }));
}
function $JSCompiler_StaticMethods_holdEnd$$($JSCompiler_StaticMethods_holdEnd$self$$, $timestamp$jscomp$5$$) {
  1 === $JSCompiler_StaticMethods_holdEnd$self$$.$g$.$zoomFactor$ && ($JSCompiler_StaticMethods_flushImmediately$$($JSCompiler_StaticMethods_holdEnd$self$$.$I$), $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$($JSCompiler_StaticMethods_holdEnd$self$$.$l$, 0, $timestamp$jscomp$5$$));
}
function $JSCompiler_StaticMethods_panZoomEnd$$($JSCompiler_StaticMethods_panZoomEnd$self$$) {
  var $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_427$$ = $JSCompiler_StaticMethods_panZoomEnd$self$$.$l$;
  $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_427$$.$P$ = !1;
  $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_427$$.$h$.$dirty$ = !0;
  1.1 > $JSCompiler_StaticMethods_panZoomEnd$self$$.$g$.$zoomFactor$ && $JSCompiler_StaticMethods_applyVideoTransforms$$($JSCompiler_StaticMethods_panZoomEnd$self$$, $JSCompiler_StaticMethods_panZoomEnd$self$$.$g$.offsetX, $JSCompiler_StaticMethods_panZoomEnd$self$$.$g$.offsetY, 1);
}
function $JSCompiler_StaticMethods_shouldPreventDefaultTouch$$($JSCompiler_StaticMethods_shouldPreventDefaultTouch$self$$) {
  return $JSCompiler_StaticMethods_shouldPreventDefaultTouch$self$$.$R$ ? ($JSCompiler_StaticMethods_clearIdleTimeout$$($JSCompiler_StaticMethods_shouldPreventDefaultTouch$self$$), !1) : $JSCompiler_StaticMethods_shouldPreventDefaultTouch$self$$.$C$.$h$;
}
function $JSCompiler_StaticMethods_drag$$($JSCompiler_StaticMethods_drag$self$$, $target$jscomp$110$$, $timestamp$jscomp$6$$, $touch$jscomp$19$$) {
  1 !== $JSCompiler_StaticMethods_drag$self$$.$g$.$zoomFactor$ || $JSCompiler_StaticMethods_drag$self$$.$isVirtualKeyboardVisible$ || void 0 !== $JSCompiler_StaticMethods_drag$self$$.$B$ ? $JSCompiler_StaticMethods_applyVideoTransforms$$($JSCompiler_StaticMethods_drag$self$$, $JSCompiler_StaticMethods_drag$self$$.$g$.offsetX + $touch$jscomp$19$$.deltaX, $JSCompiler_StaticMethods_drag$self$$.$g$.offsetY + $touch$jscomp$19$$.deltaY, $JSCompiler_StaticMethods_drag$self$$.$g$.$zoomFactor$) : $JSCompiler_StaticMethods_touchMove$$($JSCompiler_StaticMethods_drag$self$$, 
  $target$jscomp$110$$, $touch$jscomp$19$$, $timestamp$jscomp$6$$);
}
function $JSCompiler_StaticMethods_panZoom$$($JSCompiler_StaticMethods_panZoom$self$$, $secondTouch_touches$jscomp$8$$) {
  if (2 === $secondTouch_touches$jscomp$8$$.length) {
    var $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$ = $JSCompiler_StaticMethods_panZoom$self$$.$l$;
    $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.$P$ = !0;
    $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.$h$.$dirty$ = !0;
    $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$ = $secondTouch_touches$jscomp$8$$[0];
    $secondTouch_touches$jscomp$8$$ = $secondTouch_touches$jscomp$8$$[1];
    var $currentDistance_zoomFactor$jscomp$4$$ = Math.hypot($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientX - $secondTouch_touches$jscomp$8$$.clientX, $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientY - $secondTouch_touches$jscomp$8$$.clientY), $offsetX$jscomp$6_previousDistance$$ = Math.hypot($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientX - $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.deltaX - 
    ($secondTouch_touches$jscomp$8$$.clientX - $secondTouch_touches$jscomp$8$$.deltaX), $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientY - $JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.deltaY - ($secondTouch_touches$jscomp$8$$.clientY - $secondTouch_touches$jscomp$8$$.deltaY));
    const $bounding$jscomp$1$$ = $JSCompiler_StaticMethods_panZoom$self$$.$m$.getBoundingClientRect(), $translationLimits$jscomp$3$$ = $JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$$($JSCompiler_StaticMethods_panZoom$self$$);
    $currentDistance_zoomFactor$jscomp$4$$ = $currentDistance_zoomFactor$jscomp$4$$ / $offsetX$jscomp$6_previousDistance$$ * $JSCompiler_StaticMethods_panZoom$self$$.$g$.$zoomFactor$;
    $currentDistance_zoomFactor$jscomp$4$$ = Math.min(Math.max($currentDistance_zoomFactor$jscomp$4$$, 1), 3);
    $offsetX$jscomp$6_previousDistance$$ = ($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientX + $secondTouch_touches$jscomp$8$$.clientX) / 2 - $bounding$jscomp$1$$.left;
    $offsetX$jscomp$6_previousDistance$$ += $JSCompiler_StaticMethods_panZoom$self$$.$g$.offsetX - $translationLimits$jscomp$3$$.$horizontal$ - ($bounding$jscomp$1$$.width - $offsetX$jscomp$6_previousDistance$$) / $JSCompiler_StaticMethods_panZoom$self$$.$g$.$zoomFactor$;
    $offsetX$jscomp$6_previousDistance$$ = ($currentDistance_zoomFactor$jscomp$4$$ / $JSCompiler_StaticMethods_panZoom$self$$.$g$.$zoomFactor$ - 1) * $offsetX$jscomp$6_previousDistance$$ * -1;
    $offsetX$jscomp$6_previousDistance$$ += $JSCompiler_StaticMethods_panZoom$self$$.$g$.offsetX + ($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.deltaX + $secondTouch_touches$jscomp$8$$.deltaX) / 2;
    let $offsetY$jscomp$6$$ = ($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.clientY + $secondTouch_touches$jscomp$8$$.clientY) / 2 - $bounding$jscomp$1$$.top;
    $offsetY$jscomp$6$$ += $JSCompiler_StaticMethods_panZoom$self$$.$g$.offsetY - $translationLimits$jscomp$3$$.vertical - ($bounding$jscomp$1$$.height - $offsetY$jscomp$6$$) / $JSCompiler_StaticMethods_panZoom$self$$.$g$.$zoomFactor$;
    $offsetY$jscomp$6$$ = ($currentDistance_zoomFactor$jscomp$4$$ / $JSCompiler_StaticMethods_panZoom$self$$.$g$.$zoomFactor$ - 1) * $offsetY$jscomp$6$$ * -1;
    $offsetY$jscomp$6$$ += $JSCompiler_StaticMethods_panZoom$self$$.$g$.offsetY + ($JSCompiler_StaticMethods_setZoomInProgress$self$jscomp$inline_430_firstTouch$$.deltaY + $secondTouch_touches$jscomp$8$$.deltaY) / 2;
    $JSCompiler_StaticMethods_applyVideoTransforms$$($JSCompiler_StaticMethods_panZoom$self$$, $offsetX$jscomp$6_previousDistance$$, $offsetY$jscomp$6$$, $currentDistance_zoomFactor$jscomp$4$$);
  }
}
function $JSCompiler_StaticMethods_tap$$($JSCompiler_StaticMethods_tap$self$$, $target$jscomp$107$$, $timestamp$jscomp$2$$, $lastTouch$$, $touchCount$$) {
  $JSCompiler_StaticMethods_flushImmediately$$($JSCompiler_StaticMethods_tap$self$$.$I$);
  switch($touchCount$$) {
    case 1:
      $JSCompiler_StaticMethods_touchMove$$($JSCompiler_StaticMethods_tap$self$$, $target$jscomp$107$$, $lastTouch$$, $timestamp$jscomp$2$$);
      $JSCompiler_StaticMethods_tap$self$$.$I$.delay(() => {
        $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_tap$self$$, 0, $timestamp$jscomp$2$$);
      });
      break;
    case 2:
      $JSCompiler_StaticMethods_tap$self$$.$Z$++;
      0 === $JSCompiler_StaticMethods_tap$self$$.$G$ && ($JSCompiler_StaticMethods_tap$self$$.$G$ = window.setTimeout(() => {
        2 === $JSCompiler_StaticMethods_tap$self$$.$Z$ ? $JSCompiler_StaticMethods_tap$self$$.$s$.toggleOnScreenStats() : 3 === $JSCompiler_StaticMethods_tap$self$$.$Z$ && $JSCompiler_StaticMethods_tap$self$$.$s$.toggleOnScreenStats($module$exports$output$util$settings$RagnarokSettings$$.isInternalUser);
        $JSCompiler_StaticMethods_clearStatsGestureTimer$$($JSCompiler_StaticMethods_tap$self$$);
      }, 300));
      $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_tap$self$$, 2, $timestamp$jscomp$2$$);
      break;
    case 3:
      $JSCompiler_StaticMethods_tap$self$$.$ga$++;
      $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && 0 === $JSCompiler_StaticMethods_tap$self$$.$G$ && ($JSCompiler_StaticMethods_tap$self$$.$G$ = window.setTimeout(() => {
        2 === $JSCompiler_StaticMethods_tap$self$$.$ga$ && $JSCompiler_StaticMethods_toggleDisplaySafeZone$$($JSCompiler_StaticMethods_tap$self$$.$N$);
        $JSCompiler_StaticMethods_clearStatsGestureTimer$$($JSCompiler_StaticMethods_tap$self$$);
      }, 300));
      $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_tap$self$$, 1, $timestamp$jscomp$2$$);
      break;
    case 4:
      $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_tap$self$$, 3, $timestamp$jscomp$2$$);
      break;
    case 5:
      $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_tap$self$$, 4, $timestamp$jscomp$2$$);
  }
}
function $JSCompiler_StaticMethods_perfCallback$$($JSCompiler_StaticMethods_perfCallback$self$$, $list$jscomp$1$$) {
  $list$jscomp$1$$.getEntriesByType("longtask").forEach($entry_workerMessage$jscomp$inline_436$$ => {
    let $duration$jscomp$2$$ = Math.round($entry_workerMessage$jscomp$inline_436$$.duration);
    var $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
    $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$h$ && ($entry_workerMessage$jscomp$inline_436$$ = {duration:{timestamp:$entry_workerMessage$jscomp$inline_436$$.startTime - $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$j$, duration:$duration$jscomp$2$$}}, $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$g$ && 
    $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$g$.postMessage($entry_workerMessage$jscomp$inline_436$$));
    var $_a$jscomp$inline_440$$;
    null === ($_a$jscomp$inline_440$$ = $JSCompiler_StaticMethods_perfCallback$self$$.$s$.$h$) || void 0 === $_a$jscomp$inline_440$$ ? void 0 : ($JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$ = $_a$jscomp$inline_440$$.$g$, $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$B$ = Math.max($duration$jscomp$2$$, 
    $JSCompiler_StaticMethods_addMainThreadBlockDuration$self$jscomp$inline_435_JSCompiler_StaticMethods_updateMainThreadBlockDuration$self$jscomp$inline_1385$$.$B$));
    $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{7071359}", $duration$jscomp$2$$);
  });
}
function $JSCompiler_StaticMethods_setUserIdleTimeoutPending$$($JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$, $value$jscomp$121$$) {
  ($JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$R$ = $value$jscomp$121$$) && 15 !== $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$v$ && ($JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$ca$ = $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$v$, $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.toggleUserInput(!0));
  $value$jscomp$121$$ ? $JSCompiler_StaticMethods_getIdleEvents$$($JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$).forEach($event$jscomp$18$$ => $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.documentAddEventListener($event$jscomp$18$$, $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$ma$)) : $JSCompiler_StaticMethods_getIdleEvents$$($JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$).forEach($event$jscomp$19$$ => $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.documentRemoveEventListener($event$jscomp$19$$, 
  $JSCompiler_StaticMethods_setUserIdleTimeoutPending$self$$.$ma$));
}
function $JSCompiler_StaticMethods_clearSafeZoneTimeout$$($JSCompiler_StaticMethods_clearSafeZoneTimeout$self$$) {
  0 !== $JSCompiler_StaticMethods_clearSafeZoneTimeout$self$$.$V$ && (window.clearTimeout($JSCompiler_StaticMethods_clearSafeZoneTimeout$self$$.$V$), $JSCompiler_StaticMethods_clearSafeZoneTimeout$self$$.$V$ = 0);
}
function $JSCompiler_StaticMethods_updateLockKeysState$$($JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$, $evt$jscomp$56_packet$jscomp$inline_444$$) {
  if (!$JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$aa$ || 20 !== $evt$jscomp$56_packet$jscomp$inline_444$$.keyCode) {
    if (!$module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$platformDetails$) || 20 === $evt$jscomp$56_packet$jscomp$inline_444$$.keyCode) {
      var $state$jscomp$1_state$jscomp$inline_443$$ = 16;
      $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$da$ && $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$W$ || !$evt$jscomp$56_packet$jscomp$inline_444$$.getModifierState("CapsLock") || ($state$jscomp$1_state$jscomp$inline_443$$ |= 1);
      $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$va$ && ($state$jscomp$1_state$jscomp$inline_443$$ |= 96, $evt$jscomp$56_packet$jscomp$inline_444$$.getModifierState("NumLock") && ($state$jscomp$1_state$jscomp$inline_443$$ |= 2), $evt$jscomp$56_packet$jscomp$inline_444$$.getModifierState("ScrollLock") && ($state$jscomp$1_state$jscomp$inline_443$$ |= 4));
      if ($state$jscomp$1_state$jscomp$inline_443$$ != $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$S$) {
        $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$S$ = $state$jscomp$1_state$jscomp$inline_443$$;
        $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$ = $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$j$;
        $evt$jscomp$56_packet$jscomp$inline_444$$ = $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$l$(5);
        $evt$jscomp$56_packet$jscomp$inline_444$$.setUint32(0, 19, !0);
        $evt$jscomp$56_packet$jscomp$inline_444$$.setUint8(4, $state$jscomp$1_state$jscomp$inline_443$$);
        try {
          $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$, $evt$jscomp$56_packet$jscomp$inline_444$$), $module$exports$rtcutils_core$output$logger$Log$$.d("{57a6a4d}", "{56c9613}", $state$jscomp$1_state$jscomp$inline_443$$.toString(2));
        } catch ($exp$jscomp$inline_445$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{cbe483c}", $exp$jscomp$inline_445$$), $JSCompiler_StaticMethods_sendLockKeyState$self$jscomp$inline_442_JSCompiler_StaticMethods_updateLockKeysState$self$$.$v$.$g$($exp$jscomp$inline_445$$, "LockKeys state synchronize exception", "{57a6a4d}.ts", 0, 0, !0);
        }
      }
    }
  }
}
function $JSCompiler_StaticMethods_applyVideoTransforms$$($JSCompiler_StaticMethods_applyVideoTransforms$self$$, $offsetX$jscomp$4$$, $offsetY$jscomp$4$$, $zoomFactor$jscomp$2$$) {
  $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$zoomFactor$ = $zoomFactor$jscomp$2$$;
  let $translationLimits$jscomp$2$$ = $JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$$($JSCompiler_StaticMethods_applyVideoTransforms$self$$);
  $translationLimits$jscomp$2$$.$horizontal$ -= $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$leftPadding$;
  $translationLimits$jscomp$2$$.vertical -= $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$topPadding$;
  let $upwardLimit$$ = Math.max($translationLimits$jscomp$2$$.vertical + Math.max(0, $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$displayVideoHeight$ - $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$viewportHeight$ + 2 * $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.$topPadding$), 0), $downwardLimit$$ = Math.max($translationLimits$jscomp$2$$.vertical, 0);
  $translationLimits$jscomp$2$$.$horizontal$ = Math.max($translationLimits$jscomp$2$$.$horizontal$, 0);
  $offsetX$jscomp$4$$ = Math.min(Math.max($offsetX$jscomp$4$$, -1 * $translationLimits$jscomp$2$$.$horizontal$), $translationLimits$jscomp$2$$.$horizontal$);
  $offsetY$jscomp$4$$ = Math.min(Math.max($offsetY$jscomp$4$$, -1 * $upwardLimit$$), $downwardLimit$$);
  $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$m$.style.transform = `translate3d(${$offsetX$jscomp$4$$}px,${$offsetY$jscomp$4$$}px,0px) scale3d(${$zoomFactor$jscomp$2$$},${$zoomFactor$jscomp$2$$},1)`;
  $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.offsetX = $offsetX$jscomp$4$$;
  $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$.offsetY = $offsetY$jscomp$4$$;
  $JSCompiler_StaticMethods_JSC$2667_updateVideoState$$($JSCompiler_StaticMethods_applyVideoTransforms$self$$.$l$, $JSCompiler_StaticMethods_applyVideoTransforms$self$$.$g$);
}
function $JSCompiler_StaticMethods_getVirtualKeycode$$($JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$, $evt$jscomp$59_vkCode$jscomp$1$$) {
  var $_a$jscomp$57$$;
  if ($JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$.$L$) {
    if ($JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$.$A$ && $JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$.$isVirtualKeyboardVisible$) {
      return $JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$ = (null === ($_a$jscomp$57$$ = $evt$jscomp$59_vkCode$jscomp$1$$.code) || void 0 === $_a$jscomp$57$$ ? 0 : $_a$jscomp$57$$.length) ? $module$exports$output$input$keycodes$CODE_TO_VK_MAP$$.get($evt$jscomp$59_vkCode$jscomp$1$$.code) : $module$exports$output$input$keycodes$CODE_TO_VK_MAP$$.get($evt$jscomp$59_vkCode$jscomp$1$$.key), null !== $JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$ && void 0 !== $JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$ ? 
      $JSCompiler_StaticMethods_getVirtualKeycode$self_vkCode$$ : 0;
    }
    $evt$jscomp$59_vkCode$jscomp$1$$ = $evt$jscomp$59_vkCode$jscomp$1$$.code ? $module$exports$output$input$keycodes$CODE_TO_VK_MAP$$.get($evt$jscomp$59_vkCode$jscomp$1$$.code) : $module$exports$output$input$keycodes$KEY_TO_VK_MAP$$.get($evt$jscomp$59_vkCode$jscomp$1$$.key);
    return null !== $evt$jscomp$59_vkCode$jscomp$1$$ && void 0 !== $evt$jscomp$59_vkCode$jscomp$1$$ ? $evt$jscomp$59_vkCode$jscomp$1$$ : 0;
  }
  return $evt$jscomp$59_vkCode$jscomp$1$$.keyCode;
}
function $JSCompiler_StaticMethods_shouldPreventDefaultKb$$($JSCompiler_StaticMethods_shouldPreventDefaultKb$self$$, $evt$jscomp$67$$) {
  var $_a$jscomp$61$$;
  if (null === ($_a$jscomp$61$$ = $JSCompiler_StaticMethods_JSC$2930_getLdatHandler$$($JSCompiler_StaticMethods_shouldPreventDefaultKb$self$$.$s$)) || void 0 === $_a$jscomp$61$$ ? 0 : $_a$jscomp$61$$.isVisible()) {
    return !1;
  }
  if ($JSCompiler_StaticMethods_shouldPreventDefaultKb$self$$.$aa$) {
    switch($evt$jscomp$67$$.code) {
      case "Tab":
        return $evt$jscomp$67$$.altKey ? !1 : !0;
      case "ZoomToggle":
      case "SelectTask":
      case "BrightnessDown":
      case "BrightnessUp":
      case "AudioVolumeMute":
      case "AudioVolumeDown":
      case "AudioVolumeUp":
        return !1;
    }
  }
  return !0;
}
function $JSCompiler_StaticMethods_getModifierFlags$$($JSCompiler_StaticMethods_getModifierFlags$self$$, $evt$jscomp$66$$) {
  var $JSCompiler_temp_const$jscomp$56_flags$jscomp$6$$ = 0;
  $evt$jscomp$66$$.ctrlKey && !$evt$jscomp$66$$.code.startsWith("Control") && ($JSCompiler_temp_const$jscomp$56_flags$jscomp$6$$ |= 2);
  $evt$jscomp$66$$.altKey && !$evt$jscomp$66$$.code.startsWith("Alt") && ($JSCompiler_temp_const$jscomp$56_flags$jscomp$6$$ |= 4);
  $evt$jscomp$66$$.metaKey && !$evt$jscomp$66$$.code.startsWith("Meta") && ($JSCompiler_temp_const$jscomp$56_flags$jscomp$6$$ |= 8);
  let $flag$jscomp$inline_451$$ = void 0;
  $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_getModifierFlags$self$$.$platformDetails$) && 1 === $evt$jscomp$66$$.key.length && ('!@#$%^&*()~_+{}|:"<>?'.includes($evt$jscomp$66$$.key) ? $flag$jscomp$inline_451$$ = 1 : "1234567890`-=[]\\;',./".includes($evt$jscomp$66$$.key) && ($flag$jscomp$inline_451$$ = 0));
  void 0 === $flag$jscomp$inline_451$$ && $evt$jscomp$66$$.shiftKey && !$evt$jscomp$66$$.code.startsWith("Shift") && ($flag$jscomp$inline_451$$ = 1);
  return $JSCompiler_temp_const$jscomp$56_flags$jscomp$6$$ | (null !== $flag$jscomp$inline_451$$ && void 0 !== $flag$jscomp$inline_451$$ ? $flag$jscomp$inline_451$$ : 0);
}
function $JSCompiler_StaticMethods_sendSafeZone$$($JSCompiler_StaticMethods_sendSafeZone$self$$) {
  $JSCompiler_StaticMethods_clearSafeZoneTimeout$$($JSCompiler_StaticMethods_sendSafeZone$self$$);
  $JSCompiler_StaticMethods_sendSafeZone$self$$.$V$ = window.setTimeout(() => {
    $JSCompiler_StaticMethods_sendSafeZone$self$$.$N$.send();
  }, 350);
}
function $JSCompiler_StaticMethods_releasePressedKeys$$($JSCompiler_StaticMethods_releasePressedKeys$self$$) {
  if (0 < $JSCompiler_StaticMethods_releasePressedKeys$self$$.$u$.size) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{7998ee8}", $JSCompiler_StaticMethods_releasePressedKeys$self$$.$u$.size);
    for (const $keyCode$jscomp$1$$ of $JSCompiler_StaticMethods_releasePressedKeys$self$$.$u$) {
      $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_releasePressedKeys$self$$.$j$, 4, $keyCode$jscomp$1$$, 0);
    }
    $JSCompiler_StaticMethods_releasePressedKeys$self$$.$u$.clear();
  }
}
function $JSCompiler_StaticMethods_clearStatsGestureTimer$$($JSCompiler_StaticMethods_clearStatsGestureTimer$self$$) {
  window.clearTimeout($JSCompiler_StaticMethods_clearStatsGestureTimer$self$$.$G$);
  $JSCompiler_StaticMethods_clearStatsGestureTimer$self$$.$G$ = 0;
  $JSCompiler_StaticMethods_clearStatsGestureTimer$self$$.$Z$ = 0;
  $JSCompiler_StaticMethods_clearStatsGestureTimer$self$$.$ga$ = 0;
}
function $JSCompiler_StaticMethods_clearIdleTimeout$$($JSCompiler_StaticMethods_clearIdleTimeout$self$$) {
  $JSCompiler_StaticMethods_setUserIdleTimeoutPending$$($JSCompiler_StaticMethods_clearIdleTimeout$self$$, !1);
  $JSCompiler_StaticMethods_clearIdleTimeout$self$$.$$$.emit("StreamingEvent", {streamingWarnings:{code:4}});
  void 0 !== $JSCompiler_StaticMethods_clearIdleTimeout$self$$.$ca$ && ($JSCompiler_StaticMethods_clearIdleTimeout$self$$.toggleUserInput(!1, ~$JSCompiler_StaticMethods_clearIdleTimeout$self$$.$ca$ & 15), $JSCompiler_StaticMethods_clearIdleTimeout$self$$.$ca$ = void 0);
  var $JSCompiler_StaticMethods_JSC$2609_sendHeartbeatEvent$self$jscomp$inline_1227$$ = $JSCompiler_StaticMethods_clearIdleTimeout$self$$.$j$;
  const $packet$jscomp$inline_1228$$ = $JSCompiler_StaticMethods_JSC$2609_sendHeartbeatEvent$self$jscomp$inline_1227$$.$l$(10);
  $packet$jscomp$inline_1228$$.setUint32(0, 2, !0);
  try {
    $JSCompiler_StaticMethods_JSC$2609_sendHeartbeatEvent$self$jscomp$inline_1227$$.$A$.send($packet$jscomp$inline_1228$$), $module$exports$rtcutils_core$output$logger$Log$$.d("{57a6a4d}", "{5693344}");
  } catch ($exp$jscomp$inline_1229$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{57a6a4d}", "{ab52f04}", $exp$jscomp$inline_1229$$), $JSCompiler_StaticMethods_JSC$2609_sendHeartbeatEvent$self$jscomp$inline_1227$$.$v$.$g$($exp$jscomp$inline_1229$$, "heartbeat exception", "{57a6a4d}.ts", 0, 0, !0);
  }
  $JSCompiler_StaticMethods_clearSystemIdleTimeout$$($JSCompiler_StaticMethods_clearIdleTimeout$self$$.$ya$);
}
function $JSCompiler_StaticMethods_getIdleEvents$$($JSCompiler_StaticMethods_getIdleEvents$self$$) {
  return [$JSCompiler_StaticMethods_getMoveEventName$$($JSCompiler_StaticMethods_getIdleEvents$self$$.$l$), "pointerdown", "touchstart"];
}
function $JSCompiler_StaticMethods_sendAndClearText$$($JSCompiler_StaticMethods_sendAndClearText$self$$, $text$jscomp$16_unicodeText$$) {
  $text$jscomp$16_unicodeText$$ = (new TextEncoder()).encode($text$jscomp$16_unicodeText$$);
  $JSCompiler_StaticMethods_sendAndClearText$self$$.sendTextInput($text$jscomp$16_unicodeText$$.buffer);
  $JSCompiler_StaticMethods_sendAndClearText$self$$.textInputElement.value = "";
}
function $JSCompiler_StaticMethods_hasVirtualKeyCodeMapping$$($text$jscomp$17$$) {
  for (let $i$jscomp$25$$ = $text$jscomp$17$$.length - 1; 0 <= $i$jscomp$25$$; $i$jscomp$25$$--) {
    if (void 0 === $module$exports$output$input$keycodes$CHAR_TO_VK_MAP$$.get($text$jscomp$17$$.charAt($i$jscomp$25$$))) {
      return !1;
    }
  }
  return !0;
}
function $JSCompiler_StaticMethods_sendCharCodesAndClearText$$($JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$, $text$jscomp$18$$) {
  let $isCapsLockOn$$ = !1;
  $JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$S$ & 16 && ($isCapsLockOn$$ = 0 != (1 & $JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$S$));
  for (let $i$jscomp$26$$ = 0; $i$jscomp$26$$ < $text$jscomp$18$$.length; $i$jscomp$26$$++) {
    var $flags$jscomp$7_vkmap$$ = $module$exports$output$input$keycodes$CHAR_TO_VK_MAP$$.get($text$jscomp$18$$.charAt($i$jscomp$26$$));
    if (!$flags$jscomp$7_vkmap$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{8bacfa5}", "{67554be}", $text$jscomp$18$$.charAt($i$jscomp$26$$));
      return;
    }
    const $keycode$jscomp$2$$ = $flags$jscomp$7_vkmap$$.vkCode;
    $flags$jscomp$7_vkmap$$ = $flags$jscomp$7_vkmap$$.shift ? 1 : 0;
    65 <= $keycode$jscomp$2$$ && 90 >= $keycode$jscomp$2$$ && $isCapsLockOn$$ && ($flags$jscomp$7_vkmap$$ = ~$flags$jscomp$7_vkmap$$);
    $flags$jscomp$7_vkmap$$ && $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$j$, 3, 160, 0, performance.now());
    $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$j$, 3, $keycode$jscomp$2$$, $flags$jscomp$7_vkmap$$, performance.now());
    $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$j$, 4, $keycode$jscomp$2$$, $flags$jscomp$7_vkmap$$, performance.now());
    $flags$jscomp$7_vkmap$$ && $JSCompiler_StaticMethods_sendKeyboardEvent$$($JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.$j$, 4, 160, 0, performance.now());
  }
  $JSCompiler_StaticMethods_sendCharCodesAndClearText$self$$.textInputElement.value = "";
}
function $JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$$($JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$self$$) {
  return {$horizontal$:$JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$self$$.$g$.$displayVideoWidth$ * ($JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$self$$.$g$.$zoomFactor$ - 1) / 2, vertical:$JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$self$$.$g$.$displayVideoHeight$ * ($JSCompiler_StaticMethods_JSC$2709_getTranslationLimits$self$$.$g$.$zoomFactor$ - 1) / 2};
}
function $JSCompiler_StaticMethods_touchMove$$($JSCompiler_StaticMethods_touchMove$self$$, $target$jscomp$106_targetRect$$, $touch$jscomp$17$$, $timestamp$jscomp$1$$) {
  $JSCompiler_StaticMethods_flushImmediately$$($JSCompiler_StaticMethods_touchMove$self$$.$I$);
  $target$jscomp$106_targetRect$$ = $target$jscomp$106_targetRect$$.getBoundingClientRect();
  $JSCompiler_StaticMethods_setCursorPosFromOffset$$($JSCompiler_StaticMethods_touchMove$self$$.$l$, ($touch$jscomp$17$$.clientX - $target$jscomp$106_targetRect$$.left) / $JSCompiler_StaticMethods_touchMove$self$$.$g$.$zoomFactor$, ($touch$jscomp$17$$.clientY - $target$jscomp$106_targetRect$$.top) / $JSCompiler_StaticMethods_touchMove$self$$.$g$.$zoomFactor$);
  const {$absX$:$absX$$, $absY$:$absY$$} = $JSCompiler_StaticMethods_touchMove$self$$.$l$.$g$;
  $JSCompiler_StaticMethods_sendCursorPos$$($JSCompiler_StaticMethods_touchMove$self$$.$j$, $absX$$, $absY$$, $timestamp$jscomp$1$$);
}
function $JSCompiler_StaticMethods_emulateMouseClick$$($JSCompiler_StaticMethods_emulateMouseClick$self$$, $button$jscomp$5$$, $timestamp$jscomp$3$$) {
  $JSCompiler_StaticMethods_JSC$2667_sendMouseDown$$($JSCompiler_StaticMethods_emulateMouseClick$self$$.$l$, $button$jscomp$5$$, $timestamp$jscomp$3$$);
  $JSCompiler_StaticMethods_emulateMouseClick$self$$.$I$.delay(() => {
    $JSCompiler_StaticMethods_JSC$2667_sendMouseUp$$($JSCompiler_StaticMethods_emulateMouseClick$self$$.$l$, $button$jscomp$5$$, $timestamp$jscomp$3$$);
  });
}
var $module$exports$output$input$inputhandler$InputHandler$$ = class {
  constructor($streamClient$jscomp$2_viewport$$, $videoElement$jscomp$3$$, $inputChannel$jscomp$1$$, $cursorChannel$jscomp$1$$, $telemetry$jscomp$5_zoneless$jscomp$1$$, $eventEmitter$$, $configFlags$jscomp$1$$, $sendRawTouchinput$$, $gamepadTester_moveEventBuffer$jscomp$2$$, $gamepadHandler$$, $platformDetails$jscomp$33$$, $callbacks$jscomp$1$$, $safeZoneHandler$$, $windowObserver$jscomp$1$$, $textInputElement$$) {
    var $_a$jscomp$54$$, $_b$jscomp$25$$, $_c$jscomp$13$$, $_d$jscomp$12$$, $_e$jscomp$9$$, $_f$jscomp$8$$, $_g$jscomp$6$$, $_h$jscomp$6$$, $_j$jscomp$6$$, $_k$jscomp$6$$, $_l$jscomp$6$$, $_m$jscomp$5$$, $_o$jscomp$5$$, $_p$jscomp$5$$, $_q$jscomp$4$$, $_r$jscomp$3$$, $_s$jscomp$3$$, $_t$jscomp$3$$, $_u$jscomp$1$$, $_v$jscomp$1$$, $_w$jscomp$1$$, $_x$jscomp$1$$;
    this.$C$ = $windowObserver$jscomp$1$$;
    this.$u$ = new Set();
    this.$v$ = 0;
    this.$isVirtualKeyboardVisible$ = !1;
    this.$L$ = !0;
    this.$G$ = 0;
    this.$I$ = new $module$contents$output$input$inputhandler_TouchDelay$$();
    this.$gamepadTesterEnabled$ = !1;
    this.$H$ = 0;
    this.$W$ = this.$fa$ = !1;
    this.$V$ = this.$ga$ = this.$Z$ = 0;
    this.$ja$ = this.$ia$ = "off";
    this.$platformDetails$ = $platformDetails$jscomp$33$$;
    this.$s$ = $streamClient$jscomp$2_viewport$$;
    this.$m$ = $videoElement$jscomp$3$$;
    this.$ba$ = $telemetry$jscomp$5_zoneless$jscomp$1$$;
    this.$ya$ = $callbacks$jscomp$1$$;
    this.$N$ = $safeZoneHandler$$;
    this.$g$ = {$displayVideoWidth$:$videoElement$jscomp$3$$.clientWidth || window.screen.width, $displayVideoHeight$:$videoElement$jscomp$3$$.clientHeight || window.screen.height, $scalingFactor$:1, $leftPadding$:0, $topPadding$:0, videoWidth:0, videoHeight:0, $viewportHeight$:0, offsetX:0, offsetY:0, $zoomFactor$:1};
    $telemetry$jscomp$5_zoneless$jscomp$1$$ = window.zoneless;
    this.windowAddEventListener = null !== ($_b$jscomp$25$$ = null === ($_a$jscomp$54$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.windowAddEventListener) || void 0 === $_a$jscomp$54$$ ? void 0 : $_a$jscomp$54$$.bind(window)) && void 0 !== $_b$jscomp$25$$ ? $_b$jscomp$25$$ : window.addEventListener.bind(window);
    this.windowRemoveEventListener = null !== ($_d$jscomp$12$$ = null === ($_c$jscomp$13$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.windowRemoveEventListener) || void 0 === $_c$jscomp$13$$ ? void 0 : $_c$jscomp$13$$.bind(window)) && void 0 !== $_d$jscomp$12$$ ? $_d$jscomp$12$$ : window.removeEventListener.bind(window);
    this.documentAddEventListener = null !== ($_f$jscomp$8$$ = null === ($_e$jscomp$9$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.documentAddEventListener) || void 0 === $_e$jscomp$9$$ ? void 0 : $_e$jscomp$9$$.bind(document)) && void 0 !== $_f$jscomp$8$$ ? $_f$jscomp$8$$ : document.addEventListener.bind(document);
    this.documentRemoveEventListener = null !== ($_h$jscomp$6$$ = null === ($_g$jscomp$6$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.documentRemoveEventListener) || void 0 === $_g$jscomp$6$$ ? void 0 : $_g$jscomp$6$$.bind(document)) && void 0 !== $_h$jscomp$6$$ ? $_h$jscomp$6$$ : document.removeEventListener.bind(document);
    this.videoAddEventListener = null !== ($_m$jscomp$5$$ = null !== ($_k$jscomp$6$$ = null === ($_j$jscomp$6$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.videoAddEventListener) || void 0 === $_j$jscomp$6$$ ? void 0 : $_j$jscomp$6$$.bind($videoElement$jscomp$3$$)) && void 0 !== $_k$jscomp$6$$ ? $_k$jscomp$6$$ : null === ($_l$jscomp$6$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || 
    void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.documentAddEventListener) || void 0 === $_l$jscomp$6$$ ? void 0 : $_l$jscomp$6$$.bind(document)) && void 0 !== $_m$jscomp$5$$ ? $_m$jscomp$5$$ : $videoElement$jscomp$3$$.addEventListener.bind($videoElement$jscomp$3$$);
    this.videoRemoveEventListener = null !== ($_r$jscomp$3$$ = null !== ($_p$jscomp$5$$ = null === ($_o$jscomp$5$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.videoRemoveEventListener) || void 0 === $_o$jscomp$5$$ ? void 0 : $_o$jscomp$5$$.bind($videoElement$jscomp$3$$)) && void 0 !== $_p$jscomp$5$$ ? $_p$jscomp$5$$ : null === ($_q$jscomp$4$$ = null === $telemetry$jscomp$5_zoneless$jscomp$1$$ || 
    void 0 === $telemetry$jscomp$5_zoneless$jscomp$1$$ ? void 0 : $telemetry$jscomp$5_zoneless$jscomp$1$$.documentRemoveEventListener) || void 0 === $_q$jscomp$4$$ ? void 0 : $_q$jscomp$4$$.bind(document)) && void 0 !== $_r$jscomp$3$$ ? $_r$jscomp$3$$ : $videoElement$jscomp$3$$.removeEventListener.bind($videoElement$jscomp$3$$);
    this.$pa$ = this.$oa$.bind(this);
    this.$ra$ = this.$qa$.bind(this);
    this.$ka$ = this.$la$.bind(this);
    this.$ta$ = this.$Aa$.bind(this);
    this.$ha$ = this.$za$.bind(this);
    this.$U$ = this.$T$.bind(this);
    this.$xa$ = this.$Fa$.bind(this);
    this.$sa$ = this.$Ca$.bind(this);
    this.$ma$ = this.$Ba$.bind(this);
    this.$wa$ = this.$Ea$.bind(this);
    this.$J$ = this.$Da$.bind(this);
    this.$ea$ = !1;
    this.$K$ = $gamepadTester_moveEventBuffer$jscomp$2$$;
    this.preventNavigation = !!$configFlags$jscomp$1$$.preventNavigation;
    this.$h$ = {$baseTime$:0, $baseTotalVideoFrames$:0, $animationFrameCount$:0, $sendInputCount$:0, $sendInputOver5ms$:0, $sendInputOver10ms$:0, $singleDroppedFrames$:0, $multiDroppedFrames$:0, $aggregatedCount$:0, $oversizedEventCount$:0};
    $gamepadTester_moveEventBuffer$jscomp$2$$ = new $module$exports$output$input$inputpackethandler$MoveEventBuffer$$();
    this.$j$ = new $module$exports$output$input$inputpackethandler$InputPacketHandler$$(this, $gamepadTester_moveEventBuffer$jscomp$2$$, this.$h$, this.$g$, this.$s$, $inputChannel$jscomp$1$$, this.$ba$);
    this.$M$ = new $module$exports$output$input$gamepadrsdmm$GamepadRSDMM$$(this.$m$, this.$platformDetails$);
    this.$l$ = new $module$exports$output$input$mousehandler$MouseHandler$$($streamClient$jscomp$2_viewport$$, $videoElement$jscomp$3$$, $cursorChannel$jscomp$1$$, $configFlags$jscomp$1$$, $platformDetails$jscomp$33$$, this.$M$, this.$h$, $gamepadTester_moveEventBuffer$jscomp$2$$, this.$j$, this.$C$);
    $sendRawTouchinput$$ ? $module$exports$output$util$settings$RagnarokSettings$$.$forceTouchCapable$ || $module$contents$rtcutils_core$output$utils_IsTouchCapable$$() ? (this.$B$ = new $module$exports$output$input$touchlistener$TouchListener$$(this.$m$, this.videoAddEventListener, this.videoRemoveEventListener, this.$j$, this), $JSCompiler_StaticMethods_setShowCursor$$(this.$l$), $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{60f3637}")) : $module$exports$rtcutils_core$output$logger$Log$$.w("{8bacfa5}", 
    "{32104d3}") : $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{6be89bf}");
    !$module$exports$output$util$settings$RagnarokSettings$$.$forceTouchCapable$ && !$module$contents$rtcutils_core$output$utils_IsTouchCapable$$() || $module$contents$rtcutils_core$output$utils_IsTV$$(this.$platformDetails$) || (this.$D$ = new $module$exports$output$input$gesturedetector$GestureDetector$$(this.$m$, this.videoAddEventListener, this.videoRemoveEventListener, this));
    this.$$$ = $eventEmitter$$;
    this.$S$ = 0;
    this.$va$ = $module$contents$rtcutils_core$output$utils_IsWindowsOS$$(this.$platformDetails$);
    this.$aa$ = $module$contents$rtcutils_core$output$utils_IsChromeOS$$(this.$platformDetails$);
    this.$da$ = $module$contents$rtcutils_core$output$utils_IsMacOS$$(this.$platformDetails$);
    this.$A$ = "Android" === this.$platformDetails$.os;
    this.$va$ ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{da5ae1d}"), this.$P$ = [20, 144, 145]) : this.$aa$ || "Linux" === this.$platformDetails$.os ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{b7becf9}"), this.$P$ = []) : ($module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{098ce9c}"), this.$P$ = [20]);
    this.$O$ = this.$R$ = !1;
    this.$F$ = {$rafTime$:0, droppedVideoFrames:0, totalVideoFrames:0};
    PerformanceObserver ? this.perf = new PerformanceObserver($list$$ => $JSCompiler_StaticMethods_perfCallback$$(this, $list$$)) : this.perf = null;
    $JSCompiler_StaticMethods_addStateListener$$(this.$C$, 2, this.$ka$);
    $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{cc9c05b}");
    window.ResizeObserver ? (this.$ua$ = new ResizeObserver(() => {
      this.$T$();
    }), this.$ua$.observe(this.$m$)) : this.windowAddEventListener("resize", this.$U$);
    ($module$contents$rtcutils_core$output$utils_IsiDevice$$($platformDetails$jscomp$33$$) || "Tizen" === $platformDetails$jscomp$33$$.os) && window.IntersectionObserver && (this.$na$ = new IntersectionObserver(() => {
      this.$T$();
    }, {threshold:[1.0]}), this.$na$.observe(this.$m$));
    this.$m$.addEventListener("resize", this.$U$);
    if ($streamClient$jscomp$2_viewport$$ = window.visualViewport) {
      this.$g$.$viewportHeight$ = $streamClient$jscomp$2_viewport$$.height, $streamClient$jscomp$2_viewport$$.addEventListener("resize", this.$xa$);
    }
    this.$o$ = $gamepadHandler$$;
    $JSCompiler_StaticMethods_setGamepadDataSender$$(this.$o$, this.$j$);
    this.$j$.$C$.push(this.$o$);
    $JSCompiler_StaticMethods_setGamepadRSDMM$$(this.$o$, this.$M$);
    this.$o$.$I$ = this.$ba$;
    this.$la$(this.$C$.$j$);
    $JSCompiler_StaticMethods_addStateListener$$(this.$C$, 0, this.$ha$);
    this.perf && PerformanceObserver.supportedEntryTypes && PerformanceObserver.supportedEntryTypes.includes("longtask") && this.perf.observe({entryTypes:["longtask"]});
    $module$exports$output$util$settings$RagnarokSettings$$.$latencyTest$ && $module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$().initialize(this.$m$, this.$platformDetails$);
    if ($module$contents$rtcutils_core$output$utils_IsTV$$(this.$platformDetails$) || this.$A$ || $module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$)) {
      this.textInputElement = $textInputElement$$, this.$A$ && (this.$ia$ = null !== ($_t$jscomp$3$$ = null === ($_s$jscomp$3$$ = this.textInputElement) || void 0 === $_s$jscomp$3$$ ? void 0 : $_s$jscomp$3$$.getAttribute("autocapitalize")) && void 0 !== $_t$jscomp$3$$ ? $_t$jscomp$3$$ : "off", this.$ja$ = null !== ($_v$jscomp$1$$ = null === ($_u$jscomp$1$$ = this.textInputElement) || void 0 === $_u$jscomp$1$$ ? void 0 : $_u$jscomp$1$$.getAttribute("autocorrect")) && void 0 !== $_v$jscomp$1$$ ? $_v$jscomp$1$$ : 
      "off", null === ($_w$jscomp$1$$ = this.textInputElement) || void 0 === $_w$jscomp$1$$ ? void 0 : $_w$jscomp$1$$.setAttribute("autocapitalize", "off"), null === ($_x$jscomp$1$$ = this.textInputElement) || void 0 === $_x$jscomp$1$$ ? void 0 : $_x$jscomp$1$$.setAttribute("autocorrect", "off"));
    }
  }
  uninitialize() {
    var $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$, $_b$jscomp$26_isPrimary$jscomp$inline_475$$, $_c$jscomp$14$$, $_d$jscomp$13$$, $_e$jscomp$10$$, $_f$jscomp$9$$, $_g$jscomp$7$$;
    $JSCompiler_StaticMethods_setUserIdleTimeoutPending$$(this, !1);
    var $videoPaused_videoState$jscomp$3$$ = this.$m$.paused;
    $videoPaused_videoState$jscomp$3$$ = void 0 !== $videoPaused_videoState$jscomp$3$$ ? $videoPaused_videoState$jscomp$3$$ ? "paused" : "playing" : "unknown";
    (this.$m$.paused || 1 > (null !== ($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ = this.$m$.currentTime) && void 0 !== $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ ? $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ : 1)) && this.$ba$.$emitDebugEvent$("VideoPaused", $videoPaused_videoState$jscomp$3$$, null === 
    ($_b$jscomp$26_isPrimary$jscomp$inline_475$$ = this.$m$.currentTime) || void 0 === $_b$jscomp$26_isPrimary$jscomp$inline_475$$ ? void 0 : $_b$jscomp$26_isPrimary$jscomp$inline_475$$.toFixed(2));
    $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{fdc8bf7}", $videoPaused_videoState$jscomp$3$$, this.$m$.currentTime);
    null === ($_c$jscomp$14$$ = this.$na$) || void 0 === $_c$jscomp$14$$ ? void 0 : $_c$jscomp$14$$.disconnect();
    null === ($_d$jscomp$13$$ = this.$ua$) || void 0 === $_d$jscomp$13$$ ? void 0 : $_d$jscomp$13$$.disconnect();
    this.$j$.stop();
    this.perf && this.perf.disconnect();
    this.toggleUserInput(!1);
    this.windowRemoveEventListener("resize", this.$U$);
    this.$m$.removeEventListener("resize", this.$U$);
    null === ($_e$jscomp$10$$ = window.visualViewport) || void 0 === $_e$jscomp$10$$ ? void 0 : $_e$jscomp$10$$.removeEventListener("resize", this.$xa$);
    $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ = this.$o$;
    if ($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$j$) {
      $_b$jscomp$26_isPrimary$jscomp$inline_475$$ = !0;
      for ($JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$ of $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$h$) {
        $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$ && ($JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$.$telemetryData$.state = $JSCompiler_StaticMethods_getPlugState$$($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$, $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$.$telemetryData$.state, 
        !0), $JSCompiler_StaticMethods_deleteGamepad$$($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$, $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$.$device$.index, !0, $_b$jscomp$26_isPrimary$jscomp$inline_475$$), $_b$jscomp$26_isPrimary$jscomp$inline_475$$ = !1);
      }
      $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$$($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$);
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$j$ = 0;
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$g$.$v_connected$ = !1;
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$gamepadBitmapUpdateHandler$();
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.gamepadPollInterval = 100;
      $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$);
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$h$ = [];
      $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$.$J$ = !1;
    }
    var $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$ = this.$j$;
    $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ = $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$.$C$.indexOf(this.$o$);
    -1 < $JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$ && $JSCompiler_StaticMethods_removeVibrationHandler$self$jscomp$inline_478_details$jscomp$inline_476$$.$C$.splice($JSCompiler_StaticMethods_disconnectAllGamepads$self$jscomp$inline_474__a$jscomp$55_index$jscomp$inline_480$$, 1);
    $JSCompiler_StaticMethods_removeStateListener$$(this.$C$, 2, this.$ka$);
    this.$M$.stop();
    $JSCompiler_StaticMethods_removeGamepadDataHandler$$(this.$o$, this.$M$);
    $JSCompiler_StaticMethods_removeGamepadDataHandler$$(this.$o$, this.$j$);
    this.$gamepadTesterEnabled$ && ($JSCompiler_StaticMethods_removeGamepadDataHandler$$(this.$o$, this.$K$), $JSCompiler_StaticMethods_toggleGamepadTester$$(this.$K$, this.$m$));
    this.$l$.uninitialize();
    $JSCompiler_StaticMethods_removeStateListener$$(this.$C$, 0, this.$ha$);
    $JSCompiler_StaticMethods_clearSafeZoneTimeout$$(this);
    null === ($_f$jscomp$9$$ = this.textInputElement) || void 0 === $_f$jscomp$9$$ ? void 0 : $_f$jscomp$9$$.setAttribute("autocapitalize", this.$ia$);
    null === ($_g$jscomp$7$$ = this.textInputElement) || void 0 === $_g$jscomp$7$$ ? void 0 : $_g$jscomp$7$$.setAttribute("autocorrect", this.$ja$);
    $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{b6b2756}");
  }
  $Aa$() {
    $JSCompiler_StaticMethods_onPreRender$$();
    if (!$module$exports$output$util$settings$RagnarokSettings$$.$leanMode$) {
      const $now$jscomp$5$$ = window.performance.now(), $frameCounts$$ = $module$contents$output$input$inputhandler_getVideoFrameCounts$$(this.$m$);
      if ($frameCounts$$) {
        const $totalDroppedVideoFrames$$ = $frameCounts$$.$dropped$, $droppedFrames$$ = $totalDroppedVideoFrames$$ - this.$F$.droppedVideoFrames, $decodedFrames$$ = $frameCounts$$.$decoded$ - this.$F$.totalVideoFrames;
        this.$F$.droppedVideoFrames = $totalDroppedVideoFrames$$;
        this.$F$.totalVideoFrames = $frameCounts$$.$decoded$;
        1 == $droppedFrames$$ ? this.$h$.$singleDroppedFrames$++ : 1 < $droppedFrames$$ && (this.$h$.$multiDroppedFrames$ += $droppedFrames$$);
        $JSCompiler_StaticMethods_onFrameInfo$$($decodedFrames$$, $droppedFrames$$);
      }
      this.$F$.$rafTime$ = $now$jscomp$5$$;
    }
    window.setTimeout(() => {
      this.$ea$ && window.requestAnimationFrame(this.$ta$);
      var $JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$ = this.$l$;
      0 === $JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$.$F$ && $JSCompiler_StaticMethods_sendInput$$($JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$.$m$);
      $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$ && $module$exports$output$util$settings$RagnarokSettings$$.$gamepadRaf$ && this.$o$.$W$();
      $module$exports$output$util$settings$RagnarokSettings$$.$leanMode$ || ($JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$ = window.performance.now(), $JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$ > this.$h$.$baseTime$ + 10000 ? (0 !== this.$h$.$baseTime$ && $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{5fa9066}", this.$h$.$animationFrameCount$, this.$h$.$sendInputCount$, this.$h$.$sendInputOver5ms$, 
      this.$h$.$sendInputOver10ms$, this.$F$.totalVideoFrames - this.$h$.$baseTotalVideoFrames$, this.$h$.$singleDroppedFrames$, this.$h$.$multiDroppedFrames$, this.$h$.$aggregatedCount$, this.$h$.$oversizedEventCount$), this.$h$.$baseTime$ = $JSCompiler_StaticMethods_JSC$2667_postRender$self$jscomp$inline_1231_now$jscomp$inline_1236$$, this.$h$.$baseTotalVideoFrames$ = this.$F$.totalVideoFrames, this.$h$.$animationFrameCount$ = 1, this.$h$.$sendInputCount$ = 0, this.$h$.$sendInputOver5ms$ = 0, this.$h$.$sendInputOver10ms$ = 
      0, this.$h$.$singleDroppedFrames$ = 0, this.$h$.$multiDroppedFrames$ = 0, this.$h$.$aggregatedCount$ = 0, this.$h$.$oversizedEventCount$ = 0) : this.$h$.$animationFrameCount$ += 1);
    });
    $JSCompiler_StaticMethods_JSC$2667_preRender$$(this.$l$);
  }
  $virtualGamepadUpdateHandler$() {
    $JSCompiler_StaticMethods_channelOpen$$(this.$j$) && this.$o$.$virtualGamepadUpdateHandler$();
  }
  $T$() {
    var $_a$jscomp$56$$, $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$ = this.$m$;
    if (!(0 >= $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth || 0 >= $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight)) {
      var $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$ = 0.0, $boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$ = 0.0;
      var $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientWidth / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientHeight;
      var $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight;
      if (0.01 > Math.abs($client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$ - $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$) ? 0 : $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$ > $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$) {
        $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientHeight / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight;
        $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth * $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$;
        var $displayVideoHeight$jscomp$inline_493$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight * $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$;
        $boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$ = ($JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientWidth - $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$) / 2;
      } else {
        $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientWidth / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth, $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth * 
        $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$, $displayVideoHeight$jscomp$inline_493$$ = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight * $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$, $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$ = ($JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.clientHeight - 
        $displayVideoHeight$jscomp$inline_493$$) / 2;
      }
      var $horizontalScaleFactor$jscomp$inline_494$$ = 1, $verticalScaleFactor$jscomp$inline_495$$ = 1;
      this.$g$.$displayVideoWidth$ && this.$g$.$displayVideoHeight$ && ($horizontalScaleFactor$jscomp$inline_494$$ = $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$ / this.$g$.$displayVideoWidth$, $verticalScaleFactor$jscomp$inline_495$$ = $displayVideoHeight$jscomp$inline_493$$ / this.$g$.$displayVideoHeight$);
      this.$g$.$displayVideoWidth$ = $displayVideoWidth$jscomp$inline_492_session$jscomp$inline_1239$$;
      this.$g$.$displayVideoHeight$ = $displayVideoHeight$jscomp$inline_493$$;
      this.$g$.$scalingFactor$ = $client$jscomp$inline_1238_scalingFactor$jscomp$inline_489$$;
      this.$g$.$topPadding$ = $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$;
      this.$g$.$leftPadding$ = $boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$;
      this.$g$.videoWidth = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoWidth;
      this.$g$.videoHeight = $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.videoHeight;
      $JSCompiler_StaticMethods_applyVideoTransforms$$(this, this.$g$.offsetX * $horizontalScaleFactor$jscomp$inline_494$$, this.$g$.offsetY * $verticalScaleFactor$jscomp$inline_495$$, this.$g$.$zoomFactor$);
      $JSCompiler_StaticMethods_JSC$2667_updateVideoState$$(this.$l$, this.$g$);
      $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$ = this.$N$;
      $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$ = this.$g$.$leftPadding$;
      $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.$topPadding$ = this.$g$.$topPadding$;
      $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.$leftPadding$ = $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$;
      $JSCompiler_StaticMethods_sendSafeZone$$(this);
    }
    null === ($_a$jscomp$56$$ = this.$B$) || void 0 === $_a$jscomp$56$$ ? void 0 : ($JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$ = this.$g$, $boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$ = this.$m$.getBoundingClientRect(), $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$ = this.$g$.$zoomFactor$, $_a$jscomp$56$$.$u$ = {$horizontal$:$boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$.left + 
    window.pageXOffset + this.$g$.$leftPadding$ * this.$g$.$zoomFactor$, vertical:$boundingRect$jscomp$inline_498_leftPadding$jscomp$inline_491$$.top + window.pageYOffset + this.$g$.$topPadding$ * this.$g$.$zoomFactor$}, $_a$jscomp$56$$.$l$ = 65535.0 / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.$displayVideoWidth$, $_a$jscomp$56$$.$m$ = 65535.0 / $JSCompiler_StaticMethods_JSC$2848_updateVideoState$self$jscomp$inline_1241_JSCompiler_temp_const$jscomp$50_videoElement$jscomp$inline_488$$.$displayVideoHeight$, 
    $_a$jscomp$56$$.$l$ /= $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$, $_a$jscomp$56$$.$m$ /= $leftPadding$jscomp$inline_1243_topPadding$jscomp$inline_490_videoZoomFactor$jscomp$inline_503$$);
  }
  $Fa$() {
    this.$g$.$viewportHeight$ = window.visualViewport.height;
    $JSCompiler_StaticMethods_applyVideoTransforms$$(this, this.$g$.offsetX, this.$g$.offsetY, this.$g$.$zoomFactor$);
  }
  $Ca$() {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{b6fbd34}");
    history.pushState(null, document.title, location.href);
  }
  $oa$($evt$jscomp$63$$) {
    var $_a$jscomp$58$$, $_b$jscomp$27$$;
    let $sendGeneratedUpEvent$$ = !1;
    this.$fa$ = !1;
    const $timeStamp$jscomp$9$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$63$$.timeStamp);
    if (this.$C$.$h$) {
      $JSCompiler_StaticMethods_shouldPreventDefaultKb$$(this, $evt$jscomp$63$$) && $evt$jscomp$63$$.preventDefault();
      var $keycode_tradCnToggle$$ = this.$da$ && this.$W$ ? "CapsLock" == $evt$jscomp$63$$.code : !1;
      $keycode_tradCnToggle$$ && ($sendGeneratedUpEvent$$ = $sendGeneratedUpEvent$$ || $keycode_tradCnToggle$$);
      $JSCompiler_StaticMethods_updateLockKeysState$$(this, $evt$jscomp$63$$);
      var $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$;
      !($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = "CapsLock" == $evt$jscomp$63$$.code && ("Alphanumeric" == $evt$jscomp$63$$.key || "Katakana" == $evt$jscomp$63$$.key || "Hiragana" == $evt$jscomp$63$$.key)) && ($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = 
      "KanaMode" == $evt$jscomp$63$$.code) && ($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = $evt$jscomp$63$$.key, $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = 
      "Hiragana" == $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ || "Katakana" == $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ || 
      "Romaji" == $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ || "KanaMode" == $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$);
      $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ ? !0 : !1;
      var $krSpecialKey_ldat$$ = "Lang1" == $evt$jscomp$63$$.code || "HangulMode" == $evt$jscomp$63$$.key;
      $sendGeneratedUpEvent$$ = $sendGeneratedUpEvent$$ || $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ || $krSpecialKey_ldat$$;
      if (!this.$P$.includes($evt$jscomp$63$$.keyCode) || $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ || $keycode_tradCnToggle$$) {
        if ($keycode_tradCnToggle$$ = $keycode_tradCnToggle$$ ? 160 : $JSCompiler_StaticMethods_getVirtualKeycode$$(this, $evt$jscomp$63$$), 0 !== $keycode_tradCnToggle$$ && !this.$u$.has($keycode_tradCnToggle$$)) {
          this.$u$.add($keycode_tradCnToggle$$);
          $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !1;
          $krSpecialKey_ldat$$ = $JSCompiler_StaticMethods_JSC$2930_getLdatHandler$$(this.$s$);
          if (187 == $keycode_tradCnToggle$$) {
            $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = this.$s$;
            var $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$;
            if (null === ($JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$.$I$) || void 0 === $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$) {
              var $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
              0;
            } else {
              1 == $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$.$g$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{1f67b97}"), $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$.$g$ = 2, $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
              !0) : $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
              !1;
            }
            $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ ? 
            ($JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$, {latencyTrigger:!0}), $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = 
            !0) : $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !1;
            $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !$JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$;
          } else if ($evt$jscomp$63$$.ctrlKey && $evt$jscomp$63$$.altKey) {
            if (!$module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && !$module$exports$output$util$settings$RagnarokSettings$$.stutterIndicator || 119 != $keycode_tradCnToggle$$ && 219 != $keycode_tradCnToggle$$) {
              if ($module$exports$output$util$settings$RagnarokSettings$$.isInternalUser) {
                switch($keycode_tradCnToggle$$) {
                  case 48:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$l$;
                    $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = "UNSUPPORTED";
                    if ($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$L$) {
                      switch($JSCompiler_StaticMethods_setRawUpdate$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                      ($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$F$ + 
                      1) % 4), $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$F$) {
                        case 1:
                          $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = "4ms";
                          break;
                        case 2:
                          $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = "8ms";
                          break;
                        case 3:
                          $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = "16ms";
                          break;
                        default:
                          $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = "OFF";
                      }
                    }
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$I$, 
                    "Non-vsync mouse events: " + $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$);
                    $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{bac28ff}", $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$);
                    break;
                  case 49:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$s$;
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$ga$ ^= 
                    1;
                    $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    {riDeviceOverlay:{bitmap:$JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$ga$}});
                    break;
                  case 56:
                    this.$s$.sendCustomMessage({messageType:"GpuViewStartRequest", messageRecipient:"GPUViewTraceControl", data:"GpuView"});
                    $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{0915cd3}");
                    break;
                  case 68:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$s$;
                    var $_a$jscomp$inline_516_content$jscomp$inline_533$$;
                    null === ($_a$jscomp$inline_516_content$jscomp$inline_533$$ = $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$I$) || 
                    void 0 === $_a$jscomp$inline_516_content$jscomp$inline_533$$ ? $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = 0 : 0 == $_a$jscomp$inline_516_content$jscomp$inline_533$$.$g$ ? ($_a$jscomp$inline_516_content$jscomp$inline_533$$.$g$ = 1, $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{008dc86}"), $JSCompiler_StaticMethods_createRecorder$$($_a$jscomp$inline_516_content$jscomp$inline_533$$), $JSCompiler_StaticMethods_startRecord$$($_a$jscomp$inline_516_content$jscomp$inline_533$$), 
                    $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = !0) : $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = !1;
                    $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ && $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    {pcmDumpTrigger:!0});
                    break;
                  case 71:
                    this.$gamepadTesterEnabled$ = !this.$gamepadTesterEnabled$;
                    $JSCompiler_StaticMethods_toggleGamepadTester$$(this.$K$, this.$m$);
                    this.$gamepadTesterEnabled$ ? this.$o$.$l$.push(this.$K$) : $JSCompiler_StaticMethods_removeGamepadDataHandler$$(this.$o$, this.$K$);
                    break;
                  case 76:
                    null === $krSpecialKey_ldat$$ || void 0 === $krSpecialKey_ldat$$ ? void 0 : $JSCompiler_StaticMethods_setVisible$$($krSpecialKey_ldat$$, !$krSpecialKey_ldat$$.isVisible());
                    $JSCompiler_StaticMethods_updatePointerLock$$(this.$l$);
                    break;
                  case 83:
                    $JSCompiler_StaticMethods_toggleDisplaySafeZone$$(this.$N$);
                    break;
                  case 115:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$s$;
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$ea$ ? 
                    ($JSCompiler_StaticMethods_stopProfiling$$(), $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$ea$ = 
                    !1, $JSCompiler_StaticMethods_disableWebRTCStats$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$), 
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    "Profiler: OFF, Stats: OFF")) : ($JSCompiler_StaticMethods_startProfiler$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$), 
                    $JSCompiler_StaticMethods_enableWebRTCStats$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$), 
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    "Profiler: ON, Stats: ON"));
                    break;
                  case 116:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$s$;
                    $JSCompiler_StaticMethods_statsServiceEnabled$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$) ? 
                    ($JSCompiler_StaticMethods_disableWebRTCStats$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$), 
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    "Stats: OFF")) : ($JSCompiler_StaticMethods_enableWebRTCStats$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$), 
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    "Stats: ON"));
                    break;
                  case 117:
                    this.$s$.toggleOnScreenStats($evt$jscomp$63$$.shiftKey);
                    break;
                  case 118:
                  case 192:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$s$;
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.perfIndicator = 
                    !$JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.perfIndicator;
                    $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$, 
                    {perfIndicator:{on:$JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.perfIndicator}});
                    break;
                  case 120:
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    this.$l$;
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$u$ = 
                    !$JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$u$;
                    $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$I$, 
                    "UnadjustedMovement: " + ($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$u$ ? 
                    "ON" : "OFF"));
                    $module$exports$rtcutils_core$output$logger$Log$$.i("{70cc40b}", "{796c5cb}", $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$.$u$ ? 
                    "ON" : "OFF");
                    break;
                  case 189:
                    this.$L$ = !this.$L$;
                    $JSCompiler_StaticMethods_showDebugMessage$$(this.$s$, "Position dependent keys: " + (this.$L$ ? "ON" : "OFF"));
                    $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{61d2ab5}", this.$L$ ? "ON" : "OFF");
                    break;
                  default:
                    $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !0;
                }
              } else {
                $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !0;
              }
            } else {
              this.$s$.toggleStutterIndicator();
            }
          } else if (null === $krSpecialKey_ldat$$ || void 0 === $krSpecialKey_ldat$$ ? 0 : $krSpecialKey_ldat$$.isVisible()) {
            if (13 == $keycode_tradCnToggle$$) {
              $krSpecialKey_ldat$$.toggle(), $JSCompiler_StaticMethods_updatePointerLock$$(this.$l$);
            } else if (82 == $keycode_tradCnToggle$$) {
              $krSpecialKey_ldat$$.reset(), $JSCompiler_StaticMethods_updatePointerLock$$(this.$l$);
            } else if (65 == $keycode_tradCnToggle$$) {
              $JSCompiler_StaticMethods_styleAutoFireOverlay$$($krSpecialKey_ldat$$, !$krSpecialKey_ldat$$.$autoFireCheckbox$.checked);
            } else {
              if (83 == $keycode_tradCnToggle$$) {
                if ($krSpecialKey_ldat$$.$latencyData$.length) {
                  $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$ = `LDAT_${(new Date()).toISOString()}.csv`;
                  $_a$jscomp$inline_516_content$jscomp$inline_533$$ = ["Sample #,Total,Render,Decode,Begin,Server + Rtd + Receive,Input Callback"];
                  for (let $i$jscomp$inline_534$$ = 0; $i$jscomp$inline_534$$ < $krSpecialKey_ldat$$.$latencyData$.length; $i$jscomp$inline_534$$++) {
                    const $data$jscomp$inline_535$$ = $krSpecialKey_ldat$$.$latencyData$[$i$jscomp$inline_534$$], $decodeTime$jscomp$inline_536$$ = null !== ($JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ = 
                    $data$jscomp$inline_535$$.processingDuration) && void 0 !== $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ ? 
                    $JSCompiler_StaticMethods_sendPcmDumpTrigger$self$jscomp$inline_515_JSCompiler_StaticMethods_setNextRawUpdate$self$jscomp$inline_508_JSCompiler_StaticMethods_toggleGamepadOverlay$self$jscomp$inline_511_JSCompiler_StaticMethods_togglePerfIndicator$self$jscomp$inline_524_JSCompiler_StaticMethods_toggleProfiler$self$jscomp$inline_520_JSCompiler_StaticMethods_toggleUnadjustedMovement$self$jscomp$inline_526_JSCompiler_StaticMethods_toggleWebRTCStats$self$jscomp$inline_522_JSCompiler_temp$jscomp$1130__a$jscomp$inline_531$$ : 
                    "";
                    $_a$jscomp$inline_516_content$jscomp$inline_533$$.push([$i$jscomp$inline_534$$, $data$jscomp$inline_535$$.$videoFrameCallbackTime$ - $data$jscomp$inline_535$$.$mouseClickTime$, $data$jscomp$inline_535$$.$videoFrameCallbackTime$ - $data$jscomp$inline_535$$.presentationTime, $decodeTime$jscomp$inline_536$$, $data$jscomp$inline_535$$.receiveTime && $data$jscomp$inline_535$$.processingDuration ? $data$jscomp$inline_535$$.presentationTime - $data$jscomp$inline_535$$.processingDuration - 
                    $data$jscomp$inline_535$$.receiveTime : "", $data$jscomp$inline_535$$.receiveTime ? $data$jscomp$inline_535$$.receiveTime - $data$jscomp$inline_535$$.$mouseClickCallbackTime$ : "", $data$jscomp$inline_535$$.$mouseClickCallbackTime$ - $data$jscomp$inline_535$$.$mouseClickTime$].join());
                  }
                  $module$contents$output$util$utils_Download$$([$_a$jscomp$inline_516_content$jscomp$inline_533$$.join("\n")], $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$, "text/plain") && $module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{690879e}", $JSCompiler_temp$jscomp$1131__a$jscomp$inline_506_fileName$jscomp$inline_532_status$jscomp$inline_509$$);
                } else {
                  $module$exports$rtcutils_core$output$logger$Log$$.w("{50c79eb}", "{2884507}");
                }
              } else {
                67 == $keycode_tradCnToggle$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{d2811a7}"), $krSpecialKey_ldat$$.$loupePositionX$.value = "50", $krSpecialKey_ldat$$.$loupePositionY$.value = "50", $JSCompiler_StaticMethods_positionLoupe$$($krSpecialKey_ldat$$, 0.5, 0.5)) : $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = 
                !0;
              }
            }
          } else {
            $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = !0;
          }
          $JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ && ($JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), $JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 3, $keycode_tradCnToggle$$, $JSCompiler_StaticMethods_getModifierFlags$$(this, 
          $evt$jscomp$63$$), $timeStamp$jscomp$9$$));
          "Hankaku" != $evt$jscomp$63$$.key && "Zenkaku" != $evt$jscomp$63$$.key || 192 != $keycode_tradCnToggle$$ || ($sendGeneratedUpEvent$$ = !0);
          this.$A$ && this.$isVirtualKeyboardVisible$ && ("Backspace" == $evt$jscomp$63$$.code && ($sendGeneratedUpEvent$$ = !0), "" == $evt$jscomp$63$$.code && "Enter" == $evt$jscomp$63$$.key && ($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$ = new CompositionEvent("compositionend", {data:null === ($_a$jscomp$58$$ = 
          this.textInputElement) || void 0 === $_a$jscomp$58$$ ? void 0 : $_a$jscomp$58$$.value}), null === ($_b$jscomp$27$$ = this.textInputElement) || void 0 === $_b$jscomp$27$$ ? void 0 : $_b$jscomp$27$$.dispatchEvent($JSCompiler_StaticMethods_sendLatencyTrigger$self$jscomp$inline_505_JSCompiler_inline_result$jscomp$112_JSCompiler_temp$jscomp$inline_1246_JSCompiler_temp$jscomp$inline_1247_compositionEndEvt_jpSpecialKey_key$jscomp$inline_1248_sendEvent$$)));
          $sendGeneratedUpEvent$$ && ($JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 4, $keycode_tradCnToggle$$, $JSCompiler_StaticMethods_getModifierFlags$$(this, $evt$jscomp$63$$), $timeStamp$jscomp$9$$), this.$u$.delete($keycode_tradCnToggle$$));
        }
      }
    }
  }
  $qa$($evt$jscomp$64$$) {
    let $sendGeneratedDownEvent$$ = !1;
    const $timeStamp$jscomp$10$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($evt$jscomp$64$$.timeStamp);
    if (this.$A$ && this.$isVirtualKeyboardVisible$ && "" == $evt$jscomp$64$$.code && "Unidentified" == $evt$jscomp$64$$.key && !this.$fa$) {
      $JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 3, 8, 0, $timeStamp$jscomp$10$$), $JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 4, 8, 0, $timeStamp$jscomp$10$$);
    } else {
      var $keycode$jscomp$1_tradCnToggle$jscomp$1$$ = this.$da$ && this.$W$ ? "CapsLock" == $evt$jscomp$64$$.code : !1;
      $keycode$jscomp$1_tradCnToggle$jscomp$1$$ && ($sendGeneratedDownEvent$$ = $sendGeneratedDownEvent$$ || $keycode$jscomp$1_tradCnToggle$jscomp$1$$);
      $JSCompiler_StaticMethods_updateLockKeysState$$(this, $evt$jscomp$64$$);
      if (!this.$P$.includes($evt$jscomp$64$$.keyCode) || $keycode$jscomp$1_tradCnToggle$jscomp$1$$) {
        $keycode$jscomp$1_tradCnToggle$jscomp$1$$ = $keycode$jscomp$1_tradCnToggle$jscomp$1$$ ? 160 : $JSCompiler_StaticMethods_getVirtualKeycode$$(this, $evt$jscomp$64$$), $sendGeneratedDownEvent$$ && ($JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 3, $keycode$jscomp$1_tradCnToggle$jscomp$1$$, $JSCompiler_StaticMethods_getModifierFlags$$(this, $evt$jscomp$64$$), $timeStamp$jscomp$10$$), this.$u$.add($keycode$jscomp$1_tradCnToggle$jscomp$1$$)), this.$u$.has($keycode$jscomp$1_tradCnToggle$jscomp$1$$) && 
        (this.$u$.delete($keycode$jscomp$1_tradCnToggle$jscomp$1$$), $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), $JSCompiler_StaticMethods_sendKeyboardEvent$$(this.$j$, 4, $keycode$jscomp$1_tradCnToggle$jscomp$1$$, $JSCompiler_StaticMethods_getModifierFlags$$(this, $evt$jscomp$64$$), $timeStamp$jscomp$10$$));
      }
    }
  }
  $la$($fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{77df54c}", $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$ ? "fullscreen" : "not fullscreen");
    this.$T$({});
    $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$ ? (window.isSecureContext && ($fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$ = window.navigator.keyboard) && $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$.lock && $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$.lock("Escape F11 BrowserBack BrowserForward BrowserRefresh BrowserHome BrowserFavorites BrowserSearch BrowserStop Sleep Power WakeUp KeyT KeyZ Slash Digit1 Digit2 Digit3 Digit4 Digit5 Digit6 Digit7 Digit8 Digit9 KeyM KeyD KeyN KeyS KeyK KeyL Space PrintScreen LaunchApp1 LaunchApp2 LaunchMail Comma Semicolon ArrowLeft ArrowRight BracketLeft BracketRight KeyW KeyQ KeyR KeyY KeyO KeyP KeyF KeyG".split(" ")), 
    this.$m$.onclick = null, this.$m$.removeAttribute("controls")) : ($JSCompiler_StaticMethods_releasePressedKeys$$(this), $JSCompiler_StaticMethods_releasePressedButtons$$(this.$l$), window.isSecureContext && ($fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$ = window.navigator.keyboard) && $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$.unlock && $fullscreen$jscomp$1_keyboard_keyboard$jscomp$1$$.unlock());
  }
  toggleUserInput($enable$jscomp$7$$, $changedInputs_inputs$jscomp$5$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{2424824}", $enable$jscomp$7$$, $changedInputs_inputs$jscomp$5$$);
    $changedInputs_inputs$jscomp$5$$ = null !== $changedInputs_inputs$jscomp$5$$ && void 0 !== $changedInputs_inputs$jscomp$5$$ ? $changedInputs_inputs$jscomp$5$$ : 15;
    if ($enable$jscomp$7$$) {
      var $_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$, $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$, $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$, $_d$jscomp$inline_547$$;
      var $_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$ = !this.$isUserInputEnabled$();
      if ($_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ = (this.$v$ ^ $changedInputs_inputs$jscomp$5$$) & $changedInputs_inputs$jscomp$5$$) {
        this.$v$ |= $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$;
        $_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$ && (this.$ea$ = !0, window.requestAnimationFrame(this.$ta$));
        $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ & 4 && $JSCompiler_StaticMethods_JSC$3007_enableUserInput$$(this.$o$);
        if ($_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ & 1) {
          var $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$ = this.$l$;
          if (!$JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$A$) {
            $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$A$ = !0;
            if (!$module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$platformDetails$)) {
              if (2 == $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.cursorType && $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$G$) {
                var $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$ = $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$H$;
                $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$.$downName$ = "pointerdown";
                $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$.$upName$ = "pointerup";
                $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.videoAddEventListener("pointerdown", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$la$);
                $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.videoAddEventListener("pointerup", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$ma$);
              } else {
                $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$ = $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$H$, $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$.$downName$ = "mousedown", $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$.$upName$ = 
                "mouseup", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.videoAddEventListener("mousedown", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$U$), $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.videoAddEventListener("mouseup", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$da$);
              }
            }
            (2 !== $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.cursorType ? $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.documentAddEventListener : $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.videoAddEventListener)("wheel", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$ea$, $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$fa$);
            $JSCompiler_StaticMethods_addMoveListener$$($JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$);
            $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$l$ && ($JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$l$.style.display = "block", $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.$s$.style.cursor = "none");
            $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$);
          }
        }
        $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ & 2 && (this.documentAddEventListener("keydown", this.$pa$), this.documentAddEventListener("keyup", this.$ra$), null === ($_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$ = this.textInputElement) || void 0 === $_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$ ? void 0 : $_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$.addEventListener("input", this.$wa$), null === ($JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ = 
        this.textInputElement) || void 0 === $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$.addEventListener("compositionstart", this.$J$), null === ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$ = 
        this.textInputElement) || void 0 === $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.addEventListener("compositionupdate", this.$J$), null === ($_d$jscomp$inline_547$$ = this.textInputElement) || 
        void 0 === $_d$jscomp$inline_547$$ ? void 0 : $_d$jscomp$inline_547$$.addEventListener("compositionend", this.$J$), this.$H$ = 0);
        $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ & 8 && (this.$B$ && !this.$isVirtualKeyboardVisible$ ? this.$B$.start() : this.$D$ && this.$D$.start());
        $_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$ && this.preventNavigation && !this.$O$ && (this.$O$ = !0, history.pushState(null, document.title, location.href), this.windowAddEventListener("popstate", this.$sa$));
      }
    } else {
      var $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$;
      if ($JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ = this.$v$ & $changedInputs_inputs$jscomp$5$$) {
        this.$v$ ^= $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$;
        if ($_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$ = !this.$isUserInputEnabled$()) {
          this.$ea$ = !1;
        }
        $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ & 4 && ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$ = this.$o$, $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$v$ = 
        !1, $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$), $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$ && ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$o$ && $JSCompiler_StaticMethods_resetGamepadDataHandlerState$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$, 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$o$), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.windowRemoveEventListener("gamepadconnected", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$U$), 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.windowRemoveEventListener("gamepaddisconnected", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$V$), $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$), 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$u$ && ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$m$.stop(), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$m$.reset())));
        $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ & 1 && ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$ = this.$l$, $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$A$ && 
        ($JSCompiler_StaticMethods_releasePressedButtons$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$A$ = !1, $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$platformDetails$) || 
        (2 == $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.cursorType && $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$G$ ? ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.videoRemoveEventListener("pointerdown", 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$la$), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.videoRemoveEventListener("pointerup", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$ma$)) : 
        ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.videoRemoveEventListener("mousedown", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$U$), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.videoRemoveEventListener("mouseup", 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$da$))), (2 !== $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.cursorType ? $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.documentRemoveEventListener : 
        $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.videoRemoveEventListener)("wheel", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$ea$, $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$fa$), 
        $JSCompiler_StaticMethods_removeMoveListener$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$), $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$l$ && ($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$l$.style.display = 
        "none", $JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$.$s$.style.cursor = "default"), $JSCompiler_StaticMethods_updatePointerLock$$($JSCompiler_StaticMethods_JSC$2667_disableUserInput$self$jscomp$inline_1263_JSCompiler_StaticMethods_JSC$3007_disableUserInput$self$jscomp$inline_1261__c$jscomp$inline_546$$)));
        $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ & 2 && ($JSCompiler_StaticMethods_releasePressedKeys$$(this), this.documentRemoveEventListener("keydown", this.$pa$), this.documentRemoveEventListener("keyup", this.$ra$), null === ($_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$ = this.textInputElement) || void 0 === $_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$ ? void 0 : $_a$jscomp$inline_553_wereAllDisabled$jscomp$inline_548$$.removeEventListener("input", 
        this.$wa$), null === ($JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$ = this.textInputElement) || void 0 === $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2667_enableUserInput$self$jscomp$inline_1257__b$jscomp$inline_554$$.removeEventListener("compositionstart", this.$J$), null === ($_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ = this.textInputElement) || 
        void 0 === $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$ ? void 0 : $_c$jscomp$inline_555_addedInputs$jscomp$inline_549$$.removeEventListener("compositionupdate", this.$J$), null === ($JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$ = this.textInputElement) || void 0 === $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$ ? 
        void 0 : $JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1421_JSCompiler_StaticMethods_setDownUpTypes$self$jscomp$inline_1425__d$jscomp$inline_556$$.removeEventListener("compositionend", this.$J$));
        $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ & 8 && (this.$D$ && this.$D$.stop(), this.$B$ && this.$B$.stop(), 0 !== this.$G$ && $JSCompiler_StaticMethods_clearStatsGestureTimer$$(this), $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$ = this.$I$, $JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$.$h$ = 
        void 0, $JSCompiler_StaticMethods_resetTimer$$($JSCompiler_StaticMethods_JSC$2711_clear$self$jscomp$inline_1265__b$jscomp$inline_545_removedInputs$jscomp$inline_557$$));
        $_a$jscomp$inline_544_allDisabled$jscomp$inline_558$$ && this.preventNavigation && this.$O$ && (this.windowRemoveEventListener("popstate", this.$sa$), history.back(), this.$O$ = !1);
      }
    }
  }
  $isUserInputEnabled$() {
    return 0 !== this.$v$;
  }
  $za$($focus$jscomp$1$$) {
    $focus$jscomp$1$$ ? ($JSCompiler_StaticMethods_sendSafeZone$$(this), $module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{cb19d31}")) : ($module$exports$rtcutils_core$output$logger$Log$$.d("{8bacfa5}", "{8744dbe}"), $JSCompiler_StaticMethods_releasePressedKeys$$(this), $JSCompiler_StaticMethods_releasePressedButtons$$(this.$l$));
  }
  $Ba$() {
    this.$R$ && $JSCompiler_StaticMethods_clearIdleTimeout$$(this);
  }
  getVirtualGamepadHandler() {
    return this.$o$.getVirtualGamepadHandler();
  }
  sendTextInput($text$jscomp$15$$) {
    this.$j$.sendTextInput($text$jscomp$15$$);
  }
  $Da$($e$jscomp$7_imeMode$$) {
    switch($e$jscomp$7_imeMode$$.type) {
      case "compositionstart":
        this.$H$ = 1;
        break;
      case "compositionupdate":
        !$module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$) && $JSCompiler_StaticMethods_hasVirtualKeyCodeMapping$$($e$jscomp$7_imeMode$$.data) || this.$$$.emit("TextComposition", {compositionText:$e$jscomp$7_imeMode$$.data, imeRecommendation:!0});
        break;
      case "compositionend":
        const $inputText$$ = this.$A$ ? $e$jscomp$7_imeMode$$.data.trim() : $e$jscomp$7_imeMode$$.data;
        $inputText$$.length && ($e$jscomp$7_imeMode$$ = $module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$) || !$JSCompiler_StaticMethods_hasVirtualKeyCodeMapping$$($e$jscomp$7_imeMode$$.data), this.$A$ && !$e$jscomp$7_imeMode$$ ? $JSCompiler_StaticMethods_sendCharCodesAndClearText$$(this, $inputText$$) : $JSCompiler_StaticMethods_sendAndClearText$$(this, $inputText$$), $e$jscomp$7_imeMode$$ && this.$$$.emit("TextComposition", {compositionText:""}));
        this.$H$ = 0;
    }
  }
  $Ea$() {
    this.$fa$ = !0;
    let $inputText$jscomp$1$$ = this.textInputElement.value;
    1 == this.$H$ && (this.$A$ && 1 < $inputText$jscomp$1$$.length && ($inputText$jscomp$1$$ = $inputText$jscomp$1$$.charAt($inputText$jscomp$1$$.length - 1)), this.$H$ = 2);
    this.$A$ && $JSCompiler_StaticMethods_hasVirtualKeyCodeMapping$$($inputText$jscomp$1$$) ? ($JSCompiler_StaticMethods_sendCharCodesAndClearText$$(this, $inputText$jscomp$1$$), this.$H$ = 0) : 2 != this.$H$ && $JSCompiler_StaticMethods_sendAndClearText$$(this, $inputText$jscomp$1$$);
  }
  setVirtualKeyboardState($visible$jscomp$2$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{8bacfa5}", "{60b2d45}", $visible$jscomp$2$$);
    this.$isVirtualKeyboardVisible$ !== $visible$jscomp$2$$ && (this.$isVirtualKeyboardVisible$ = $visible$jscomp$2$$, this.$D$ && this.$B$ && (this.$isVirtualKeyboardVisible$ ? (this.$B$.stop(), this.$D$.start()) : (this.$D$.stop(), 1 !== this.$g$.$zoomFactor$ && $JSCompiler_StaticMethods_applyVideoTransforms$$(this, 0, 0, 1), this.$B$.start())));
  }
  setKeyboardLayout($layout$jscomp$2$$) {
    this.$W$ = "zh-TW" == $layout$jscomp$2$$ ? !0 : !1;
  }
  scroll($target$jscomp$111$$, $timestamp$jscomp$7$$, $touches$jscomp$7$$) {
    0 < $touches$jscomp$7$$.length && $JSCompiler_StaticMethods_sendMouseWheel$$(this.$j$, Math.sign($touches$jscomp$7$$[0].deltaY), $timestamp$jscomp$7$$);
  }
  sendKeyEvent($event$jscomp$20_unicodeText$jscomp$1$$) {
    $JSCompiler_StaticMethods_channelOpen$$(this.$j$) && ($JSCompiler_StaticMethods_getVirtualKeycode$$(this, $event$jscomp$20_unicodeText$jscomp$1$$) ? "keydown" === $event$jscomp$20_unicodeText$jscomp$1$$.type ? this.$oa$($event$jscomp$20_unicodeText$jscomp$1$$) : "keyup" === $event$jscomp$20_unicodeText$jscomp$1$$.type && this.$qa$($event$jscomp$20_unicodeText$jscomp$1$$) : "keydown" === $event$jscomp$20_unicodeText$jscomp$1$$.type && 1 === $event$jscomp$20_unicodeText$jscomp$1$$.key.length && 
    ($event$jscomp$20_unicodeText$jscomp$1$$ = (new TextEncoder()).encode($event$jscomp$20_unicodeText$jscomp$1$$.key), this.sendTextInput($event$jscomp$20_unicodeText$jscomp$1$$.buffer)));
  }
};
function $JSCompiler_StaticMethods_flushImmediately$$($JSCompiler_StaticMethods_flushImmediately$self$$) {
  $JSCompiler_StaticMethods_flushImmediately$self$$.$j$ = !0;
  $JSCompiler_StaticMethods_resetTimer$$($JSCompiler_StaticMethods_flushImmediately$self$$);
  $JSCompiler_StaticMethods_callCallback$$($JSCompiler_StaticMethods_flushImmediately$self$$);
  $JSCompiler_StaticMethods_flushImmediately$self$$.$j$ = !1;
}
function $JSCompiler_StaticMethods_resetTimer$$($JSCompiler_StaticMethods_resetTimer$self$$) {
  0 !== $JSCompiler_StaticMethods_resetTimer$self$$.$g$ && (window.clearTimeout($JSCompiler_StaticMethods_resetTimer$self$$.$g$), $JSCompiler_StaticMethods_resetTimer$self$$.$g$ = 0);
}
function $JSCompiler_StaticMethods_callCallback$$($JSCompiler_StaticMethods_callCallback$self$$) {
  const $callback$jscomp$63$$ = $JSCompiler_StaticMethods_callCallback$self$$.$h$;
  $callback$jscomp$63$$ && ($JSCompiler_StaticMethods_callCallback$self$$.$h$ = void 0, $callback$jscomp$63$$());
}
class $module$contents$output$input$inputhandler_TouchDelay$$ {
  constructor() {
    this.$g$ = 0;
    this.$j$ = !1;
  }
  delay($callback$jscomp$62$$) {
    this.$j$ ? $callback$jscomp$62$$() : ($JSCompiler_StaticMethods_flushImmediately$$(this), this.$h$ = $callback$jscomp$62$$, this.$g$ = window.setTimeout(() => {
      this.$g$ = 0;
      $JSCompiler_StaticMethods_callCallback$$(this);
    }, $module$contents$output$input$inputhandler_TouchDelay$TOUCH_DELAY_MS$$));
  }
}
var $module$contents$output$input$inputhandler_TouchDelay$TOUCH_DELAY_MS$$ = 30;
function $module$contents$output$input$inputhandler_getVideoFrameCounts$$($quality_videoTagElement$jscomp$3$$) {
  var $_a$jscomp$62$$;
  if ($quality_videoTagElement$jscomp$3$$.getVideoPlaybackQuality) {
    return $quality_videoTagElement$jscomp$3$$ = $quality_videoTagElement$jscomp$3$$.getVideoPlaybackQuality(), {$decoded$:$quality_videoTagElement$jscomp$3$$.totalVideoFrames, $dropped$:$quality_videoTagElement$jscomp$3$$.droppedVideoFrames};
  }
  if (void 0 !== $quality_videoTagElement$jscomp$3$$.webkitDecodedFrameCount) {
    return {$decoded$:$quality_videoTagElement$jscomp$3$$.webkitDecodedFrameCount, $dropped$:null !== ($_a$jscomp$62$$ = $quality_videoTagElement$jscomp$3$$.webkitDroppedFrameCount) && void 0 !== $_a$jscomp$62$$ ? $_a$jscomp$62$$ : 0};
  }
}
;function $JSCompiler_StaticMethods_calculateNetworkLossScore$$($JSCompiler_StaticMethods_calculateNetworkLossScore$self$$, $currInboundVideo_frameLost$$, $prevInboundVideo$$) {
  var $i$jscomp$27_intervalPacketLost$$ = $currInboundVideo_frameLost$$.packetsLost - $prevInboundVideo$$.packetsLost;
  let $currentScore$jscomp$3$$ = 100 - $i$jscomp$27_intervalPacketLost$$ / ($currInboundVideo_frameLost$$.packetsReceived - $prevInboundVideo$$.packetsReceived + $i$jscomp$27_intervalPacketLost$$) * 100;
  if (isNaN($currentScore$jscomp$3$$) || void 0 === $currentScore$jscomp$3$$) {
    $currentScore$jscomp$3$$ = 0;
  }
  $currInboundVideo_frameLost$$ = $currInboundVideo_frameLost$$.pliCount - $prevInboundVideo$$.pliCount;
  0 < $currInboundVideo_frameLost$$ && $i$jscomp$27_intervalPacketLost$$ && ($currentScore$jscomp$3$$ = 0);
  for ($i$jscomp$27_intervalPacketLost$$ = 0; $i$jscomp$27_intervalPacketLost$$ < $currInboundVideo_frameLost$$ + 1; $i$jscomp$27_intervalPacketLost$$++) {
    $JSCompiler_StaticMethods_calculateNetworkLossScore$self$$.networkLossScore = 7 * $JSCompiler_StaticMethods_calculateNetworkLossScore$self$$.networkLossScore / 8 + $currentScore$jscomp$3$$ / 8;
  }
}
function $JSCompiler_StaticMethods_GetStreamQuality$$($JSCompiler_StaticMethods_GetStreamQuality$self$$) {
  $JSCompiler_StaticMethods_GetStreamQuality$self$$.qualityScore = 3 * $JSCompiler_StaticMethods_GetStreamQuality$self$$.qualityScore / 4 + Math.min($JSCompiler_StaticMethods_GetStreamQuality$self$$.latencyScore, $JSCompiler_StaticMethods_GetStreamQuality$self$$.networkLossScore, $JSCompiler_StaticMethods_GetStreamQuality$self$$.bandwidthScore) / 4;
  return {latencyScore:$JSCompiler_StaticMethods_GetStreamQuality$self$$.latencyScore, networkLossScore:$JSCompiler_StaticMethods_GetStreamQuality$self$$.networkLossScore, bandwidthScore:$JSCompiler_StaticMethods_GetStreamQuality$self$$.bandwidthScore, qualityScore:$JSCompiler_StaticMethods_GetStreamQuality$self$$.qualityScore};
}
var $module$exports$output$stats$qoscalculator$QosCalculator$$ = class {
  constructor($maxBitRate$$) {
    this.maxBitrate = $maxBitRate$$ / 1000;
    this.networkLossScore = this.bandwidthScore = this.latencyScore = this.qualityScore = 100;
  }
};
function $JSCompiler_StaticMethods_getRollingAvg$$($JSCompiler_StaticMethods_getRollingAvg$self$$) {
  const $count$jscomp$50$$ = $JSCompiler_StaticMethods_getRollingAvg$self$$.$j$ - $JSCompiler_StaticMethods_getRollingAvg$self$$.$g$;
  return 0 != $count$jscomp$50$$ ? ($JSCompiler_StaticMethods_getRollingAvg$self$$.$l$ - $JSCompiler_StaticMethods_getRollingAvg$self$$.$h$) / $count$jscomp$50$$ : 0;
}
class $module$contents$output$stats$streamstats_RollingAverage$$ {
  constructor() {
    this.$j$ = this.$g$ = this.$l$ = this.$h$ = 0;
  }
  update($sum$$, $count$jscomp$49$$) {
    0 == this.$h$ && 0 == this.$g$ ? (this.$h$ = $sum$$, this.$g$ = $count$jscomp$49$$) : (this.$j$ = $count$jscomp$49$$, this.$l$ = $sum$$);
  }
  reset() {
    this.$h$ = this.$l$;
    this.$g$ = this.$j$;
  }
}
function $JSCompiler_StaticMethods_updateAvgStreamingRate$$($JSCompiler_StaticMethods_updateAvgStreamingRate$self$$, $currentReport$jscomp$1_t1$jscomp$1$$, $prevReport_t2$$) {
  var $_a$jscomp$63_prevBytesReceived$$, $_b$jscomp$30$$, $_c$jscomp$17$$, $_d$jscomp$16$$;
  let $currentBytesReceived$$ = null !== ($_a$jscomp$63_prevBytesReceived$$ = $currentReport$jscomp$1_t1$jscomp$1$$.bytesReceived) && void 0 !== $_a$jscomp$63_prevBytesReceived$$ ? $_a$jscomp$63_prevBytesReceived$$ : 0;
  $_a$jscomp$63_prevBytesReceived$$ = null !== ($_b$jscomp$30$$ = $prevReport_t2$$.bytesReceived) && void 0 !== $_b$jscomp$30$$ ? $_b$jscomp$30$$ : 0;
  $currentReport$jscomp$1_t1$jscomp$1$$ = null !== ($_c$jscomp$17$$ = $currentReport$jscomp$1_t1$jscomp$1$$.timestamp) && void 0 !== $_c$jscomp$17$$ ? $_c$jscomp$17$$ : 0;
  $prevReport_t2$$ = null !== ($_d$jscomp$16$$ = $prevReport_t2$$.timestamp) && void 0 !== $_d$jscomp$16$$ ? $_d$jscomp$16$$ : 0;
  $currentReport$jscomp$1_t1$jscomp$1$$ != $prevReport_t2$$ && ($JSCompiler_StaticMethods_updateAvgStreamingRate$self$$.$s$ = ($currentBytesReceived$$ - $_a$jscomp$63_prevBytesReceived$$) / (125 * ($currentReport$jscomp$1_t1$jscomp$1$$ - $prevReport_t2$$)));
}
function $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$$($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$, $stats$$) {
  $stats$$.frameWidth && $stats$$.frameHeight && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.streamingResolution = {width:$stats$$.frameWidth, height:$stats$$.frameHeight});
  if ($stats$$.framesDecoded) {
    const $t1$jscomp$2$$ = $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$I$, $t2$jscomp$1$$ = $stats$$.timestamp;
    $t1$jscomp$2$$ !== $t2$jscomp$1$$ && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.fps = Math.floor(($stats$$.framesDecoded - $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$A$) / ($t2$jscomp$1$$ - $t1$jscomp$2$$) * 1000));
    $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$A$ = $stats$$.framesDecoded;
    $stats$$.totalDecodeTime && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$m$.update($stats$$.totalDecodeTime, $stats$$.framesDecoded), $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$cumulativeAvgDecodeTime$ = 1000 * $stats$$.totalDecodeTime / $stats$$.framesDecoded);
  }
  $stats$$.framesReceived && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$G$ = $stats$$.framesReceived, $stats$$.totalInterFrameDelay && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$H$ = 1000 * $stats$$.totalInterFrameDelay / ($stats$$.framesReceived - 1)));
  $stats$$.framesDropped && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$F$ = $stats$$.framesDropped);
  $stats$$.packetsLost && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$C$ = $stats$$.packetsLost);
  $stats$$.pliCount && ($JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$u$ = $stats$$.pliCount);
  $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$self$$.$I$ = $stats$$.timestamp;
}
function $JSCompiler_StaticMethods_drawStatsOnScreen$$($JSCompiler_StaticMethods_drawStatsOnScreen$self$$, $enableDevStats$$) {
  var $_a$jscomp$inline_564_text$jscomp$inline_568$$, $internalStatsLine1$jscomp$inline_569_line1$jscomp$inline_565$$ = `Seat: ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.zoneName} (${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.$requestedRegion$}) / ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.gpuType}\n`, $internalStatsLine2$jscomp$inline_570_line2$jscomp$inline_566$$ = `Game: CMS ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.appId}`;
  void 0 !== $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.avgGameFps && ($internalStatsLine2$jscomp$inline_570_line2$jscomp$inline_566$$ += ` / fps ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.avgGameFps.toFixed()}`);
  var $internalStatsLine3$jscomp$inline_571_line3$jscomp$inline_567$$ = `Stream: Current ${$module$contents$output$util$utils_GetResolutionString$$($JSCompiler_StaticMethods_drawStatsOnScreen$self$$.streamingResolution)}@${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.fps} / Default: ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.streamInfo.width}x${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.streamInfo.height}@${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.streamInfo.fps} / Codec ${null !== 
  ($_a$jscomp$inline_564_text$jscomp$inline_568$$ = $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.codec) && void 0 !== $_a$jscomp$inline_564_text$jscomp$inline_568$$ ? $_a$jscomp$inline_564_text$jscomp$inline_568$$ : ""}\n`;
  $_a$jscomp$inline_564_text$jscomp$inline_568$$ = $internalStatsLine1$jscomp$inline_569_line1$jscomp$inline_565$$ + ($internalStatsLine2$jscomp$inline_570_line2$jscomp$inline_566$$ + "\n") + $internalStatsLine3$jscomp$inline_571_line3$jscomp$inline_567$$ + `Network: RTD ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.rtd}ms / FL ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$u$} / PL ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$C$} / J ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$D$.toFixed(2)}ms / Bitrate ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$s$.toFixed(2)}Mbps / BWU ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$bwu$.toFixed(2)}%\n` + 
  `QOS: frame ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$A$} / FT ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$H$.toFixed(2)} / D ${(1000 * $JSCompiler_StaticMethods_getRollingAvg$$($JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$m$)).toFixed(2)} / Q ${Math.floor($JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$o$.qualityScore)}\n` + `Client: ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$platformDetails$.os} ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.clientAppVersion} ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$h$.clientLocale} Resolution ${$module$contents$output$util$utils_GetResolutionString$$({width:window.innerWidth * 
  window.devicePixelRatio, height:window.innerHeight * window.devicePixelRatio})}\n` + `Input ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$inputMode$}\n`;
  $internalStatsLine1$jscomp$inline_569_line1$jscomp$inline_565$$ = `DC ${$module$contents$output$stats$streamstats_getAvg$$($JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$j$)}ms (${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$j$.max.toFixed(2)}ms) / Blocked ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$B$}\n`;
  $internalStatsLine2$jscomp$inline_570_line2$jscomp$inline_566$$ = `Stats ${$module$contents$output$stats$streamstats_getAvg$$($JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$l$)}ms (${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$l$.max.toFixed(2)}ms) / FR ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$G$} / FDR ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$F$}\n`;
  $internalStatsLine3$jscomp$inline_571_line3$jscomp$inline_567$$ = `Latency ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$o$.latencyScore.toFixed(1)} / Network ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$o$.networkLossScore.toFixed(1)} / Bandwidth ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$o$.bandwidthScore.toFixed(1)}\n`;
  const $internalStatsLine4$jscomp$inline_572$$ = `VP ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$isVideoElementPaused$ ? "y" : "n"} / AP ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$isAudioElementPaused$ ? "y" : "n"} / UI ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$isUserInputEnabled$ ? "y" : "n"} / VKB ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$isVirtualKeyboardVisible$ ? "y" : "n"} / MS ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$micState$} / RSDMM ${+$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.$isRsdmmActive$}\n`, 
  $internalStatsLine5$jscomp$inline_573$$ = `KBL ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.keyboardLayout} / ALM ${+$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$g$.appLaunchMode} / SWD ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$L$ ? "y" : "n"} / ${$JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$decoder$}`;
  $enableDevStats$$ && ($_a$jscomp$inline_564_text$jscomp$inline_568$$ += $internalStatsLine1$jscomp$inline_569_line1$jscomp$inline_565$$ + $internalStatsLine2$jscomp$inline_570_line2$jscomp$inline_566$$ + $internalStatsLine3$jscomp$inline_571_line3$jscomp$inline_567$$ + $internalStatsLine4$jscomp$inline_572$$ + $internalStatsLine5$jscomp$inline_573$$);
  $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$J$.innerText = $_a$jscomp$inline_564_text$jscomp$inline_568$$;
  $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$j$ = {value:0, count:0, max:0};
  $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$l$ = {value:0, count:0, max:0};
  $JSCompiler_StaticMethods_drawStatsOnScreen$self$$.$m$.reset();
}
function $JSCompiler_StaticMethods_updateVideoCodec$$($JSCompiler_StaticMethods_updateVideoCodec$self$$, $codec$$) {
  $codec$$ = $codec$$.toUpperCase();
  $codec$$.includes("H265") ? $JSCompiler_StaticMethods_updateVideoCodec$self$$.codec = 5 : $codec$$.includes("AV1") ? $JSCompiler_StaticMethods_updateVideoCodec$self$$.codec = 6 : $JSCompiler_StaticMethods_updateVideoCodec$self$$.codec = 4;
}
var $module$exports$output$stats$streamstats$StreamStats$$ = class {
  constructor($overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$, $platformDetails$jscomp$34$$, $staticStreamStats$$) {
    this.$s$ = this.fps = 0;
    this.$bwu$ = 4;
    this.$C$ = this.rtd = this.$D$ = this.$F$ = this.$G$ = this.$A$ = this.$I$ = this.$v$ = 0;
    this.streamingResolution = {width:0, height:0};
    this.$B$ = this.$H$ = 0;
    this.$j$ = {count:0, max:0, value:0};
    this.$l$ = {count:0, max:0, value:0};
    this.$m$ = new $module$contents$output$stats$streamstats_RollingAverage$$();
    this.$K$ = this.$u$ = this.$cumulativeAvgDecodeTime$ = 0;
    this.$L$ = !1;
    this.$decoder$ = "";
    this.$videoElement$ = $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$;
    this.$platformDetails$ = $platformDetails$jscomp$34$$;
    this.$h$ = $staticStreamStats$$;
    this.$o$ = {qualityScore:0, bandwidthScore:0, networkLossScore:0, latencyScore:0};
    $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$ = document.getElementById("overlay-543d9968");
    $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$ || ($overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$ = document.createElement("div"), $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.id = "overlay-543d9968", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.display = "none", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.position = "fixed", $module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$) ? ($overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.top = 
    "env(safe-area-inset-top, 0)", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.left = "max(24px, env(safe-area-inset-left, 0))") : ($overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.top = "0", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.left = "0"), $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.padding = "0.5em", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.backgroundColor = "rgba(0,0,0,0.5)", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.zIndex = 
    "300", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.fontSize = "12px", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.fontFamily = "monospace", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.color = "white", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.whiteSpace = "pre", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.lineHeight = "100%", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$.style.pointerEvents = 
    "none", this.$videoElement$.insertAdjacentElement("afterend", $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$));
    this.$J$ = $overlay_overlay$jscomp$inline_576_videoElement$jscomp$5$$;
    this.$g$ = {$isVideoElementPaused$:!1, $isAudioElementPaused$:!1, $isUserInputEnabled$:!1, $isVirtualKeyboardVisible$:!1, $micState$:0, $isRsdmmActive$:!1, keyboardLayout:"", appLaunchMode:0, $inputMode$:""};
  }
};
function $module$contents$output$stats$streamstats_getAvg$$($stats$jscomp$2$$) {
  let $avg$$ = 0;
  0 < $stats$jscomp$2$$.count && ($avg$$ = $stats$jscomp$2$$.value / $stats$jscomp$2$$.count);
  return $avg$$.toFixed(2);
}
;var $module$exports$output$stats$webrtcbinarystats$statsConfig$depr$$ = {size:70, version:1, name:"DEPR"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpv$$ = {size:80, version:3, name:"RTPV"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$rtpa$$ = {size:48, version:1, name:"RTPA"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$traa$$ = {size:88, version:1, name:"TRAA"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$trav$$ = {size:44, version:1, 
name:"TRAV"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$vfmd$$ = {size:12, version:1, name:"VFMD"}, $module$exports$output$stats$webrtcbinarystats$statsConfig$pfda$$ = {size:20, version:1, name:"PFDA"};
function $JSCompiler_StaticMethods_sendCachedVfmdStats$$($JSCompiler_StaticMethods_sendCachedVfmdStats$self$$) {
  0 < $JSCompiler_StaticMethods_sendCachedVfmdStats$self$$.$g$.length && ($JSCompiler_StaticMethods_addStatsReport$$($JSCompiler_StaticMethods_sendCachedVfmdStats$self$$.$g$, 5), $JSCompiler_StaticMethods_sendCachedVfmdStats$self$$.$g$ = []);
}
var $module$exports$output$stats$binaryreport$BinaryReport$$ = class {
  constructor() {
    this.$j$ = this.framesDropped = this.$l$ = this.pliCount = this.framesDecoded = this.$m$ = this.$s$ = this.$o$ = this.$u$ = this.$v$ = 0;
    this.$g$ = [];
    this.$h$ = -1;
  }
  sendVideoTrack($videoTrack$jscomp$1$$) {
    const $recentFramesDropped$$ = $videoTrack$jscomp$1$$.framesDropped || 0;
    $recentFramesDropped$$ >= this.$j$ && (this.framesDropped = $recentFramesDropped$$ - this.$j$, this.$j$ = $recentFramesDropped$$);
    const $buffer$jscomp$21$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$trav$$.size), $view$jscomp$14$$ = new DataView($buffer$jscomp$21$$);
    $view$jscomp$14$$.setUint32(0, $videoTrack$jscomp$1$$.framesDecoded || 0, !0);
    $view$jscomp$14$$.setUint32(4, $recentFramesDropped$$, !0);
    $view$jscomp$14$$.setUint32(8, $videoTrack$jscomp$1$$.frameHeight || 0, !0);
    $view$jscomp$14$$.setUint32(12, $videoTrack$jscomp$1$$.frameWidth || 0, !0);
    $view$jscomp$14$$.setUint32(16, $videoTrack$jscomp$1$$.framesReceived || 0, !0);
    $view$jscomp$14$$.setFloat64(20, $videoTrack$jscomp$1$$.jitterBufferDelay || 0, !0);
    $module$contents$output$util$utils_setUint64$$($videoTrack$jscomp$1$$.jitterBufferEmittedCount || 0, $view$jscomp$14$$, 28, !0);
    $view$jscomp$14$$.setFloat64(36, $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), !0);
    $JSCompiler_StaticMethods_addStatsReport$$([$buffer$jscomp$21$$], 3);
  }
};
async function $module$contents$output$util$devicecapabilities_GetDeviceCapabilitiesImpl$$($audioChannelCount_exception$jscomp$6$$) {
  var $screenWidth$jscomp$1$$ = screen.width, $displayMode_screenHeight$jscomp$1$$ = screen.height, $dpr$jscomp$3_maxAutoMode$$ = window.devicePixelRatio;
  [$screenWidth$jscomp$1$$, $displayMode_screenHeight$jscomp$1$$] = $module$contents$output$util$utils_MakeLandscapeResolution$$([$screenWidth$jscomp$1$$, $displayMode_screenHeight$jscomp$1$$]);
  $displayMode_screenHeight$jscomp$1$$ = {width:Math.round($screenWidth$jscomp$1$$ * $dpr$jscomp$3_maxAutoMode$$), height:Math.round($displayMode_screenHeight$jscomp$1$$ * $dpr$jscomp$3_maxAutoMode$$), fps:60, scaleFactor:Math.round(100 * $dpr$jscomp$3_maxAutoMode$$)};
  $dpr$jscomp$3_maxAutoMode$$ = void 0;
  $audioChannelCount_exception$jscomp$6$$ & 4 || $audioChannelCount_exception$jscomp$6$$ & 8 ? $dpr$jscomp$3_maxAutoMode$$ = {width:3840, height:2160, fps:$displayMode_screenHeight$jscomp$1$$.fps} : $audioChannelCount_exception$jscomp$6$$ & 2 && 1366 <= $screenWidth$jscomp$1$$ && ($dpr$jscomp$3_maxAutoMode$$ = {width:1600, height:1200, fps:$displayMode_screenHeight$jscomp$1$$.fps});
  $audioChannelCount_exception$jscomp$6$$ = await $module$contents$output$util$utils_GetSupportedAudioChannelCountAsync$$();
  return {displayMode:$displayMode_screenHeight$jscomp$1$$, maxAutoMode:$dpr$jscomp$3_maxAutoMode$$, maxSupportedModes:[{width:3840, height:2400, fps:120}], features:{vsync:!0, vvsync:!1, hdr:!1, reflex:!1, audioChannelCount:$audioChannelCount_exception$jscomp$6$$}};
}
function $module$contents$output$util$devicecapabilities_ConvertCapabilityToNumber$$($capability$$) {
  let $numCapability$$ = 0;
  if (null === $capability$$ || void 0 === $capability$$ ? 0 : $capability$$.supported) {
    $numCapability$$ |= 1;
  }
  if (null === $capability$$ || void 0 === $capability$$ ? 0 : $capability$$.smooth) {
    $numCapability$$ |= 2;
  }
  if (null === $capability$$ || void 0 === $capability$$ ? 0 : $capability$$.powerEfficient) {
    $numCapability$$ |= 4;
  }
  return $numCapability$$;
}
function $JSCompiler_StaticMethods_getDecodeCapability$$($codec$jscomp$1$$, $width$jscomp$34$$ = 1920, $height$jscomp$30$$ = 1080, $framerate$$ = 60) {
  const $mediaCapabilities$jscomp$1$$ = navigator.mediaCapabilities;
  return $mediaCapabilities$jscomp$1$$ ? $mediaCapabilities$jscomp$1$$.decodingInfo({type:"webrtc", video:{contentType:"video/" + $codec$jscomp$1$$, width:$width$jscomp$34$$, height:$height$jscomp$30$$, framerate:$framerate$$, bitrate:1000 * $module$contents$output$util$utils_CalculateMaxBitrateKbps$$($width$jscomp$34$$, $height$jscomp$30$$, $framerate$$)}}).catch($error$jscomp$16$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{5083445}", "{f5c2155}", $codec$jscomp$1$$, $error$jscomp$16$$);
  }) : Promise.resolve(void 0);
}
function $JSCompiler_StaticMethods_getAv1Capabilities$$() {
  var $JSCompiler_StaticMethods_getAv1Capabilities$self$$ = $module$exports$output$util$devicecapabilities$CapabilitiesHelper$$;
  return $JSCompiler_StaticMethods_getAv1Capabilities$self$$.$l$ ? Promise.resolve($JSCompiler_StaticMethods_getAv1Capabilities$self$$.$l$) : $JSCompiler_StaticMethods_getAv1Capabilities$self$$.$g$ ? $JSCompiler_StaticMethods_getAv1Capabilities$self$$.$g$ : $JSCompiler_StaticMethods_getAv1Capabilities$self$$.$m$();
}
function $JSCompiler_StaticMethods_getRefreshRate$$($JSCompiler_StaticMethods_getRefreshRate$self$$, $reCalculate$$) {
  $reCalculate$$ && ($JSCompiler_StaticMethods_getRefreshRate$self$$.refreshRate = void 0);
  return $JSCompiler_StaticMethods_getRefreshRate$self$$.refreshRate ? Promise.resolve($JSCompiler_StaticMethods_getRefreshRate$self$$.refreshRate) : $JSCompiler_StaticMethods_getRefreshRate$self$$.$j$ ? $JSCompiler_StaticMethods_getRefreshRate$self$$.$j$ : $JSCompiler_StaticMethods_fetchRefreshRate$$($JSCompiler_StaticMethods_getRefreshRate$self$$);
}
async function $JSCompiler_StaticMethods_is120FpsSupported$$() {
  return 117 <= await $JSCompiler_StaticMethods_getRefreshRate$$($module$exports$output$util$devicecapabilities$CapabilitiesHelper$$, !1) ? !0 : !1;
}
function $JSCompiler_StaticMethods_fetchRefreshRate$$($JSCompiler_StaticMethods_fetchRefreshRate$self$$) {
  $JSCompiler_StaticMethods_fetchRefreshRate$self$$.$j$ = $JSCompiler_StaticMethods_calcRefreshRate$$().then($refreshRate$jscomp$3$$ => {
    $JSCompiler_StaticMethods_fetchRefreshRate$self$$.refreshRate = $refreshRate$jscomp$3$$;
    return $JSCompiler_StaticMethods_fetchRefreshRate$self$$.refreshRate;
  }, () => {
    var $_a$jscomp$67$$;
    return null !== ($_a$jscomp$67$$ = $JSCompiler_StaticMethods_fetchRefreshRate$self$$.refreshRate) && void 0 !== $_a$jscomp$67$$ ? $_a$jscomp$67$$ : 0;
  });
  return $JSCompiler_StaticMethods_fetchRefreshRate$self$$.$j$;
}
function $JSCompiler_StaticMethods_calcRefreshRate$$() {
  return new Promise(($resolve_$jscomp$1$$, $reject_$jscomp$1$$) => {
    let $aborted$$ = !1;
    const $timeOutId$$ = window.setTimeout(() => {
      $aborted$$ = !0;
    }, 4000), $times$$ = [];
    let $refreshRate$jscomp$4$$, $width$jscomp$35$$ = window.innerWidth, $height$jscomp$31$$ = window.innerHeight, $screenX$jscomp$3$$ = window.screenX, $screenY$jscomp$3$$ = window.screenY;
    const $refreshRateLoop$$ = () => {
      window.requestAnimationFrame(() => {
        if ($aborted$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.w("{5083445}", "{0b0c6f9}", "Timed out during the refreshRate loop"), window.clearTimeout($timeOutId$$), $reject_$jscomp$1$$();
        } else {
          if (window.innerWidth != $width$jscomp$35$$ || window.innerHeight != $height$jscomp$31$$ || $screenX$jscomp$3$$ != window.screenX || $screenY$jscomp$3$$ != window.screenY) {
            $width$jscomp$35$$ = window.innerWidth;
            $height$jscomp$31$$ = window.innerHeight;
            $screenX$jscomp$3$$ = window.screenX;
            $screenY$jscomp$3$$ = window.screenY;
            var $JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ = !0;
          } else {
            $JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ = !1;
          }
          $JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.w("{5083445}", "{824b461}"), $times$$.length = 0, $refreshRateLoop$$()) : ($JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ = performance.now(), $times$$.length && $times$$[0] <= $JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ - 2000 ? ($refreshRate$jscomp$4$$ = Math.floor($times$$.length / 2), $module$exports$rtcutils_core$output$logger$Log$$.d("{5083445}", 
          "{8c3d290}", $refreshRate$jscomp$4$$, $times$$[$times$$.length - 1] - $times$$[0]), $JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$ = $refreshRate$jscomp$4$$, window.clearTimeout($timeOutId$$), $resolve_$jscomp$1$$($JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$)) : ($times$$.push($JSCompiler_inline_result$jscomp$67_now$jscomp$7_response$jscomp$inline_579$$), $refreshRateLoop$$()));
        }
      });
    };
    $refreshRateLoop$$();
  });
}
var $module$exports$output$util$devicecapabilities$CapabilitiesHelper$$ = new class {
  constructor() {
    $module$contents$output$util$utils_tasksToRunOnInit$$.push(this.$s$.bind(this));
    $module$contents$output$util$utils_tasksToRunOnInit$$.push(this.$m$.bind(this));
    $module$contents$output$util$utils_tasksToRunOnInit$$.push(this.$o$.bind(this));
  }
  $m$() {
    return this.$g$ = $JSCompiler_StaticMethods_getDecodeCapability$$("av1").then($capability$jscomp$1$$ => this.$l$ = $capability$jscomp$1$$);
  }
  $o$() {
    return this.$h$ = Promise.resolve(void 0);
  }
  async $s$() {
    return 117 <= await $JSCompiler_StaticMethods_getRefreshRate$$(this, !0) ? !0 : !1;
  }
}();
async function $module$contents$output$util$devicecapabilities_IsAv1Supported$$($result$jscomp$13_streamInfo$$, $platformDetails$jscomp$36$$) {
  var $_a$jscomp$68_allowAv1ByResolutionAndFps$$, $_b$jscomp$32$$, $_c$jscomp$18$$;
  const $allowAv1$$ = null !== ($_b$jscomp$32$$ = null !== ($_a$jscomp$68_allowAv1ByResolutionAndFps$$ = $module$exports$output$util$settings$RagnarokSettings$$.enableAv1Support) && void 0 !== $_a$jscomp$68_allowAv1ByResolutionAndFps$$ ? $_a$jscomp$68_allowAv1ByResolutionAndFps$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.enableAv1Support) && void 0 !== $_b$jscomp$32$$ ? $_b$jscomp$32$$ : !1;
  $_a$jscomp$68_allowAv1ByResolutionAndFps$$ = null !== ($_c$jscomp$18$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.enableAv1ByResolutionAndFps) && void 0 !== $_c$jscomp$18$$ ? $_c$jscomp$18$$ : 7;
  if (!$allowAv1$$ || 4953600 <= $result$jscomp$13_streamInfo$$.width * $result$jscomp$13_streamInfo$$.height && !($_a$jscomp$68_allowAv1ByResolutionAndFps$$ & 4) || $module$contents$output$util$utils_IsResolution1440p$$($result$jscomp$13_streamInfo$$.width, $result$jscomp$13_streamInfo$$.height) && !($_a$jscomp$68_allowAv1ByResolutionAndFps$$ & 2) || 120 === $result$jscomp$13_streamInfo$$.fps && !($_a$jscomp$68_allowAv1ByResolutionAndFps$$ & 1)) {
    return !1;
  }
  if ($module$contents$rtcutils_core$output$utils_IsWebOS$$($platformDetails$jscomp$36$$) && void 0 != window.lge_webrtc_av1_support) {
    return window.lge_webrtc_av1_support;
  }
  $result$jscomp$13_streamInfo$$ = await $JSCompiler_StaticMethods_getAv1Capabilities$$();
  return (null === $result$jscomp$13_streamInfo$$ || void 0 === $result$jscomp$13_streamInfo$$ ? 0 : $result$jscomp$13_streamInfo$$.powerEfficient) ? !0 : !1;
}
async function $module$contents$output$util$devicecapabilities_IsH265Supported$$($JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$) {
  if ($module$contents$rtcutils_core$output$utils_IsWebOS$$($JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$) && void 0 != window.lge_webrtc_hevc_support) {
    return window.lge_webrtc_hevc_support;
  }
  if ("Tizen" === $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.os) {
    return !0;
  }
  $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$ = $module$exports$output$util$devicecapabilities$CapabilitiesHelper$$;
  $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$ = await ($JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.$u$ ? Promise.resolve($JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.$u$) : $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.$h$ ? 
  $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.$h$ : $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.$o$());
  return (null === $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$ || void 0 === $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$ ? 0 : $JSCompiler_StaticMethods_getH265Capabilities$self$jscomp$inline_587_platformDetails$jscomp$37_result$jscomp$14$$.powerEfficient) ? !0 : !1;
}
async function $module$contents$output$util$devicecapabilities_GetCodecList$$($av1Check_streamInfo$jscomp$1$$, $h265Check_platformDetails$jscomp$38$$) {
  var $_a$jscomp$69$$;
  let $codecs$jscomp$2$$ = [];
  const $codecList$$ = null !== ($_a$jscomp$69$$ = $module$exports$output$util$settings$RagnarokSettings$$.codecList) && void 0 !== $_a$jscomp$69$$ ? $_a$jscomp$69$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.codecList;
  if ($codecList$$) {
    for (const $codec$jscomp$2$$ of $codecList$$) {
      $codecs$jscomp$2$$.push($codec$jscomp$2$$);
    }
  } else {
    $av1Check_streamInfo$jscomp$1$$ = $module$contents$output$util$devicecapabilities_IsAv1Supported$$($av1Check_streamInfo$jscomp$1$$, $h265Check_platformDetails$jscomp$38$$), $h265Check_platformDetails$jscomp$38$$ = $module$contents$output$util$devicecapabilities_IsH265Supported$$($h265Check_platformDetails$jscomp$38$$), await $av1Check_streamInfo$jscomp$1$$ && $codecs$jscomp$2$$.push("AV1"), await $h265Check_platformDetails$jscomp$38$$ && $codecs$jscomp$2$$.push("H265"), $codecs$jscomp$2$$.push("H264");
  }
  return $codecs$jscomp$2$$;
}
;function $module$exports$output$debug$ldatcontroller$LDATController$GetAvgLuminance$$($source$jscomp$18$$, $x$jscomp$116$$, $y$jscomp$91$$, $width$jscomp$36$$, $height$jscomp$32$$) {
  return new Promise(($resolve$jscomp$17$$, $reject$jscomp$15$$) => {
    window.setTimeout(() => {
      a: {
        if (0 >= $width$jscomp$36$$ || 0 >= $height$jscomp$32$$) {
          var $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ = -1;
        } else {
          var $context$jscomp$inline_594_sum$jscomp$inline_596$$ = (new OffscreenCanvas($width$jscomp$36$$, $height$jscomp$32$$)).getContext("2d");
          if ($context$jscomp$inline_594_sum$jscomp$inline_596$$) {
            try {
              $context$jscomp$inline_594_sum$jscomp$inline_596$$.drawImage($source$jscomp$18$$, $x$jscomp$116$$, $y$jscomp$91$$, $width$jscomp$36$$, $height$jscomp$32$$, 0, 0, $width$jscomp$36$$, $height$jscomp$32$$), $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ = $context$jscomp$inline_594_sum$jscomp$inline_596$$.getImageData(0, 0, $width$jscomp$36$$, $height$jscomp$32$$).data;
            } catch ($err$jscomp$inline_598$$) {
              $module$exports$rtcutils_core$output$logger$Log$$.e("{0c7ed7c}", "{b16b792}", $err$jscomp$inline_598$$);
              $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ = -1;
              break a;
            }
            var $count$jscomp$inline_597$$ = $context$jscomp$inline_594_sum$jscomp$inline_596$$ = 0;
            for (let $i$jscomp$inline_599$$ = 0; $i$jscomp$inline_599$$ < $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$.length - 3; $i$jscomp$inline_599$$ += 4) {
              $context$jscomp$inline_594_sum$jscomp$inline_596$$ += 0.2126 * $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$[$i$jscomp$inline_599$$] + 0.7152 * $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$[$i$jscomp$inline_599$$ + 1] + 0.0722 * $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$[$i$jscomp$inline_599$$ + 2], $count$jscomp$inline_597$$++;
            }
            $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ = $context$jscomp$inline_594_sum$jscomp$inline_596$$ / $count$jscomp$inline_597$$ / 255;
          } else {
            $module$exports$rtcutils_core$output$logger$Log$$.e("{0c7ed7c}", "{b72639c}"), $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ = -1;
          }
        }
      }
      -1 === $JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$ && $reject$jscomp$15$$(-1);
      $resolve$jscomp$17$$($JSCompiler_inline_result$jscomp$68_data$jscomp$inline_595_luma$jscomp$1$$);
    }, 0);
  });
}
function $JSCompiler_StaticMethods_JSC$2768_setActive$$($JSCompiler_StaticMethods_JSC$2768_setActive$self$$, $active$$) {
  $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.active !== $active$$ && (($JSCompiler_StaticMethods_JSC$2768_setActive$self$$.active = $active$$) ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{0c7ed7c}", "{b56e30d}"), $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$videoElement$.dispatchEvent(new Event("focus", {bubbles:!0})), $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$videoElement$.addEventListener("pointerdown", $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$j$), 
  $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$videoElement$.addEventListener("mousedown", $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$j$)) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{0c7ed7c}", "{00425c2}"), $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$videoElement$.removeEventListener("pointerdown", $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$j$), $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$videoElement$.removeEventListener("mousedown", $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$j$), 
  $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$g$ = [], $JSCompiler_StaticMethods_JSC$2768_setActive$self$$.$h$ = []));
}
function $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$$($JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$, $rect$jscomp$3$$) {
  const $videoWidth$$ = $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$.$videoElement$.videoWidth;
  $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$ = $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$.$videoElement$.videoHeight;
  return new DOMRect($rect$jscomp$3$$.x * $videoWidth$$, $rect$jscomp$3$$.y * $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$, $rect$jscomp$3$$.width * $videoWidth$$, $rect$jscomp$3$$.height * $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$self_videoHeight$$);
}
function $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$$($JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$, $now$jscomp$8_rect$jscomp$1$$, $metadata$jscomp$1$$) {
  $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.push({presentedFrames:$metadata$jscomp$1$$.presentedFrames, $videoFrameCallbackTime$:$now$jscomp$8_rect$jscomp$1$$, presentationTime:$metadata$jscomp$1$$.presentationTime, receiveTime:$metadata$jscomp$1$$.receiveTime, processingDuration:$metadata$jscomp$1$$.processingDuration});
  $now$jscomp$8_rect$jscomp$1$$ = $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$$($JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$, $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$l$);
  $module$exports$output$debug$ldatcontroller$LDATController$GetAvgLuminance$$($JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$videoElement$, $now$jscomp$8_rect$jscomp$1$$.x, $now$jscomp$8_rect$jscomp$1$$.y, $now$jscomp$8_rect$jscomp$1$$.width, $now$jscomp$8_rect$jscomp$1$$.height).then($luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$ => {
    var $presentedFrames$jscomp$inline_603$$ = $metadata$jscomp$1$$.presentedFrames, $_a$jscomp$inline_604$$;
    const $frameTimingData$jscomp$inline_605$$ = $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$[$JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.length - 1];
    if ($presentedFrames$jscomp$inline_603$$ !== $frameTimingData$jscomp$inline_605$$.presentedFrames) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{0c7ed7c}", "{06323ea}", $presentedFrames$jscomp$inline_603$$);
    } else {
      for ($frameTimingData$jscomp$inline_605$$.$luma$ = $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$; 32 < $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.length;) {
        $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.shift();
      }
      if (1 != $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.length && ($luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$ = $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$[$JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$g$.length - 2], !($luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$.presentedFrames < $presentedFrames$jscomp$inline_603$$ - 2 || void 0 === $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$.$luma$ || 
      -1 === $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$.$luma$) && $frameTimingData$jscomp$inline_605$$.$luma$ - $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$.$luma$ > $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$m$)) {
        $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$ = 0;
        let $mostRecentMouseClick$jscomp$inline_608$$;
        const $frameLatencyData$jscomp$inline_609$$ = {presentedFrames:$presentedFrames$jscomp$inline_603$$, $videoFrameCallbackTime$:$frameTimingData$jscomp$inline_605$$.$videoFrameCallbackTime$, presentationTime:$frameTimingData$jscomp$inline_605$$.presentationTime, receiveTime:$frameTimingData$jscomp$inline_605$$.receiveTime, processingDuration:$frameTimingData$jscomp$inline_605$$.processingDuration, $mouseClickTime$:0, $mouseClickCallbackTime$:0};
        for (; $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$h$.length && $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$h$[0].$mouseClickTime$ < (null !== ($_a$jscomp$inline_604$$ = $frameTimingData$jscomp$inline_605$$.receiveTime) && void 0 !== $_a$jscomp$inline_604$$ ? $_a$jscomp$inline_604$$ : $frameTimingData$jscomp$inline_605$$.presentationTime);) {
          $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$++, $mostRecentMouseClick$jscomp$inline_608$$ = $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$h$.shift();
        }
        $mostRecentMouseClick$jscomp$inline_608$$ && (1 < $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$ && $module$exports$rtcutils_core$output$logger$Log$$.d("{0c7ed7c}", "{a4b8c55}", $presentedFrames$jscomp$inline_603$$, $luma_mouseClickCount$jscomp$inline_607_prevFrameTimingData$jscomp$inline_606$$), $frameLatencyData$jscomp$inline_609$$.$mouseClickTime$ = $mostRecentMouseClick$jscomp$inline_608$$.$mouseClickTime$, $frameLatencyData$jscomp$inline_609$$.$mouseClickCallbackTime$ = 
        $mostRecentMouseClick$jscomp$inline_608$$.$mouseClickCallbackTime$, $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$s$ && $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$self$$.$s$($frameLatencyData$jscomp$inline_609$$));
      }
    }
  });
}
function $JSCompiler_StaticMethods_isLoupeInPosition$$($JSCompiler_StaticMethods_isLoupeInPosition$self$$) {
  const $rect$jscomp$2$$ = $JSCompiler_StaticMethods_convertToVideoCoordinateSpace$$($JSCompiler_StaticMethods_isLoupeInPosition$self$$, $JSCompiler_StaticMethods_isLoupeInPosition$self$$.$l$);
  return 0 > $rect$jscomp$2$$.x || 0 > $rect$jscomp$2$$.y || $rect$jscomp$2$$.x + $rect$jscomp$2$$.width > $JSCompiler_StaticMethods_isLoupeInPosition$self$$.$videoElement$.videoWidth || $rect$jscomp$2$$.y + $rect$jscomp$2$$.height > $JSCompiler_StaticMethods_isLoupeInPosition$self$$.$videoElement$.videoHeight ? !1 : !0;
}
function $JSCompiler_StaticMethods_sendMouseClickEvent$$($JSCompiler_StaticMethods_sendMouseClickEvent$self$$) {
  const $options$jscomp$63$$ = {isPrimary:!0, pointerId:1, button:0};
  $JSCompiler_StaticMethods_sendMouseClickEvent$self$$.$videoElement$.dispatchEvent(new PointerEvent("pointerdown", $options$jscomp$63$$));
  $JSCompiler_StaticMethods_sendMouseClickEvent$self$$.$videoElement$.dispatchEvent(new MouseEvent("mousedown"));
  $JSCompiler_StaticMethods_sendMouseClickEvent$self$$.$videoElement$.dispatchEvent(new PointerEvent("pointerup", $options$jscomp$63$$));
  $JSCompiler_StaticMethods_sendMouseClickEvent$self$$.$videoElement$.dispatchEvent(new MouseEvent("mouseup"));
}
var $module$exports$output$debug$ldatcontroller$LDATController$$ = class {
  constructor($videoElement$jscomp$6$$) {
    this.active = !1;
    this.$m$ = 0.06;
    this.$l$ = new DOMRect(0, 0, 0, 0);
    this.$g$ = [];
    this.$h$ = [];
    this.$videoElement$ = $videoElement$jscomp$6$$;
    this.$j$ = this.$u$.bind(this);
  }
  $o$() {
    return this.active;
  }
  $u$($evt$jscomp$68$$) {
    if (!this.$g$.length) {
      $module$exports$rtcutils_core$output$logger$Log$$.w("{0c7ed7c}", "{fe08a50}");
    } else {
      if (!(this.$h$.length && 100 > $evt$jscomp$68$$.timeStamp - this.$h$[this.$h$.length - 1].$mouseClickTime$)) {
        for (this.$h$.push({$mouseClickTime$:$evt$jscomp$68$$.timeStamp, $mouseClickCallbackTime$:performance.now()}); 32 < this.$h$.length;) {
          this.$h$.shift();
        }
      }
    }
  }
};
function $JSCompiler_StaticMethods_styleAutoFireOverlay$$($JSCompiler_StaticMethods_styleAutoFireOverlay$self$$, $autoFire$$) {
  $JSCompiler_StaticMethods_styleAutoFireOverlay$self$$.$autoFireCheckbox$.checked = $autoFire$$;
  $JSCompiler_StaticMethods_styleAutoFireOverlay$self$$.$v$.disabled = !$autoFire$$;
  $JSCompiler_StaticMethods_styleAutoFireOverlay$self$$.$A$.disabled = !$autoFire$$;
  $JSCompiler_StaticMethods_styleAutoFireOverlay$self$$.$l$.style.color = $autoFire$$ ? "white" : "gray";
}
function $JSCompiler_StaticMethods_styleLoupe$$($JSCompiler_StaticMethods_styleLoupe$self$$, $defaultPosition$$ = !1) {
  $defaultPosition$$ && ($JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.bottom = "5px", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.left = "300px", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.top = "", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.right = "", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.width = "150px", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.height = "150px");
  $JSCompiler_StaticMethods_styleLoupe$self$$.$o$() ? ($JSCompiler_StaticMethods_styleLoupe$self$$.$m$.style.display = "none", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.border = "2px rgb(76, 175, 80) solid", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.backgroundColor = "transparent") : ($JSCompiler_StaticMethods_styleLoupe$self$$.$m$.style.display = "block", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.border = "none", $JSCompiler_StaticMethods_styleLoupe$self$$.$g$.style.backgroundColor = 
  "rgb(105, 105, 105, 0.7)");
}
function $JSCompiler_StaticMethods_setVisible$$($JSCompiler_StaticMethods_setVisible$self$$, $visible$jscomp$3$$) {
  if ($visible$jscomp$3$$ !== $JSCompiler_StaticMethods_setVisible$self$$.visible) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{5595c14}", $visible$jscomp$3$$);
    $JSCompiler_StaticMethods_setVisible$self$$.visible = $visible$jscomp$3$$;
    for ($element$jscomp$13_mouseDownFuncName$$ of [$JSCompiler_StaticMethods_setVisible$self$$.$D$, $JSCompiler_StaticMethods_setVisible$self$$.$g$, $JSCompiler_StaticMethods_setVisible$self$$.$s$]) {
      $element$jscomp$13_mouseDownFuncName$$ === $JSCompiler_StaticMethods_setVisible$self$$.$s$ && $visible$jscomp$3$$ ? $JSCompiler_StaticMethods_styleHelpDialogue$$($JSCompiler_StaticMethods_setVisible$self$$, "Show hotkeys" !== $JSCompiler_StaticMethods_setVisible$self$$.$h$.value) : $element$jscomp$13_mouseDownFuncName$$.style.display = $visible$jscomp$3$$ ? "block" : "none";
    }
    var $mouseMoveFuncName_supportsPointerEvents$$ = !(null === PointerEvent || void 0 === PointerEvent || !PointerEvent.prototype), $element$jscomp$13_mouseDownFuncName$$ = $mouseMoveFuncName_supportsPointerEvents$$ ? "pointerdown" : "mousedown";
    $mouseMoveFuncName_supportsPointerEvents$$ = $mouseMoveFuncName_supportsPointerEvents$$ ? "pointermove" : "mousemove";
    if ($visible$jscomp$3$$) {
      $JSCompiler_StaticMethods_setVisible$self$$.$I$();
      $JSCompiler_StaticMethods_makeDraggable$$($JSCompiler_StaticMethods_setVisible$self$$.$g$, $JSCompiler_StaticMethods_setVisible$self$$.$m$);
      $JSCompiler_StaticMethods_setVisible$self$$.$H$.oninput = $evt$jscomp$69_threshold$jscomp$3$$ => {
        $evt$jscomp$69_threshold$jscomp$3$$ = parseFloat($evt$jscomp$69_threshold$jscomp$3$$.target.value);
        var $JSCompiler_StaticMethods_setLuminanceThreshold$self$jscomp$inline_611$$ = $JSCompiler_StaticMethods_setVisible$self$$.$j$;
        0 >= $evt$jscomp$69_threshold$jscomp$3$$ || 1 <= $evt$jscomp$69_threshold$jscomp$3$$ ? $module$exports$rtcutils_core$output$logger$Log$$.e("{0c7ed7c}", "{1cbd879}", $evt$jscomp$69_threshold$jscomp$3$$.toFixed(2)) : $JSCompiler_StaticMethods_setLuminanceThreshold$self$jscomp$inline_611$$.$m$ = $evt$jscomp$69_threshold$jscomp$3$$;
        $JSCompiler_StaticMethods_setVisible$self$$.$K$.innerHTML = (100 * $evt$jscomp$69_threshold$jscomp$3$$).toFixed() + "%";
      };
      $JSCompiler_StaticMethods_setVisible$self$$.$autoFireCheckbox$.oninput = $evt$jscomp$70$$ => {
        $JSCompiler_StaticMethods_styleAutoFireOverlay$$($JSCompiler_StaticMethods_setVisible$self$$, $evt$jscomp$70$$.target.checked);
      };
      $JSCompiler_StaticMethods_setVisible$self$$.$v$.oninput = $evt$jscomp$71$$ => {
        $JSCompiler_StaticMethods_setVisible$self$$.$M$.innerHTML = $evt$jscomp$71$$.target.value;
      };
      $JSCompiler_StaticMethods_setVisible$self$$.$A$.oninput = $evt$jscomp$72$$ => {
        $JSCompiler_StaticMethods_setVisible$self$$.$N$.innerHTML = $evt$jscomp$72$$.target.value + " ms";
      };
      $JSCompiler_StaticMethods_setVisible$self$$.$u$.oninput = $evt$jscomp$73$$ => {
        $JSCompiler_StaticMethods_setVisible$self$$.$u$.checked = $evt$jscomp$73$$.target.checked;
      };
      const $onLoupePositionInput$$ = ($evt$jscomp$74$$, $element$jscomp$14$$) => {
        $element$jscomp$14$$.value = Math.max(Math.min(parseInt($evt$jscomp$74$$.target.value), 100), 0).toFixed(0);
        $JSCompiler_StaticMethods_positionLoupe$$($JSCompiler_StaticMethods_setVisible$self$$, parseInt($JSCompiler_StaticMethods_setVisible$self$$.$loupePositionX$.value || "50") / 100, parseInt($JSCompiler_StaticMethods_setVisible$self$$.$loupePositionY$.value || "50") / 100);
      };
      $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionX$.oninput = $evt$jscomp$75$$ => $onLoupePositionInput$$($evt$jscomp$75$$, $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionX$);
      $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionY$.oninput = $evt$jscomp$76$$ => $onLoupePositionInput$$($evt$jscomp$76$$, $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionY$);
      $JSCompiler_StaticMethods_setVisible$self$$.$C$.onclick = () => $JSCompiler_StaticMethods_JSC$2784_setActive$$($JSCompiler_StaticMethods_setVisible$self$$, "Start" === $JSCompiler_StaticMethods_setVisible$self$$.$C$.value);
      $JSCompiler_StaticMethods_setVisible$self$$.$h$.onclick = () => $JSCompiler_StaticMethods_styleHelpDialogue$$($JSCompiler_StaticMethods_setVisible$self$$, "Show hotkeys" === $JSCompiler_StaticMethods_setVisible$self$$.$h$.value);
      $JSCompiler_StaticMethods_setVisible$self$$.$g$.onmouseup = $JSCompiler_StaticMethods_setVisible$self$$.$I$.bind($JSCompiler_StaticMethods_setVisible$self$$);
      $JSCompiler_StaticMethods_setVisible$self$$.$g$.onmousedown = () => {
        $JSCompiler_StaticMethods_setVisible$self$$.$o$() && $JSCompiler_StaticMethods_sendMouseClickEvent$$($JSCompiler_StaticMethods_setVisible$self$$.$j$);
      };
      $JSCompiler_StaticMethods_addStateListener$$($JSCompiler_StaticMethods_setVisible$self$$.$P$, 2, $JSCompiler_StaticMethods_setVisible$self$$.$O$);
      $JSCompiler_StaticMethods_setVisible$self$$.$videoElement$.addEventListener($element$jscomp$13_mouseDownFuncName$$, $JSCompiler_StaticMethods_setVisible$self$$.$R$);
      $JSCompiler_StaticMethods_setVisible$self$$.$videoElement$.addEventListener($mouseMoveFuncName_supportsPointerEvents$$, $JSCompiler_StaticMethods_setVisible$self$$.$S$);
    } else {
      $JSCompiler_StaticMethods_JSC$2784_setActive$$($JSCompiler_StaticMethods_setVisible$self$$, !1), $JSCompiler_StaticMethods_setVisible$self$$.$H$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$autoFireCheckbox$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$v$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$A$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$u$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionX$.oninput = 
      null, $JSCompiler_StaticMethods_setVisible$self$$.$loupePositionY$.oninput = null, $JSCompiler_StaticMethods_setVisible$self$$.$C$.onclick = null, $JSCompiler_StaticMethods_setVisible$self$$.$h$.onclick = null, $JSCompiler_StaticMethods_setVisible$self$$.$g$.onmouseup = null, $JSCompiler_StaticMethods_setVisible$self$$.$g$.onmousedown = null, $JSCompiler_StaticMethods_setVisible$self$$.$m$.onmousedown = null, $JSCompiler_StaticMethods_removeStateListener$$($JSCompiler_StaticMethods_setVisible$self$$.$P$, 
      2, $JSCompiler_StaticMethods_setVisible$self$$.$O$), $JSCompiler_StaticMethods_setVisible$self$$.$videoElement$.removeEventListener($element$jscomp$13_mouseDownFuncName$$, $JSCompiler_StaticMethods_setVisible$self$$.$R$), $JSCompiler_StaticMethods_setVisible$self$$.$videoElement$.removeEventListener($mouseMoveFuncName_supportsPointerEvents$$, $JSCompiler_StaticMethods_setVisible$self$$.$S$);
    }
  }
}
function $JSCompiler_StaticMethods_JSC$2784_setActive$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$, $active$jscomp$1$$) {
  $active$jscomp$1$$ && !$JSCompiler_StaticMethods_isLoupeInPosition$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$j$) ? $JSCompiler_StaticMethods_showLoupePositionWarning$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$) : $active$jscomp$1$$ && $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$F$ ? $module$exports$rtcutils_core$output$logger$Log$$.e("{50c79eb}", "{89742e9}") : ($JSCompiler_StaticMethods_JSC$2768_setActive$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$j$, 
  $active$jscomp$1$$), $JSCompiler_StaticMethods_styleLoupe$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$), $active$jscomp$1$$ ? ($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$C$.value = "Stop", $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$autoFireCheckbox$.checked && ($module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{5974b2c}"), $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$F$ = !0, $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$T$ = parseInt($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$v$.value), 
  $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$G$ = window.setInterval(() => {
    0 < $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$T$-- ? $JSCompiler_StaticMethods_sendMouseClickEvent$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$j$) : ($module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{d37e51d}"), $JSCompiler_StaticMethods_resetAutoFire$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$), $JSCompiler_StaticMethods_JSC$2784_setActive$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$, !1));
  }, parseInt($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$A$.value)))) : ($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$C$.value = "Start", $JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$F$ && ($JSCompiler_StaticMethods_JSC$2784_setActive$self$$.$G$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{d340c50}"), $JSCompiler_StaticMethods_resetAutoFire$$($JSCompiler_StaticMethods_JSC$2784_setActive$self$$)) : $module$exports$rtcutils_core$output$logger$Log$$.w("{50c79eb}", 
  "{6d8948b}"))));
}
function $JSCompiler_StaticMethods_setValueAndDispatchInputEvent$$($element$jscomp$19$$, $value$jscomp$127$$) {
  $element$jscomp$19$$.value = $value$jscomp$127$$.toString();
  $element$jscomp$19$$.dispatchEvent(new Event("input"));
}
function $JSCompiler_StaticMethods_styleHelpDialogue$$($JSCompiler_StaticMethods_styleHelpDialogue$self$$, $visible$jscomp$4$$) {
  $visible$jscomp$4$$ ? ($JSCompiler_StaticMethods_styleHelpDialogue$self$$.$h$.value = "Hide hotkeys", $JSCompiler_StaticMethods_styleHelpDialogue$self$$.$s$.style.display = "block") : ($JSCompiler_StaticMethods_styleHelpDialogue$self$$.$h$.value = "Show hotkeys", $JSCompiler_StaticMethods_styleHelpDialogue$self$$.$s$.style.display = "none");
}
function $JSCompiler_StaticMethods_makeDraggable$$($element$jscomp$18$$, $header$jscomp$2$$) {
  let $x$jscomp$121$$ = 0, $y$jscomp$94$$ = 0, $dx$jscomp$4$$ = 0, $dy$jscomp$4$$ = 0;
  const $onmouseup$$ = document.onmouseup, $onmousemove$$ = document.onmousemove;
  $header$jscomp$2$$.onmousedown = $evt$jscomp$79$$ => {
    $evt$jscomp$79$$.preventDefault();
    $x$jscomp$121$$ = $evt$jscomp$79$$.clientX;
    $y$jscomp$94$$ = $evt$jscomp$79$$.clientY;
    document.onmouseup = () => {
      document.onmouseup = $onmouseup$$;
      document.onmousemove = $onmousemove$$;
    };
    document.onmousemove = $evt$jscomp$80$$ => {
      $evt$jscomp$80$$.preventDefault();
      $dx$jscomp$4$$ = $x$jscomp$121$$ - $evt$jscomp$80$$.clientX;
      $dy$jscomp$4$$ = $y$jscomp$94$$ - $evt$jscomp$80$$.clientY;
      $x$jscomp$121$$ = $evt$jscomp$80$$.clientX;
      $y$jscomp$94$$ = $evt$jscomp$80$$.clientY;
      $element$jscomp$18$$.style.top = $element$jscomp$18$$.offsetTop - $dy$jscomp$4$$ + "px";
      $element$jscomp$18$$.style.left = $element$jscomp$18$$.offsetLeft - $dx$jscomp$4$$ + "px";
    };
  };
}
function $JSCompiler_StaticMethods_showLoupePositionWarning$$($JSCompiler_StaticMethods_showLoupePositionWarning$self$$) {
  $JSCompiler_StaticMethods_showLoupePositionWarning$self$$.$J$.style.display = "block";
  window.setTimeout(() => $JSCompiler_StaticMethods_showLoupePositionWarning$self$$.$J$.style.display = "none", 5000);
}
function $JSCompiler_StaticMethods_resetAutoFire$$($JSCompiler_StaticMethods_resetAutoFire$self$$) {
  window.clearInterval($JSCompiler_StaticMethods_resetAutoFire$self$$.$G$);
  $JSCompiler_StaticMethods_resetAutoFire$self$$.$G$ = 0;
  $JSCompiler_StaticMethods_resetAutoFire$self$$.$F$ = !1;
}
function $JSCompiler_StaticMethods_positionLoupe$$($JSCompiler_StaticMethods_positionLoupe$self$$, $left$jscomp$3_x$jscomp$119$$, $y$jscomp$93$$) {
  const $videoRect$$ = $JSCompiler_StaticMethods_positionLoupe$self$$.$videoElement$.getBoundingClientRect(), $loupeRect$$ = $JSCompiler_StaticMethods_positionLoupe$self$$.$g$.getBoundingClientRect(), {paddingTop:$paddingTop$$, paddingRight:$paddingRight$$, paddingBottom:$paddingBottom$$, paddingLeft:$paddingLeft$$} = $JSCompiler_StaticMethods_getPadding$$($JSCompiler_StaticMethods_positionLoupe$self$$.$videoElement$);
  $left$jscomp$3_x$jscomp$119$$ = $videoRect$$.left + $paddingLeft$$ + ($videoRect$$.width - $paddingLeft$$ - $paddingRight$$) * $left$jscomp$3_x$jscomp$119$$ - $loupeRect$$.width * $left$jscomp$3_x$jscomp$119$$;
  $JSCompiler_StaticMethods_positionLoupe$self$$.$g$.style.top = ($videoRect$$.top + $paddingTop$$ + ($videoRect$$.height - $paddingTop$$ - $paddingBottom$$) * $y$jscomp$93$$ - $loupeRect$$.height * $y$jscomp$93$$).toString() + "px";
  $JSCompiler_StaticMethods_positionLoupe$self$$.$g$.style.left = $left$jscomp$3_x$jscomp$119$$.toString() + "px";
  $JSCompiler_StaticMethods_positionLoupe$self$$.$I$();
}
function $JSCompiler_StaticMethods_createDiv$$() {
  const $div$$ = document.createElement("div");
  $div$$.style.display = "none";
  $div$$.style.position = "absolute";
  $div$$.style.color = "white";
  $div$$.style.backgroundColor = "rgb(105, 105, 105, 0.7)";
  $div$$.style.padding = "2px";
  return $div$$;
}
function $JSCompiler_StaticMethods_createTitleDiv$$($title$jscomp$12$$) {
  const $div$jscomp$1$$ = document.createElement("div");
  $div$jscomp$1$$.style.width = "100%";
  $div$jscomp$1$$.style.borderBottom = "1px dashed darkgray";
  $div$jscomp$1$$.style.paddingBottom = "2px";
  $div$jscomp$1$$.innerHTML = $title$jscomp$12$$;
  return $div$jscomp$1$$;
}
function $JSCompiler_StaticMethods_createButton$$($value$jscomp$125$$) {
  const $element$jscomp$15$$ = document.createElement("input");
  $element$jscomp$15$$.type = "button";
  $element$jscomp$15$$.value = $value$jscomp$125$$;
  $element$jscomp$15$$.style.margin = "5px";
  $element$jscomp$15$$.style.backgroundColor = "rgb(132, 130, 143, .7)";
  $element$jscomp$15$$.style.color = "white";
  $element$jscomp$15$$.style.padding = "8px 40px";
  $element$jscomp$15$$.style.border = "none";
  $element$jscomp$15$$.style.borderRadius = "4px";
  $element$jscomp$15$$.style.cursor = "pointer";
  return $element$jscomp$15$$;
}
function $JSCompiler_StaticMethods_createCheckBox$$() {
  const $element$jscomp$16$$ = document.createElement("input");
  $element$jscomp$16$$.type = "checkbox";
  return $element$jscomp$16$$;
}
function $JSCompiler_StaticMethods_createLabel$$($label$jscomp$9$$) {
  const $element$jscomp$17$$ = document.createElement("label");
  $element$jscomp$17$$.innerHTML = $label$jscomp$9$$;
  return $element$jscomp$17$$;
}
function $JSCompiler_StaticMethods_createRangeInput$$($value$jscomp$126$$, $min$$, $max$$, $step$$ = 1) {
  const $input$jscomp$10$$ = document.createElement("input");
  $input$jscomp$10$$.type = "range";
  $input$jscomp$10$$.min = $min$$.toString();
  $input$jscomp$10$$.max = $max$$.toString();
  $input$jscomp$10$$.step = $step$$.toString();
  $input$jscomp$10$$.value = $value$jscomp$126$$.toString();
  return $input$jscomp$10$$;
}
function $JSCompiler_StaticMethods_createLoupePositionOverlay$$($JSCompiler_StaticMethods_createLoupePositionOverlay$self$$) {
  const $div$jscomp$5$$ = document.createElement("div"), $label$jscomp$11$$ = $JSCompiler_StaticMethods_createLabel$$("Loupe Position:"), $labelX$$ = $JSCompiler_StaticMethods_createLabel$$("X"), $labelY$$ = $JSCompiler_StaticMethods_createLabel$$("Y");
  $labelX$$.style.paddingLeft = "10px";
  $labelY$$.style.paddingLeft = "10px";
  $labelX$$.style.paddingRight = "2px";
  $labelY$$.style.paddingRight = "2px";
  const $createNumberInput$$ = () => {
    const $input$jscomp$11$$ = document.createElement("input");
    $input$jscomp$11$$.type = "number";
    $input$jscomp$11$$.min = "0";
    $input$jscomp$11$$.max = "100";
    $input$jscomp$11$$.step = "1";
    $input$jscomp$11$$.placeholder = "Int";
    $input$jscomp$11$$.style.width = "40px";
    return $input$jscomp$11$$;
  };
  $JSCompiler_StaticMethods_createLoupePositionOverlay$self$$.$loupePositionX$ = $createNumberInput$$();
  $JSCompiler_StaticMethods_createLoupePositionOverlay$self$$.$loupePositionY$ = $createNumberInput$$();
  $div$jscomp$5$$.appendChild($label$jscomp$11$$);
  $div$jscomp$5$$.appendChild($labelX$$);
  $div$jscomp$5$$.appendChild($JSCompiler_StaticMethods_createLoupePositionOverlay$self$$.$loupePositionX$);
  $div$jscomp$5$$.appendChild($JSCompiler_StaticMethods_createLabel$$("%"));
  $div$jscomp$5$$.appendChild($labelY$$);
  $div$jscomp$5$$.appendChild($JSCompiler_StaticMethods_createLoupePositionOverlay$self$$.$loupePositionY$);
  $div$jscomp$5$$.appendChild($JSCompiler_StaticMethods_createLabel$$("%"));
  return $div$jscomp$5$$;
}
function $JSCompiler_StaticMethods_getPadding$$($element$jscomp$20$$) {
  const $paddingToInt$$ = $padding$$ => {
    if (!$padding$$) {
      return 0;
    }
    const $n$jscomp$2$$ = $padding$$.length;
    if ("%" === $padding$$.substring($n$jscomp$2$$ - 1)) {
      return parseInt($padding$$.substring(0, $n$jscomp$2$$ - 1));
    }
    if ("px" === $padding$$.substring($n$jscomp$2$$ - 2)) {
      return parseInt($padding$$.substring(0, $n$jscomp$2$$ - 2));
    }
    $module$exports$rtcutils_core$output$logger$Log$$.w("{50c79eb}", "{3351f27}", $padding$$);
    return 0;
  };
  return {paddingTop:$paddingToInt$$($element$jscomp$20$$.style.paddingTop), paddingRight:$paddingToInt$$($element$jscomp$20$$.style.paddingRight), paddingBottom:$paddingToInt$$($element$jscomp$20$$.style.paddingBottom), paddingLeft:$paddingToInt$$($element$jscomp$20$$.style.paddingLeft)};
}
var $module$exports$output$debug$ldatoverlay$LDATOverlay$$ = class {
  constructor($videoElement$jscomp$7$$, $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$) {
    this.$P$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$;
    this.visible = !1;
    this.$latencyData$ = [];
    this.$F$ = !1;
    this.$T$ = this.$G$ = 0;
    this.$L$ = {x:0, y:0};
    this.$videoElement$ = $videoElement$jscomp$7$$;
    this.$j$ = new $module$exports$output$debug$ldatcontroller$LDATController$$($videoElement$jscomp$7$$);
    this.$O$ = this.$W$.bind(this);
    this.$R$ = this.$V$.bind(this);
    this.$S$ = this.onmousemove.bind(this);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$ = $JSCompiler_StaticMethods_createDiv$$();
    var $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = $JSCompiler_StaticMethods_createTitleDiv$$("Latency Display Analysis Tool (LDAT)");
    this.$C$ = $JSCompiler_StaticMethods_createButton$$("Start");
    this.$h$ = $JSCompiler_StaticMethods_createButton$$("Show hotkeys");
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.bottom = "0px";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.left = "0px";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.margin = "5px";
    this.$h$.style.border = "1px solid white";
    this.$h$.style.fontSize = "10px";
    this.$h$.style.padding = "5px";
    this.$h$.style.position = "absolute";
    this.$h$.style.right = "0px";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild(this.$C$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild(this.$h$);
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild;
    var $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$ = document.createElement("div"), $defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$ = this.$j$.$m$;
    this.$H$ = $JSCompiler_StaticMethods_createRangeInput$$($defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$, 0.01, 0.2, 0.01);
    this.$K$ = document.createElement("span");
    var $label$jscomp$inline_1276_labelShotCount$jscomp$inline_1282$$ = $JSCompiler_StaticMethods_createLabel$$("Activation Level"), $labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$ = document.createElement("span");
    this.$K$.innerHTML = (100 * $defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$).toFixed() + "%";
    $labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$.style.paddingRight = "2px";
    $labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$.title = "% increase in luminance used to determine whether a flash occurred";
    $labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$.innerHTML = "<sup> i </sup>";
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild($label$jscomp$inline_1276_labelShotCount$jscomp$inline_1282$$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild($labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild(this.$H$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild(this.$K$);
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$.call($div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$, $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$);
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild;
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$ = document.createElement("div");
    this.$l$ = document.createElement("div");
    this.$autoFireCheckbox$ = $JSCompiler_StaticMethods_createCheckBox$$();
    this.$v$ = $JSCompiler_StaticMethods_createRangeInput$$(20, 5, 100, 5);
    this.$A$ = $JSCompiler_StaticMethods_createRangeInput$$(1000, 100, 5000, 100);
    $defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$ = $JSCompiler_StaticMethods_createLabel$$("Autofire");
    $label$jscomp$inline_1276_labelShotCount$jscomp$inline_1282$$ = $JSCompiler_StaticMethods_createLabel$$("# Shots");
    $labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$ = $JSCompiler_StaticMethods_createLabel$$("Shot Delay");
    this.$M$ = document.createElement("span");
    this.$N$ = document.createElement("span");
    this.$M$.innerHTML = this.$v$.value;
    this.$N$.innerHTML = this.$A$.value + " ms";
    this.$l$.appendChild($label$jscomp$inline_1276_labelShotCount$jscomp$inline_1282$$);
    this.$l$.appendChild(this.$v$);
    this.$l$.appendChild(this.$M$);
    this.$l$.appendChild(document.createElement("br"));
    this.$l$.appendChild($labelShotDelay$jscomp$inline_1283_lumaInfo$jscomp$inline_1277$$);
    this.$l$.appendChild(this.$A$);
    this.$l$.appendChild(this.$N$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild($defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild(this.$autoFireCheckbox$);
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.appendChild(this.$l$);
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$.call($div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$, $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_StaticMethods_createLoupePositionOverlay$$(this));
    this.$u$ = $JSCompiler_StaticMethods_createCheckBox$$();
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = document.createElement("span");
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$.title = "Simulate mouse move event whenever a mouse click is detected.  Introduces two 300 ms delays between move events and requires a minimum shot delay of 1 sec.";
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$.innerHTML = "<sup> i </sup>";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_StaticMethods_createLabel$$("Move On Click"));
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild(this.$u$);
    this.$D$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$;
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$ = $JSCompiler_StaticMethods_createDiv$$();
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = $JSCompiler_StaticMethods_createTitleDiv$$("Loupe");
    this.$m$ = document.createElement("div");
    this.$m$.style.cursor = "move";
    this.$m$.style.width = "100%";
    this.$m$.style.height = "100%";
    this.$m$.innerHTML = "Click here to drag the loupe to the area of the screen where flashes will occur.  Then, press start.";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild(this.$m$);
    this.$g$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$;
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$ = $JSCompiler_StaticMethods_createDiv$$();
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.position = "relative";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.backgroundColor = "gray";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.textAlign = "center";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.innerHTML = "Warning: Must place loupe over video element to activate the LDAT.  Please reposition the loupe and then click start.";
    this.$J$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$;
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$ = $JSCompiler_StaticMethods_createDiv$$();
    $JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$ = $JSCompiler_StaticMethods_createTitleDiv$$("LDAT Hot Keys");
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$ = document.createElement("ul");
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.bottom = "195px";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.left = "0px";
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.style.margin = "5px";
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.style.listStyle = "none";
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.style.paddingLeft = "2px";
    $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.style.margin = "5px";
    for ($div$jscomp$inline_639_item$jscomp$inline_635$$ of ["Enter - Start/Stop", "R - Reset", "A - Turn On/Off Auto-Fire Mode", "S - Save Log File", "C - Center Loupe on Screen"]) {
      $defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$ = document.createElement("li"), $defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$.innerHTML = $div$jscomp$inline_639_item$jscomp$inline_635$$, $div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$.append($defaultThreshold$jscomp$inline_1275_labelCheckbox$jscomp$inline_1281_li$jscomp$inline_636$$);
    }
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($JSCompiler_temp_const$jscomp$1113_JSCompiler_temp_const$jscomp$1116_moveOnClickInfo$jscomp$inline_622_title$jscomp$inline_621_title$jscomp$inline_626_title$jscomp$inline_633$$);
    $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$.appendChild($div$jscomp$inline_1274_div$jscomp$inline_1280_list$jscomp$inline_634$$);
    this.$s$ = $div$jscomp$inline_620_div$jscomp$inline_625_div$jscomp$inline_629_div$jscomp$inline_632_windowObserver$jscomp$2$$;
    var $div$jscomp$inline_639_item$jscomp$inline_635$$ = $JSCompiler_StaticMethods_createDiv$$();
    $div$jscomp$inline_639_item$jscomp$inline_635$$.style.bottom = "325px";
    $div$jscomp$inline_639_item$jscomp$inline_635$$.style.left = "0px";
    $div$jscomp$inline_639_item$jscomp$inline_635$$.style.margin = "5px";
    this.$B$ = $div$jscomp$inline_639_item$jscomp$inline_635$$;
    $videoElement$jscomp$7$$.insertAdjacentElement("afterend", this.$D$);
    this.$D$.insertAdjacentElement("afterend", this.$g$);
    this.$g$.insertAdjacentElement("afterend", this.$J$);
    this.$D$.insertAdjacentElement("beforebegin", this.$s$);
    this.$s$.insertAdjacentElement("beforebegin", this.$B$);
    this.$j$.$s$ = this.$U$.bind(this);
    $JSCompiler_StaticMethods_styleAutoFireOverlay$$(this, !1);
    this.$u$.checked = !1;
    $JSCompiler_StaticMethods_styleLoupe$$(this, !0);
  }
  stop() {
    this.$D$.remove();
    this.$g$.remove();
    this.$J$.remove();
    this.$s$.remove();
    this.$B$.remove();
    $JSCompiler_StaticMethods_setVisible$$(this, !1);
    this.$latencyData$ = [];
  }
  reset() {
    $JSCompiler_StaticMethods_JSC$2784_setActive$$(this, !1);
    $JSCompiler_StaticMethods_setValueAndDispatchInputEvent$$(this.$H$, 0.06);
    $JSCompiler_StaticMethods_setValueAndDispatchInputEvent$$(this.$v$, 20);
    $JSCompiler_StaticMethods_setValueAndDispatchInputEvent$$(this.$A$, 1000);
    $JSCompiler_StaticMethods_styleAutoFireOverlay$$(this, !1);
    this.$u$.checked = !1;
    $JSCompiler_StaticMethods_styleLoupe$$(this, !0);
    $JSCompiler_StaticMethods_styleHelpDialogue$$(this, !1);
    this.$loupePositionX$.value = "";
    this.$loupePositionY$.value = "";
    this.$latencyData$ = [];
  }
  isVisible() {
    return this.visible;
  }
  toggle() {
    $JSCompiler_StaticMethods_JSC$2784_setActive$$(this, !this.$o$());
  }
  $o$() {
    return this.$j$.$o$();
  }
  $allowPointerLock$() {
    return !this.isVisible() || this.$o$();
  }
  $V$($evt$jscomp$77$$) {
    if (this.$u$.checked && this.$o$() && !$evt$jscomp$77$$.$fromSelf$) {
      const $dispatchEvent$$ = ($pointerDownEvent_type$jscomp$165$$, $mouseDownEvent_options$jscomp$64$$) => {
        switch($pointerDownEvent_type$jscomp$165$$) {
          case 0:
            this.$videoElement$.dispatchEvent(new PointerEvent("pointerup", $mouseDownEvent_options$jscomp$64$$));
            this.$videoElement$.dispatchEvent(new MouseEvent("mouseup", $mouseDownEvent_options$jscomp$64$$));
            break;
          case 1:
            $pointerDownEvent_type$jscomp$165$$ = new PointerEvent("pointerdown", $mouseDownEvent_options$jscomp$64$$);
            $mouseDownEvent_options$jscomp$64$$ = new MouseEvent("mousedown", $mouseDownEvent_options$jscomp$64$$);
            $pointerDownEvent_type$jscomp$165$$.$fromSelf$ = !0;
            $mouseDownEvent_options$jscomp$64$$.$fromSelf$ = !0;
            this.$videoElement$.dispatchEvent($pointerDownEvent_type$jscomp$165$$);
            this.$videoElement$.dispatchEvent($mouseDownEvent_options$jscomp$64$$);
            break;
          case 2:
            this.$videoElement$.dispatchEvent(new PointerEvent("pointerrawupdate", $mouseDownEvent_options$jscomp$64$$)), this.$videoElement$.dispatchEvent(new PointerEvent("pointermove", $mouseDownEvent_options$jscomp$64$$)), this.$videoElement$.dispatchEvent(new MouseEvent("mousemove", $mouseDownEvent_options$jscomp$64$$));
        }
      }, $upDownOptions$$ = {button:2, isPrimary:!0, pointerId:1}, $moveOptions$$ = {clientX:(Math.max($evt$jscomp$77$$.clientX, 0) || this.$L$.x) + 64, clientY:Math.max($evt$jscomp$77$$.clientY, 0) || this.$L$.y, movementX:64, isPrimary:!0};
      $dispatchEvent$$(1, $upDownOptions$$);
      window.setTimeout(() => {
        $dispatchEvent$$(2, $moveOptions$$);
        window.setTimeout(() => {
          $moveOptions$$.clientX -= 64;
          $moveOptions$$.movementX = -64;
          $dispatchEvent$$(2, $moveOptions$$);
          window.setTimeout(() => $dispatchEvent$$(0, $upDownOptions$$), 300);
        }, 300);
      }, 300);
    }
  }
  onmousemove($evt$jscomp$78$$) {
    this.$L$ = {x:$evt$jscomp$78$$.clientX, y:$evt$jscomp$78$$.clientY};
  }
  $I$() {
    var $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$ = this.$videoElement$.getBoundingClientRect();
    const $loupeRect$jscomp$1$$ = this.$g$.getBoundingClientRect();
    if (this.$videoElement$.style.paddingTop || this.$videoElement$.style.paddingRight || this.$videoElement$.style.paddingBottom || this.$videoElement$.style.paddingLeft) {
      const {paddingTop:$paddingTop$jscomp$1$$, paddingRight:$paddingRight$jscomp$1$$, paddingBottom:$paddingBottom$jscomp$1$$, paddingLeft:$paddingLeft$jscomp$1$$} = $JSCompiler_StaticMethods_getPadding$$(this.$videoElement$);
      $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.x += $paddingLeft$jscomp$1$$;
      $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.y += $paddingTop$jscomp$1$$;
      $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.width -= $paddingLeft$jscomp$1$$ + $paddingRight$jscomp$1$$;
      $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.height -= $paddingTop$jscomp$1$$ + $paddingBottom$jscomp$1$$;
    }
    $loupeRect$jscomp$1$$.x = ($loupeRect$jscomp$1$$.x - $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.x) / $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.width;
    $loupeRect$jscomp$1$$.y = ($loupeRect$jscomp$1$$.y - $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.y) / $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.height;
    $loupeRect$jscomp$1$$.width /= $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.width;
    $loupeRect$jscomp$1$$.height /= $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.height;
    $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$ = this.$j$;
    0 >= $loupeRect$jscomp$1$$.width || 0 >= $loupeRect$jscomp$1$$.height ? $module$exports$rtcutils_core$output$logger$Log$$.e("{0c7ed7c}", "{3e0eb8f}", $loupeRect$jscomp$1$$.width, $loupeRect$jscomp$1$$.height) : $JSCompiler_StaticMethods_setLoupePosition$self$jscomp$inline_650_videoRect$jscomp$1$$.$l$ = $loupeRect$jscomp$1$$;
  }
  $W$() {
    this.$I$();
  }
  $U$($data$jscomp$95_msg$jscomp$21$$) {
    this.$latencyData$.push($data$jscomp$95_msg$jscomp$21$$);
    $data$jscomp$95_msg$jscomp$21$$ = `Flash occurred at frame
            ${$data$jscomp$95_msg$jscomp$21$$.presentedFrames}. Latency: ${($data$jscomp$95_msg$jscomp$21$$.$videoFrameCallbackTime$ - $data$jscomp$95_msg$jscomp$21$$.$mouseClickTime$).toFixed()} ms`;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{50c79eb}", "{0b0c6f9}", $data$jscomp$95_msg$jscomp$21$$);
    this.$B$.innerHTML = $data$jscomp$95_msg$jscomp$21$$;
    this.$B$.style.display = "block";
    window.setTimeout(() => {
      this.$B$.innerHTML = "";
      this.$B$.style.display = "none";
    }, 5000);
  }
};
var $module$exports$output$stats$clientstatsservice$IceCandidateCategoryCounts$$ = class extends Map {
  constructor() {
    super([["TCP", 0], ["MDNS", 0], ["IPV6", 0], ["IPV4", 0], ["UNKNOWN", 0]]);
  }
};
function $JSCompiler_StaticMethods_createStatsDataChannel$$($JSCompiler_StaticMethods_createStatsDataChannel$self$$) {
  $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$D$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$u$.createDataChannel("stats_channel", {ordered:!1, reliable:!1, maxRetransmits:0});
  $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$D$.binaryType = "arraybuffer";
  $JSCompiler_StaticMethods_addDataChannel$$($JSCompiler_StaticMethods_createStatsDataChannel$self$$.$C$, $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$D$, {open:() => {
    $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$L$ = 1;
  }, close:() => {
    $JSCompiler_StaticMethods_clearIntervals$$($JSCompiler_StaticMethods_createStatsDataChannel$self$$);
    $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$L$ = 2;
  }});
  $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$D$.onmessage = $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$ => {
    $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$ = new DataView($JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.data);
    var $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ = $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.getUint8(0);
    if (2 <= $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$) {
      $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$M$ = $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.getFloat64(1, !0) / 1000000;
      $JSCompiler_StaticMethods_createStatsDataChannel$self$$.jitter = 1000 * $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.getFloat64(9, !0);
      $JSCompiler_StaticMethods_createStatsDataChannel$self$$.rtd = $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.getFloat64(17, !0);
      $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$g$.$D$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.jitter;
      $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$g$.rtd = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.rtd;
      3 <= $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ && ($JSCompiler_StaticMethods_createStatsDataChannel$self$$.$U$ = $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.getFloat64(25, !0), $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$g$.avgGameFps = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$U$);
      $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$B$;
      $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$M$;
      var $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$g$, $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$M$;
      $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ && $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$.$s$ <= $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ && ($JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$.$bwu$ = $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$.$s$ / $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ * 
      100);
      $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$.$v$ = $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$;
      $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ = 100;
      25 <= $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$.$bwu$ && ($currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ = $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ / $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.maxBitrate * 100);
      100 < $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ && ($currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ = 100);
      void 0 === $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ || isNaN($currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$) || ($JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.bandwidthScore = 15 * $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.bandwidthScore / 16 + $currentBweMbps$jscomp$inline_663_currentScore$jscomp$inline_668$$ / 
      16, $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.bandwidthScore = Math.min($JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.bandwidthScore, 100));
      $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.$B$;
      $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ = $JSCompiler_StaticMethods_createStatsDataChannel$self$$.rtd;
      $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ = 0;
      250 > $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$ && ($JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ = 100 * (250 - $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$) / 240, void 0 === $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ || isNaN($JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$)) && ($JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ = 
      0);
      $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.latencyScore = 15 * $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.latencyScore / 16 + $JSCompiler_StaticMethods_updateBwu$self$jscomp$inline_662_currentScore$jscomp$inline_672$$ / 16;
      $JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.latencyScore = Math.min($JSCompiler_StaticMethods_calculateLatencyScoreV2$self$jscomp$inline_670_JSCompiler_temp_const$jscomp$60_msg$jscomp$23_view$jscomp$19$$.latencyScore, 100);
    } else {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{5cea617}", "{4f9f4b7}", $JSCompiler_temp_const$jscomp$59_rtd$jscomp$inline_671_version$jscomp$7$$);
    }
  };
}
function $JSCompiler_StaticMethods_setIntervals$$($JSCompiler_StaticMethods_setIntervals$self$$) {
  var $_a$jscomp$73$$, $_b$jscomp$34$$, $_c$jscomp$20$$, $_d$jscomp$18$$;
  $JSCompiler_StaticMethods_setIntervals$self$$.$l$ = window.setInterval(() => {
    $JSCompiler_StaticMethods_sendClientStats$$($JSCompiler_StaticMethods_setIntervals$self$$);
  }, null !== ($_a$jscomp$73$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.getStatsInterval) && void 0 !== $_a$jscomp$73$$ ? $_a$jscomp$73$$ : 96);
  window.chrome && ($JSCompiler_StaticMethods_setIntervals$self$$.$I$ = window.setInterval(() => {
    $JSCompiler_StaticMethods_saveDeprecatedStats$$($JSCompiler_StaticMethods_setIntervals$self$$);
  }, null !== ($_b$jscomp$34$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.getDeprecatedStatsInterval) && void 0 !== $_b$jscomp$34$$ ? $_b$jscomp$34$$ : 201));
  null === ($_d$jscomp$18$$ = ($_c$jscomp$20$$ = $JSCompiler_StaticMethods_setIntervals$self$$.$videoElement$).requestVideoFrameCallback) || void 0 === $_d$jscomp$18$$ ? void 0 : $_d$jscomp$18$$.call($_c$jscomp$20$$, $JSCompiler_StaticMethods_setIntervals$self$$.$da$);
}
function $JSCompiler_StaticMethods_processStatsReport$$($JSCompiler_StaticMethods_processStatsReport$self$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$) {
  var $getStatsT0_statsTs$$ = performance.now();
  if ($getStatsT0_statsTs$$ >= $JSCompiler_StaticMethods_processStatsReport$self$$.$O$ && "video" === $JSCompiler_StaticMethods_processStatsReport$self$$.mediaType) {
    $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$$($JSCompiler_StaticMethods_processStatsReport$self$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$);
    var $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = $JSCompiler_StaticMethods_processStatsReport$self$$.$g$, $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = 
    $JSCompiler_StaticMethods_processStatsReport$self$$.$C$, $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$, $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$, $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$, $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$, 
    $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$, $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$;
    var $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$videoElement$.paused;
    var $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$audioElement$.paused, $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$ = null !== ($JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ = 
    null === ($JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$m$) || void 0 === $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$ ? 
    void 0 : $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$isUserInputEnabled$()) && void 0 !== $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ ? $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ : !1;
    $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$ = null !== ($JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ = null === ($JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$m$) || 
    void 0 === $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ ? void 0 : $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.$isVirtualKeyboardVisible$) && void 0 !== $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ ? $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ : 
    !1;
    $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$na$.getMicState();
    $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$R$.$isRsdmmActive$();
    $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.keyboardLayout;
    var $JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.appLaunchMode;
    null === ($_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$m$) || void 0 === $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$ ? $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = 
    void 0 : ($JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$.$l$, $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = 
    `${$JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$g$.$absPositioning$ ? "local" : "alt"} ${null !== $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$.$o$ ? 
    "locked" : "unlocked"}`);
    $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = {$isVideoElementPaused$:$JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, $isAudioElementPaused$:$JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, 
    $isUserInputEnabled$:$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$, $isVirtualKeyboardVisible$:$JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$, $micState$:$JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$, $isRsdmmActive$:$JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$, 
    keyboardLayout:$JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$, appLaunchMode:$JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$, $inputMode$:null !== ($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ = $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$) && 
    void 0 !== $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ ? $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ : 
    ""};
    $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$g$ = $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$;
    $JSCompiler_StaticMethods_updateCandidatePairStats$$($JSCompiler_StaticMethods_processStatsReport$self$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$);
    0 !== $JSCompiler_StaticMethods_processStatsReport$self$$.$F$ && $JSCompiler_StaticMethods_drawStatsOnScreen$$($JSCompiler_StaticMethods_processStatsReport$self$$.$g$, 2 === $JSCompiler_StaticMethods_processStatsReport$self$$.$F$);
    $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = $JSCompiler_StaticMethods_processStatsReport$self$$.$g$;
    var $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$;
    $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ = {avgGameFps:null !== ($_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.avgGameFps) && 
    void 0 !== $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ ? $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ : 0, fps:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.fps, 
    rtd:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.rtd, avgDecodeTime:1000 * $JSCompiler_StaticMethods_getRollingAvg$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$m$), 
    frameLoss:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$u$ - $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$K$, 
    packetLoss:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$C$, totalBandwidth:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$v$, 
    utilizedBandwidth:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$bwu$, streamingResolution:$JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.streamingResolution};
    $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$K$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.$u$;
    $JSCompiler_StaticMethods_processStatsReport$self$$.$H$.emit("StreamStatsUpdate", $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$);
    $JSCompiler_StaticMethods_processStatsReport$self$$.$j$ = $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$;
    $JSCompiler_StaticMethods_processStatsReport$self$$.$O$ = $getStatsT0_statsTs$$ + 1000;
  }
  for (const [$type__tsickle_destructured_1$jscomp$inline_683$$, $ids__tsickle_destructured_2$jscomp$inline_684$$] of $JSCompiler_StaticMethods_processStatsReport$self$$.$G$.entries()) {
    $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ = $type__tsickle_destructured_1$jscomp$inline_683$$;
    $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = $ids__tsickle_destructured_2$jscomp$inline_684$$;
    for ($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ of $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$) {
      if ($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.get($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$)) {
        switch($_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$) {
          case "inbound-rtp":
            if ($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ = $JSCompiler_StaticMethods_processStatsReport$self$$.$m$, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = 
            $JSCompiler_StaticMethods_getUnifiedInboundRtp$$($JSCompiler_StaticMethods_processStatsReport$self$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$, 
            $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$), "audio" === $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.kind) {
              $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$, 
              $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$rtpa$$.size), $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$ = new DataView($JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$), 
              $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.packetsReceived || 0, $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, 0, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.bytesReceived || 
              0, $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, 8, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.packetsLost || 0, $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, 
              16, !0), $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$.setFloat64(24, $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.lastPacketReceivedTimestamp || 0, !0), $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$.setFloat64(32, 
              $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.jitter || 0, !0), $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$.setFloat64(40, $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), 
              !0), $JSCompiler_StaticMethods_addStatsReport$$([$JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$], 2), $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$traa$$.size), 
              $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = new DataView($JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.setFloat64(0, 
              $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.audioLevel || 0, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.concealedSamples || 
              0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 8, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.concealmentEvents || 
              0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 16, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.insertedSamplesForDeceleration || 
              0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 24, !0), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.setFloat64(32, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.jitterBufferDelay || 
              0, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.jitterBufferEmittedCount || 0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 
              40, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.removedSamplesForAcceleration || 0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 
              48, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.silentConcealedSamples || 0, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 
              56, !0), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.setFloat64(64, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.totalSamplesReceived || 
              0, !0), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.setFloat64(72, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.totalSamplesDuration || 
              0, !0), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.setFloat64(80, $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), !0), $JSCompiler_StaticMethods_addStatsReport$$([$JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$], 
              4);
            } else {
              if ($JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$, $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$ = 
              $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.packetsLost || 0, $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$ = $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.framesDecoded || 0, 
              $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.totalDecodeTime || 0, $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$ = 
              $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.pliCount || 0, $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$ = $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$, 
              $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ = $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ = $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$, $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ = 
              $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$, $JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$ = $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$, $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ >= 
              $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$o$ && ($JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$v$ = $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ - $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$o$, 
              $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$o$ = $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$), $JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$ >= $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$l$ && 
              ($JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.pliCount = $JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$ - $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$l$, $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$l$ = 
              $JSCompiler_temp_const$jscomp$1375_recentPliCount$jscomp$inline_1433$$), $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.framesDecoded = $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$ - $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$s$, 
              0 < $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.framesDecoded && $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ > $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$m$ && ($JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$u$ = 
              1000 * ($JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$ - $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$m$) / $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.framesDecoded, $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$s$ = 
              $JSCompiler_temp_const$jscomp$1377__d$jscomp$inline_1289_recentFramesDecoded$jscomp$inline_1431$$, $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$.$m$ = $JSCompiler_temp_const$jscomp$1376__b$jscomp$inline_1287_recentTotalDecodeTimeMs$jscomp$inline_1432$$), $JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$ = 
              new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$rtpv$$.size), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$ = new DataView($JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setUint32(0, 
              $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setUint32(4, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.keyFramesDecoded || 0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setUint32(8, 
              $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.nackCount || 0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setInt32(12, $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setInt32(16, 
              $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.bytesReceived || 0, $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$, 20, !0), $module$contents$output$util$utils_setUint64$$($JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.packetsReceived || 
              0, $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$, 28, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setFloat64(36, $JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$, 
              !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setFloat64(44, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.totalInterFrameDelay || 0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setFloat64(52, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.totalSquaredInterFrameDelay || 
              0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setFloat64(60, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.totalAssemblyTime || 0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setUint32(68, $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.framesAssembledFromMultiplePackets || 
              0, !0), $JSCompiler_temp_const$jscomp$1378__c$jscomp$inline_1288_recentPacketsLost$jscomp$inline_1430_view$jscomp$inline_1409$$.setFloat64(72, $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), !0), $JSCompiler_StaticMethods_addStatsReport$$([$JSCompiler_StaticMethods_updateClientAppFeedbackStats$self$jscomp$inline_1429_JSCompiler_temp_const$jscomp$1379__a$jscomp$inline_1286_buffer$jscomp$inline_1408$$], 1), $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.sendVideoTrack($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$), 
              $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.perFrameEntries) {
                $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = JSON.parse($JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.perFrameEntries);
                $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$ = [];
                $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$ = $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.$h$;
                for ($JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$ = 0; $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$ < $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$.length; $JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$++) {
                  $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$[$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$].frameNumber > $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.$h$ && 
                  ($JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$pfda$$.size), $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$ = new DataView($JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$), 
                  $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$.setUint32(0, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$[$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$].frameNumber, !0), $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$.setFloat64(4, 
                  $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$[$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$].decodeTime, !0), $_e$jscomp$inline_1290_dataView$jscomp$inline_1418_pliCount$jscomp$inline_1407$$.setFloat64(12, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$[$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$].assemblyTime, 
                  !0), $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.push($JSCompiler_StaticMethods_getExtendedDebugStats$self$jscomp$inline_1285_JSCompiler_StaticMethods_getMouseMode$self$jscomp$inline_1392_JSCompiler_temp$jscomp$1383_buffer$jscomp$inline_1417_totalDecodeTimeMs$jscomp$inline_1406$$)), $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$ = 
                  Math.max($JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$[$JSCompiler_temp_const$jscomp$1380_framesDecoded$jscomp$inline_1405_i$jscomp$inline_1416$$].frameNumber);
                }
                $JSCompiler_StaticMethods_sendInboundRtpStats$self$jscomp$inline_1296_JSCompiler_StaticMethods_sendVideoRtpPerFrame$self$jscomp$inline_1411__f$jscomp$inline_1291_audioRtp$jscomp$inline_1394_buffer$jscomp$inline_1399_event$jscomp$inline_679$$.$h$ = $JSCompiler_temp_const$jscomp$1381_packetsLost$jscomp$inline_1404_tempPfdaFrameNumber$jscomp$inline_1415_view$jscomp$inline_1396$$;
                0 < $JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$.length && $JSCompiler_StaticMethods_addStatsReport$$($JSCompiler_inline_result$jscomp$1123_JSCompiler_temp_const$jscomp$1382_buffer$jscomp$inline_1395_report$jscomp$inline_1414_videoRtp$jscomp$inline_1403_view$jscomp$inline_1400$$, 6);
              }
            }
        }
      }
    }
  }
  var $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = performance.memory;
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ && ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.usedJSHeapSize, $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ = 
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.totalJSHeapSize, $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ - 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$ca$, $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$ - $JSCompiler_StaticMethods_processStatsReport$self$$.$ba$, 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$ca$ = $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$, 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$ba$ = $JSCompiler_StaticMethods_makeStreamUpdateEvent$self$jscomp$inline_677_JSCompiler_temp_const$jscomp$1122_audioTrack$jscomp$inline_1398_currentTotalHeapSize$jscomp$inline_693_entries$jscomp$inline_1413_ids$jscomp$inline_686_rtp$jscomp$inline_1297_stats$jscomp$inline_688$$, 0 <= $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ && 
  0 <= $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ || ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $module$exports$output$ragnarokprofiler$RagnarokProfiler$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$h$ && 
  ($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = {garbageCollectionStats:{timestamp:$JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$), 
  deltaUsedHeapSize:$JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$, deltaTotalHeapSize:$_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$}}, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$g$ && 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$g$.postMessage($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$))));
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$C$;
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.$h$ && ($_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ = {inputChannelStats:{timestamp:$JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$), 
  bufferedAmount:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$B$.bufferedAmount, 
  maxSchedulingDelay:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$R$.maxSchedulingDelay}}, 
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.$g$ && $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.$g$.postMessage($_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$));
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$R$.maxSchedulingDelay = 
  0;
  $getStatsT0_statsTs$$ >= $JSCompiler_StaticMethods_processStatsReport$self$$.$Z$ && $JSCompiler_StaticMethods_processStatsReport$self$$.$N$ && ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$N$, $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = new ArrayBuffer(15), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$ = 
  new DataView($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$.setUint8(0, 2), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$.setUint8(1, 
  1), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$.setUint8(2, 1), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$.setUint32(3, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$rtp$, 
  !0), $_a$jscomp$inline_678_dataBufferView$jscomp$inline_702_deltaTotalHeapSize$jscomp$inline_695_type$jscomp$inline_685_workerMessage$jscomp$inline_1307$$.setFloat64(7, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.client, 
  !0), $JSCompiler_StaticMethods_maybeSendMessage$$($JSCompiler_StaticMethods_processStatsReport$self$$, $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$, "rtpmapping"), $JSCompiler_StaticMethods_processStatsReport$self$$.$N$ = void 0, $JSCompiler_StaticMethods_processStatsReport$self$$.$Z$ = 
  $getStatsT0_statsTs$$ + 1000);
  "video" === $JSCompiler_StaticMethods_processStatsReport$self$$.mediaType && ($module$contents$output$util$utils_ShouldEnableCPM$$($JSCompiler_StaticMethods_processStatsReport$self$$.$platformDetails$) && ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  new ArrayBuffer(12), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = new DataView($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$), 
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint8(0, 1), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint8(1, 
  1), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint16(2, $JSCompiler_StaticMethods_processStatsReport$self$$.$m$.$v$, !0), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint16(4, 
  Math.round($JSCompiler_StaticMethods_processStatsReport$self$$.$m$.$u$), !0), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint16(6, $JSCompiler_StaticMethods_processStatsReport$self$$.$m$.framesDecoded, !0), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint16(8, 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$m$.pliCount, !0), $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.setUint16(10, $JSCompiler_StaticMethods_processStatsReport$self$$.$m$.framesDropped, !0), $JSCompiler_StaticMethods_maybeSendMessage$$($JSCompiler_StaticMethods_processStatsReport$self$$, 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$, 
  "clientperf")), $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_GetStreamQuality$$($JSCompiler_StaticMethods_processStatsReport$self$$.$B$), $JSCompiler_StaticMethods_processStatsReport$self$$.$g$.$o$ = $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$, 
  $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = $JSCompiler_StaticMethods_GetStreamQuality$$($JSCompiler_StaticMethods_processStatsReport$self$$.$B$), $JSCompiler_StaticMethods_processStatsReport$self$$.$H$.emit("StreamingQuality", $JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$), 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$ga$ && ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$g$, $JSCompiler_StaticMethods_processStatsReport$self$$.$H$.emit("StreamingStats", {fps:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.fps, 
  $cumulativeAvgDecodeTime$:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$cumulativeAvgDecodeTime$, 
  avgDecodeTime:1000 * $JSCompiler_StaticMethods_getRollingAvg$$($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$m$), 
  $bwe$:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$v$, 
  $bwu$:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$bwu$, 
  width:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.streamingResolution.width, 
  height:$JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.streamingResolution.height})), 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $module$exports$output$ragnarokprofiler$RagnarokProfiler$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$h$ && 
  ($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$ = {sq:{latencyScore:$JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.latencyScore, 
  bandwidthScore:$JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.bandwidthScore, qualityScore:$JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.qualityScore, 
  networkLossScore:$JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$.networkLossScore, timestamp:$JSCompiler_StaticMethods_getStreamTime$$($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$)}}, 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$g$ && 
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$g$.postMessage($JSCompiler_StaticMethods_addInputChannelStats$self$jscomp$inline_1306_dataBuffer$jscomp$inline_701_dataBufferView$jscomp$inline_706_deltaUsedHeapSize$jscomp$inline_694_id$jscomp$inline_687_memoryInfo$jscomp$inline_691_sq$jscomp$1_workerMessage$jscomp$inline_1302_workerMessage$jscomp$inline_715$$)));
  $getStatsT0_statsTs$$ = performance.now() - $getStatsT0_statsTs$$;
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$h$ && 
  ($JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.perf.GetStats += 
  $getStatsT0_statsTs$$);
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$ = 
  $JSCompiler_StaticMethods_processStatsReport$self$$.$g$;
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$l$.value += 
  $getStatsT0_statsTs$$;
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$l$.count += 
  1;
  $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$l$.max = 
  Math.max($getStatsT0_statsTs$$, $JSCompiler_StaticMethods_addGarbageCollectionStats$self$jscomp$inline_1301_JSCompiler_StaticMethods_addGetStatsTime$self$jscomp$inline_718_JSCompiler_StaticMethods_addQualityScore$self$jscomp$inline_714_JSCompiler_StaticMethods_getStreamingStats$self$jscomp$inline_711_JSCompiler_StaticMethods_processInputChannelStats$self$jscomp$inline_697_JSCompiler_StaticMethods_updateStatsDuration$self$jscomp$inline_720_currentUsedHeapSize$jscomp$inline_692_dataBuffer$jscomp$inline_705_mapping$jscomp$inline_700_report$jscomp$5_sq$jscomp$inline_709$$.$l$.max);
  $JSCompiler_StaticMethods_processStatsReport$self$$.$fa$ && ($JSCompiler_StaticMethods_processStatsReport$self$$.mediaType = "video" === $JSCompiler_StaticMethods_processStatsReport$self$$.mediaType ? "audio" : "video");
}
function $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_emitStatsException$self$$, $exp$jscomp$12$$, $where$jscomp$3$$) {
  $JSCompiler_StaticMethods_emitStatsException$self$$.$T$.$g$($exp$jscomp$12$$, `Exception in ${$where$jscomp$3$$} getStats`, "clientstatsservice.ts", 0, 0, !0, "getStats");
}
function $JSCompiler_StaticMethods_initMap$$($JSCompiler_StaticMethods_initMap$self$$) {
  $JSCompiler_StaticMethods_initMap$self$$.$u$.getStats(null).then($report$jscomp$3$$ => {
    let $foundTrack$$ = !1;
    for (let $stat$$ of $report$jscomp$3$$.values()) {
      if ("track" === $stat$$.type && ($foundTrack$$ = !0), ["transport", "inbound-rtp", "candidate-pair"].includes($stat$$.type)) {
        "audio" === $stat$$.kind && ($JSCompiler_StaticMethods_initMap$self$$.$fa$ = !0);
        const $statsArray$$ = $JSCompiler_StaticMethods_initMap$self$$.$G$.get($stat$$.type);
        $statsArray$$ ? $statsArray$$.includes($stat$$.id) ? $module$exports$rtcutils_core$output$logger$Log$$.e("{5cea617}", "{76f5968}", $stat$$.id) : $statsArray$$.push($stat$$.id) : $JSCompiler_StaticMethods_initMap$self$$.$G$.set($stat$$.type, [$stat$$.id]);
      }
    }
    $JSCompiler_StaticMethods_initMap$self$$.$P$ = !$foundTrack$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{5cea617}", "{1317761}", $JSCompiler_StaticMethods_initMap$self$$.$P$ ? "yes" : "no");
    $JSCompiler_StaticMethods_initMap$self$$.$V$ = !0;
    $JSCompiler_StaticMethods_initMap$self$$.$j$ = $report$jscomp$3$$;
    $JSCompiler_StaticMethods_processStatsReport$$($JSCompiler_StaticMethods_initMap$self$$, $report$jscomp$3$$);
  }).catch($exp$jscomp$7$$ => $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_initMap$self$$, $exp$jscomp$7$$, "init")).finally(() => {
    $JSCompiler_StaticMethods_initMap$self$$.$A$ = !1;
  });
}
function $JSCompiler_StaticMethods_clearIntervals$$($JSCompiler_StaticMethods_clearIntervals$self$$) {
  $JSCompiler_StaticMethods_clearIntervals$self$$.$l$ && (clearInterval($JSCompiler_StaticMethods_clearIntervals$self$$.$l$), $JSCompiler_StaticMethods_clearIntervals$self$$.$l$ = 0);
  $JSCompiler_StaticMethods_clearIntervals$self$$.$I$ && (clearInterval($JSCompiler_StaticMethods_clearIntervals$self$$.$I$), $JSCompiler_StaticMethods_clearIntervals$self$$.$I$ = 0);
  $JSCompiler_StaticMethods_sendCachedVfmdStats$$($JSCompiler_StaticMethods_clearIntervals$self$$.$m$);
}
function $JSCompiler_StaticMethods_sendClientStats$$($JSCompiler_StaticMethods_sendClientStats$self$$) {
  if (!$JSCompiler_StaticMethods_sendClientStats$self$$.$A$) {
    if ($JSCompiler_StaticMethods_sendClientStats$self$$.$A$ = !0, 0 === $JSCompiler_StaticMethods_sendClientStats$self$$.$L$) {
      $JSCompiler_StaticMethods_sendClientStats$self$$.$u$.getStats().then($report$jscomp$7$$ => {
        $JSCompiler_StaticMethods_sendClientStats$self$$.$j$ = $report$jscomp$7$$;
      }).catch($exp$jscomp$8$$ => $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_sendClientStats$self$$, $exp$jscomp$8$$, "early")).finally(() => {
        $JSCompiler_StaticMethods_sendClientStats$self$$.$A$ = !1;
      });
    } else if (1 === $JSCompiler_StaticMethods_sendClientStats$self$$.$L$) {
      if ($JSCompiler_StaticMethods_sendClientStats$self$$.$V$) {
        const $receiver$jscomp$1$$ = $JSCompiler_StaticMethods_sendClientStats$self$$.$u$.getReceivers().find($receiver$jscomp$2$$ => $receiver$jscomp$2$$.track.kind === $JSCompiler_StaticMethods_sendClientStats$self$$.mediaType && $receiver$jscomp$2$$.track.enabled);
        $receiver$jscomp$1$$ && $receiver$jscomp$1$$.getStats().then($report$jscomp$8$$ => $JSCompiler_StaticMethods_processStatsReport$$($JSCompiler_StaticMethods_sendClientStats$self$$, $report$jscomp$8$$)).catch($exp$jscomp$9$$ => $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_sendClientStats$self$$, $exp$jscomp$9$$, "standard")).finally(() => {
          $JSCompiler_StaticMethods_sendClientStats$self$$.$A$ = !1;
        });
      } else {
        $JSCompiler_StaticMethods_initMap$$($JSCompiler_StaticMethods_sendClientStats$self$$);
      }
    } else {
      $JSCompiler_StaticMethods_sendClientStats$self$$.$A$ = !1;
    }
  }
}
function $JSCompiler_StaticMethods_saveDeprecatedStats$$($JSCompiler_StaticMethods_saveDeprecatedStats$self$$) {
  if (!$JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$K$) {
    $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$K$ = !0;
    var $rejectionHandler$$ = $exp$jscomp$10$$ => {
      $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_saveDeprecatedStats$self$$, $exp$jscomp$10$$, "deprecated");
      $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$K$ = !1;
    };
    $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$u$.getStats($deprecatedStats$jscomp$inline_733_report$jscomp$13$$ => {
      for ($array$jscomp$inline_734_stat$jscomp$1$$ of $deprecatedStats$jscomp$inline_733_report$jscomp$13$$.result()) {
        if ("ssrc" == $array$jscomp$inline_734_stat$jscomp$1$$.type) {
          for ($buffer$jscomp$inline_735_name$jscomp$84$$ of $array$jscomp$inline_734_stat$jscomp$1$$.names()) {
            "video" === $array$jscomp$inline_734_stat$jscomp$1$$.stat("mediaType") && ($JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$.ts = $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$.timingFrameInfo = $array$jscomp$inline_734_stat$jscomp$1$$.stat("googTimingFrameInfo"), $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$.targetDelayMs = +$array$jscomp$inline_734_stat$jscomp$1$$.stat("googTargetDelayMs"), 
            $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$.minPlayoutDelayMs = +$array$jscomp$inline_734_stat$jscomp$1$$.stat("googMinPlayoutDelayMs"), $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$.currentDelayMs = +$array$jscomp$inline_734_stat$jscomp$1$$.stat("googCurrentDelayMs"));
            break;
          }
        }
      }
      $deprecatedStats$jscomp$inline_733_report$jscomp$13$$ = $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$v$;
      var $array$jscomp$inline_734_stat$jscomp$1$$ = $deprecatedStats$jscomp$inline_733_report$jscomp$13$$.timingFrameInfo.split(",", 15);
      if (!(15 > $array$jscomp$inline_734_stat$jscomp$1$$.length)) {
        var $buffer$jscomp$inline_735_name$jscomp$84$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$depr$$.size), $view$jscomp$inline_736$$ = new DataView($buffer$jscomp$inline_735_name$jscomp$84$$);
        $view$jscomp$inline_736$$.setUint32(0, $deprecatedStats$jscomp$inline_733_report$jscomp$13$$.targetDelayMs || 0, !0);
        $view$jscomp$inline_736$$.setUint32(4, $deprecatedStats$jscomp$inline_733_report$jscomp$13$$.minPlayoutDelayMs || 0, !0);
        $view$jscomp$inline_736$$.setUint32(8, $deprecatedStats$jscomp$inline_733_report$jscomp$13$$.currentDelayMs || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(12, $JSCompiler_StaticMethods_getStreamTime$$($module$exports$output$ragnarokprofiler$RagnarokProfiler$$), !0);
        $view$jscomp$inline_736$$.setFloat64(20, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[3]) || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(28, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[4]) || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(36, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[8]) || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(44, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[9]) || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(52, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[10]) || 0, !0);
        $view$jscomp$inline_736$$.setFloat64(60, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[11]) || 0, !0);
        $view$jscomp$inline_736$$.setUint8(68, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[13]) || 0);
        $view$jscomp$inline_736$$.setUint8(69, parseFloat($array$jscomp$inline_734_stat$jscomp$1$$[14]) || 0);
        $JSCompiler_StaticMethods_addStatsReport$$([$buffer$jscomp$inline_735_name$jscomp$84$$], 0);
      }
      $JSCompiler_StaticMethods_saveDeprecatedStats$self$$.$K$ = !1;
    }, $rejectionHandler$$).catch($rejectionHandler$$);
  }
}
function $JSCompiler_StaticMethods_setOnScreenStats$$($JSCompiler_StaticMethods_setOnScreenStats$self$$, $show$jscomp$2$$, $enableDevStats$jscomp$3$$ = !1) {
  $JSCompiler_StaticMethods_setOnScreenStats$self$$.$g$.$J$.style.display = $show$jscomp$2$$ ? "block" : "none";
  $show$jscomp$2$$ ? ($JSCompiler_StaticMethods_setOnScreenStats$self$$.$F$ = $enableDevStats$jscomp$3$$ ? 2 : 1, $JSCompiler_StaticMethods_drawStatsOnScreen$$($JSCompiler_StaticMethods_setOnScreenStats$self$$.$g$, $enableDevStats$jscomp$3$$), $JSCompiler_StaticMethods_setOnScreenStats$self$$.$O$ = performance.now()) : $JSCompiler_StaticMethods_setOnScreenStats$self$$.$F$ = 0;
}
function $JSCompiler_StaticMethods_updateCandidatePairStats$$($JSCompiler_StaticMethods_updateCandidatePairStats$self$$, $report$jscomp$12$$) {
  var $_a$jscomp$77$$, $candidatePair_ids$jscomp$2$$ = $JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$G$.get("candidate-pair");
  if ($candidatePair_ids$jscomp$2$$ = null === $candidatePair_ids$jscomp$2$$ || void 0 === $candidatePair_ids$jscomp$2$$ ? void 0 : $candidatePair_ids$jscomp$2$$.map($id$jscomp$13$$ => $report$jscomp$12$$.get($id$jscomp$13$$)).find($x$jscomp$125$$ => $x$jscomp$125$$)) {
    6 <= $JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$o$.length && $JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$o$.splice(0, 1);
    $JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$o$.push($candidatePair_ids$jscomp$2$$);
    var $prevCandidatePair$$ = null === ($_a$jscomp$77$$ = $JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$j$) || void 0 === $_a$jscomp$77$$ ? void 0 : $_a$jscomp$77$$.get($candidatePair_ids$jscomp$2$$.id);
    $prevCandidatePair$$ && $JSCompiler_StaticMethods_updateAvgStreamingRate$$($JSCompiler_StaticMethods_updateCandidatePairStats$self$$.$g$, $candidatePair_ids$jscomp$2$$, $prevCandidatePair$$);
  }
}
function $JSCompiler_StaticMethods_getUnifiedInboundRtp$$($JSCompiler_StaticMethods_getUnifiedInboundRtp$self_track$jscomp$4$$, $report$jscomp$11$$, $inboundRtp$$) {
  $JSCompiler_StaticMethods_getUnifiedInboundRtp$self_track$jscomp$4$$.$P$ || ($JSCompiler_StaticMethods_getUnifiedInboundRtp$self_track$jscomp$4$$ = $report$jscomp$11$$.get($inboundRtp$$.trackId)) && ($inboundRtp$$ = Object.assign($JSCompiler_StaticMethods_getUnifiedInboundRtp$self_track$jscomp$4$$, $inboundRtp$$));
  return $inboundRtp$$;
}
function $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$, $report$jscomp$10$$) {
  var $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$, $_b$jscomp$36$$, $_c$jscomp$22$$, $ids$jscomp$1_inboundVideo$$ = $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$G$.get("inbound-rtp");
  if ($ids$jscomp$1_inboundVideo$$ && $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$j$) {
    if ($ids$jscomp$1_inboundVideo$$ = $ids$jscomp$1_inboundVideo$$.map($id$jscomp$12$$ => $report$jscomp$10$$.get($id$jscomp$12$$)).find($x$jscomp$124$$ => "video" === (null === $x$jscomp$124$$ || void 0 === $x$jscomp$124$$ ? void 0 : $x$jscomp$124$$.kind) || "video" === (null === $x$jscomp$124$$ || void 0 === $x$jscomp$124$$ ? void 0 : $x$jscomp$124$$.mediaType))) {
      $ids$jscomp$1_inboundVideo$$ = $JSCompiler_StaticMethods_getUnifiedInboundRtp$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$, $report$jscomp$10$$, $ids$jscomp$1_inboundVideo$$);
      var $codecId_decoder$jscomp$1$$ = $ids$jscomp$1_inboundVideo$$.decoderImplementation;
      if (null === $codecId_decoder$jscomp$1$$ || void 0 === $codecId_decoder$jscomp$1$$ ? 0 : $codecId_decoder$jscomp$1$$.indexOf) {
        -1 !== $codecId_decoder$jscomp$1$$.indexOf("fallback") && -1 === $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$fallbackFrameNumber$ && ($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$fallbackFrameNumber$ = null !== ($ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$ = $ids$jscomp$1_inboundVideo$$.framesDecoded) && void 0 !== $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$ ? $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$ : 
        $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$s$, $JSCompiler_StaticMethods_onEvent$$(), $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$ = "Fallback to software decode at frame " + String($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$fallbackFrameNumber$), $module$exports$rtcutils_core$output$logger$Log$$.d("{5cea617}", "{0b0c6f9}", $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$), $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$g$.$L$ = 
        !0, $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$C$, {etwPrint:$ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$})), $codecId_decoder$jscomp$1$$ !== $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$decoder$ && "unknown" !== $codecId_decoder$jscomp$1$$ && ($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$decoder$ = $codecId_decoder$jscomp$1$$, $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$g$.$decoder$ = 
        $codecId_decoder$jscomp$1$$);
      }
      if ($ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$ = $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$j$.get($ids$jscomp$1_inboundVideo$$.id)) {
        $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$counts$.$success$++;
        if ($codecId_decoder$jscomp$1$$ = $ids$jscomp$1_inboundVideo$$.codecId) {
          $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$R$ = $report$jscomp$10$$.get($codecId_decoder$jscomp$1$$).mimeType, $JSCompiler_StaticMethods_updateVideoCodec$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$g$, $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$R$);
        }
        $JSCompiler_StaticMethods_calculateNetworkLossScore$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$B$, $ids$jscomp$1_inboundVideo$$, $ETWS_SOFTWARE_DECODE_FALLBACK__a$jscomp$76_prevInboundVideo$jscomp$1$$);
        $JSCompiler_StaticMethods_JSC$2735_updateInboundVideoRtpStats$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$g$, $ids$jscomp$1_inboundVideo$$);
        $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$s$ = null !== ($_b$jscomp$36$$ = $ids$jscomp$1_inboundVideo$$.framesDecoded) && void 0 !== $_b$jscomp$36$$ ? $_b$jscomp$36$$ : 0;
        $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$ea$ = null !== ($_c$jscomp$22$$ = $ids$jscomp$1_inboundVideo$$.packetsReceived) && void 0 !== $_c$jscomp$22$$ ? $_c$jscomp$22$$ : 0;
        $JSCompiler_StaticMethods_updateDisplayResolution$$($JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$);
      } else {
        $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$counts$.$prevReportFailed$++;
      }
    } else {
      $JSCompiler_StaticMethods_JSC$2812_updateInboundVideoRtpStats$self$$.$h$.$counts$.$currReportFailed$++;
    }
  }
}
async function $JSCompiler_StaticMethods_updateDisplayResolution$$($JSCompiler_StaticMethods_updateDisplayResolution$self$$) {
  var $ETWS_DISPLAY_RESOLUTION_physicalResolution$$ = {width:screen.width * window.devicePixelRatio, height:screen.height * window.devicePixelRatio};
  const $logicalResolution$$ = {width:screen.width, height:screen.height}, $videoFramesDecoded$$ = $JSCompiler_StaticMethods_updateDisplayResolution$self$$.$s$;
  var $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ = $JSCompiler_StaticMethods_updateDisplayResolution$self$$.$$$;
  ($JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ = !($ETWS_DISPLAY_RESOLUTION_physicalResolution$$.width === $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$.width && $ETWS_DISPLAY_RESOLUTION_physicalResolution$$.height === $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$.height)) || ($JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ = 
  $JSCompiler_StaticMethods_updateDisplayResolution$self$$.$W$, $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ = !($logicalResolution$$.width === $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$.width && $logicalResolution$$.height === $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$.height));
  $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ && ($JSCompiler_StaticMethods_updateDisplayResolution$self$$.$$$ = $ETWS_DISPLAY_RESOLUTION_physicalResolution$$, $JSCompiler_StaticMethods_updateDisplayResolution$self$$.$W$ = $logicalResolution$$, $JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$ = await $JSCompiler_StaticMethods_getRefreshRate$$($module$exports$output$util$devicecapabilities$CapabilitiesHelper$$), 
  $ETWS_DISPLAY_RESOLUTION_physicalResolution$$ = `Stream[0]: Client display[-1] resolution : {physical : ${$module$contents$output$util$utils_GetResolutionString$$($ETWS_DISPLAY_RESOLUTION_physicalResolution$$)}@${$JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$}, logical : ${$module$contents$output$util$utils_GetResolutionString$$($logicalResolution$$)}@${$JSCompiler_temp$jscomp$90_refreshRate$jscomp$5_y$jscomp$inline_751_y$jscomp$inline_754$$}} at frame#${$videoFramesDecoded$$}`, 
  $module$exports$rtcutils_core$output$logger$Log$$.i("{5cea617}", "{0b0c6f9}", $ETWS_DISPLAY_RESOLUTION_physicalResolution$$), $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_updateDisplayResolution$self$$.$C$, {etwPrint:$ETWS_DISPLAY_RESOLUTION_physicalResolution$$}));
}
function $JSCompiler_StaticMethods_maybeSendMessage$$($JSCompiler_StaticMethods_maybeSendMessage$self$$, $buffer$jscomp$27$$, $where$jscomp$2$$) {
  try {
    "open" === $JSCompiler_StaticMethods_maybeSendMessage$self$$.$D$.readyState && $JSCompiler_StaticMethods_maybeSendMessage$self$$.$D$.send($buffer$jscomp$27$$);
  } catch ($exp$jscomp$11$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{5cea617}", "{78e74c5}", $exp$jscomp$11$$), $JSCompiler_StaticMethods_emitStatsException$$($JSCompiler_StaticMethods_maybeSendMessage$self$$, $exp$jscomp$11$$, $where$jscomp$2$$);
  }
}
function $JSCompiler_StaticMethods_getIceStats$$($JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$) {
  if (!(2 > $JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$.$o$.length)) {
    var $oldPair_x$jscomp$inline_763$$ = $JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$.$o$[0], $newPair$$ = $JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$.$o$[$JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$.$o$.length - 1];
    $JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$ = $newPair$$.requestsSent - $oldPair_x$jscomp$inline_763$$.requestsSent + $newPair$$.consentRequestsSent - $oldPair_x$jscomp$inline_763$$.consentRequestsSent;
    var $x$jscomp$inline_761$$ = $newPair$$.responsesReceived - $oldPair_x$jscomp$inline_763$$.responsesReceived;
    $oldPair_x$jscomp$inline_763$$ = $newPair$$.packetsReceived - $oldPair_x$jscomp$inline_763$$.packetsReceived;
    return {$recentRequestsSent$:isNaN($JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$) ? -1 : $JSCompiler_StaticMethods_getIceStats$self_x$jscomp$inline_759$$, $recentResponsesReceived$:isNaN($x$jscomp$inline_761$$) ? -1 : $x$jscomp$inline_761$$, $recentPacketsReceived$:isNaN($oldPair_x$jscomp$inline_763$$) ? -1 : $oldPair_x$jscomp$inline_763$$};
  }
}
function $JSCompiler_StaticMethods_getCandidateStatCategoryCounts$$($JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$) {
  let $candidateCounts$$ = new $module$exports$output$stats$clientstatsservice$IceCandidateCategoryCounts$$();
  if (!$JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$.$j$) {
    return $candidateCounts$$;
  }
  for (const $stat$jscomp$3$$ of $JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$.$j$.values()) {
    "local-candidate" === $stat$jscomp$3$$.type && ($JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$ = $module$contents$output$stats$clientstatsservice_getIceCandidateCategory$$($stat$jscomp$3$$), $candidateCounts$$.set($JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$, $candidateCounts$$.get($JSCompiler_StaticMethods_getCandidateStatCategoryCounts$self_category$jscomp$1$$) + 1));
  }
  return $candidateCounts$$;
}
function $JSCompiler_StaticMethods_getCandidateAddressRanges$$($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$) {
  let $candidateAddressRanges$$ = new Set();
  if (!$JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$.$j$) {
    return $candidateAddressRanges$$;
  }
  for (const $stat$jscomp$4$$ of $JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$.$j$.values()) {
    "local-candidate" === $stat$jscomp$4$$.type && ($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$ = $stat$jscomp$4$$, "IPV4" === $module$contents$output$stats$clientstatsservice_getIceCandidateCategory$$($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$) && ($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$ = $module$contents$output$stats$clientstatsservice_getIceCandidateAddressRange$$($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$), 
    "UNKNOWN" !== $JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$ && $candidateAddressRanges$$.add($JSCompiler_StaticMethods_getCandidateAddressRanges$self_candidateRange_candidateStat$jscomp$1$$)));
  }
  return $candidateAddressRanges$$;
}
var $module$exports$output$stats$clientstatsservice$ClientStatsService$$ = class {
  constructor($eventEmitter$jscomp$1$$, $callbacks$jscomp$2$$, $videoElement$jscomp$8$$, $pc$jscomp$1$$, $nvstConfig$$, $telemetry$jscomp$6$$, $platformDetails$jscomp$39$$, $staticStreamStats$jscomp$1$$, $windowObserver$jscomp$3$$) {
    var $_a$jscomp$72$$, $_b$jscomp$33$$, $_c$jscomp$19$$, $_d$jscomp$17$$;
    this.$aa$ = !0;
    this.$s$ = this.$ea$ = this.$I$ = this.$l$ = 0;
    this.$R$ = "";
    this.$V$ = !1;
    this.$G$ = new Map();
    this.$U$ = this.rtd = this.jitter = this.$M$ = 0;
    this.mediaType = "video";
    this.$ba$ = this.$ca$ = this.$O$ = this.$F$ = 0;
    this.$o$ = [];
    this.$W$ = {width:0, height:0};
    this.$$$ = {width:0, height:0};
    this.$P$ = this.$K$ = this.$A$ = !1;
    this.$L$ = this.$Z$ = 0;
    this.$H$ = $eventEmitter$jscomp$1$$;
    this.$C$ = $callbacks$jscomp$2$$;
    this.$videoElement$ = $videoElement$jscomp$8$$;
    this.$u$ = $pc$jscomp$1$$;
    this.$mapRtpTimestampsToFrames$ = null !== ($_b$jscomp$33$$ = null === ($_a$jscomp$72$$ = $nvstConfig$$.video) || void 0 === $_a$jscomp$72$$ ? void 0 : $_a$jscomp$72$$[0].$mapRtpTimestampsToFrames$) && void 0 !== $_b$jscomp$33$$ ? $_b$jscomp$33$$ : !1;
    this.maxBitrate = null !== ($_d$jscomp$17$$ = null === ($_c$jscomp$19$$ = $nvstConfig$$.video) || void 0 === $_c$jscomp$19$$ ? void 0 : $_c$jscomp$19$$[0].$maximumBitrateKbps$) && void 0 !== $_d$jscomp$17$$ ? $_d$jscomp$17$$ : 0;
    this.$T$ = $telemetry$jscomp$6$$;
    this.$platformDetails$ = $platformDetails$jscomp$39$$;
    this.$S$ = $staticStreamStats$jscomp$1$$;
    this.$v$ = {ts:0, timingFrameInfo:"", targetDelayMs:0, minPlayoutDelayMs:0, currentDelayMs:0};
    this.$B$ = new $module$exports$output$stats$qoscalculator$QosCalculator$$(this.maxBitrate);
    this.$g$ = new $module$exports$output$stats$streamstats$StreamStats$$($videoElement$jscomp$8$$, this.$platformDetails$, this.$S$);
    $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && (this.$J$ = new $module$exports$output$debug$ldatoverlay$LDATOverlay$$($videoElement$jscomp$8$$, $windowObserver$jscomp$3$$));
    this.$u$ = $pc$jscomp$1$$;
    $JSCompiler_StaticMethods_createStatsDataChannel$$(this);
    this.$ga$ = this.$H$.hasListener("StreamingStats");
    this.$m$ = new $module$exports$output$stats$binaryreport$BinaryReport$$();
    this.$h$ = {$counts$:{$currReportFailed$:0, $prevReportFailed$:0, $success$:0}, $decoder$:"", $fallbackFrameNumber$:-1};
    this.$da$ = this.$ha$.bind(this);
    $JSCompiler_StaticMethods_setIntervals$$(this);
  }
  $ha$($now$jscomp$10$$, $metadata$jscomp$3$$) {
    var $_a$jscomp$74$$, $_b$jscomp$35$$, $_c$jscomp$21$$, $JSCompiler_StaticMethods_sendVideoFrameMetadata$self$jscomp$inline_765$$ = this.$m$, $_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$, $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$, $processTimeMs$jscomp$inline_771_recvTimeMs$jscomp$inline_769$$ = null !== ($_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$ = $metadata$jscomp$3$$.receiveTime) && void 0 !== $_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$ ? 
    $_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$ : 0;
    $_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$ = $metadata$jscomp$3$$.presentationTime - $processTimeMs$jscomp$inline_771_recvTimeMs$jscomp$inline_769$$;
    $processTimeMs$jscomp$inline_771_recvTimeMs$jscomp$inline_769$$ = 1000 * (null !== ($JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ = $metadata$jscomp$3$$.processingDuration) && void 0 !== $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ ? $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ : 0);
    $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ = $metadata$jscomp$3$$.presentationTime;
    $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ = void 0 !== $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ ? $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$ - $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$j$ : 0;
    const $buffer$jscomp$inline_773$$ = new ArrayBuffer($module$exports$output$stats$webrtcbinarystats$statsConfig$vfmd$$.size), $view$jscomp$inline_774$$ = new DataView($buffer$jscomp$inline_773$$);
    $view$jscomp$inline_774$$.setFloat64(0, $JSCompiler_inline_result$jscomp$1112__b$jscomp$inline_768_value$jscomp$inline_1313$$, !0);
    $view$jscomp$inline_774$$.setUint16(8, Math.min(100 * $_a$jscomp$inline_767_presentTimeMs$jscomp$inline_770$$, 65535), !0);
    $view$jscomp$inline_774$$.setUint16(10, Math.min(100 * $processTimeMs$jscomp$inline_771_recvTimeMs$jscomp$inline_769$$, 65535), !0);
    $JSCompiler_StaticMethods_sendVideoFrameMetadata$self$jscomp$inline_765$$.$g$.push($buffer$jscomp$inline_773$$);
    120 == $JSCompiler_StaticMethods_sendVideoFrameMetadata$self$jscomp$inline_765$$.$g$.length && $JSCompiler_StaticMethods_sendCachedVfmdStats$$($JSCompiler_StaticMethods_sendVideoFrameMetadata$self$jscomp$inline_765$$);
    (null === ($_a$jscomp$74$$ = this.$J$) || void 0 === $_a$jscomp$74$$ ? 0 : $_a$jscomp$74$$.$o$()) && $JSCompiler_StaticMethods_JSC$2768_onVideoFrame$$(this.$J$.$j$, $now$jscomp$10$$, $metadata$jscomp$3$$);
    this.$mapRtpTimestampsToFrames$ && $metadata$jscomp$3$$.rtpTimestamp && $metadata$jscomp$3$$.receiveTime && (this.$N$ = {$rtp$:$metadata$jscomp$3$$.rtpTimestamp, client:$metadata$jscomp$3$$.receiveTime - $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$j$});
    0 != this.$l$ && (null === ($_c$jscomp$21$$ = ($_b$jscomp$35$$ = this.$videoElement$).requestVideoFrameCallback) || void 0 === $_c$jscomp$21$$ ? void 0 : $_c$jscomp$21$$.call($_b$jscomp$35$$, this.$da$));
  }
  reset() {
    $JSCompiler_StaticMethods_clearIntervals$$(this);
    this.$B$ = new $module$exports$output$stats$qoscalculator$QosCalculator$$(this.maxBitrate);
    this.$g$ = new $module$exports$output$stats$streamstats$StreamStats$$(this.$videoElement$, this.$platformDetails$, this.$S$);
    this.$j$ = void 0;
  }
  stop() {
    var $_a$jscomp$75$$;
    this.$aa$ && (this.$aa$ = !1, 0 != this.$l$ && (this.reset(), $JSCompiler_StaticMethods_setOnScreenStats$$(this, !1)), null === ($_a$jscomp$75$$ = this.$J$) || void 0 === $_a$jscomp$75$$ ? void 0 : $_a$jscomp$75$$.stop(), $JSCompiler_StaticMethods_emitMetricEvent$$(this.$T$, "InboundVideoStats", this.$h$.$decoder$, this.$h$.$counts$.$success$, this.$h$.$counts$.$currReportFailed$, this.$h$.$fallbackFrameNumber$, this.$h$.$counts$.$prevReportFailed$));
  }
  toggleOnScreenStats($enableDevStats$jscomp$2$$) {
    $JSCompiler_StaticMethods_setOnScreenStats$$(this, 0 === this.$F$, $enableDevStats$jscomp$2$$);
  }
  packetsReceived() {
    return this.$ea$;
  }
};
function $module$contents$output$stats$clientstatsservice_getIceCandidateCategory$$($address_candidate$jscomp$1$$) {
  return "tcp" === $address_candidate$jscomp$1$$.protocol ? "TCP" : ($address_candidate$jscomp$1$$ = $address_candidate$jscomp$1$$.address || $address_candidate$jscomp$1$$.relatedAddress) ? $address_candidate$jscomp$1$$.endsWith(".local") ? "MDNS" : -1 !== $address_candidate$jscomp$1$$.indexOf(":") ? "IPV6" : "IPV4" : "UNKNOWN";
}
function $module$contents$output$stats$clientstatsservice_getIceCandidateAddressRange$$($address$jscomp$1_candidate$jscomp$2_firstOctet$$) {
  $address$jscomp$1_candidate$jscomp$2_firstOctet$$ = $address$jscomp$1_candidate$jscomp$2_firstOctet$$.address || $address$jscomp$1_candidate$jscomp$2_firstOctet$$.relatedAddress;
  var $octets_secondOctet$$ = null === $address$jscomp$1_candidate$jscomp$2_firstOctet$$ || void 0 === $address$jscomp$1_candidate$jscomp$2_firstOctet$$ ? void 0 : $address$jscomp$1_candidate$jscomp$2_firstOctet$$.split(".");
  if (4 === (null === $octets_secondOctet$$ || void 0 === $octets_secondOctet$$ ? void 0 : $octets_secondOctet$$.length) && ($address$jscomp$1_candidate$jscomp$2_firstOctet$$ = parseInt($octets_secondOctet$$[0]), $octets_secondOctet$$ = parseInt($octets_secondOctet$$[1]), !isNaN($address$jscomp$1_candidate$jscomp$2_firstOctet$$) && !isNaN($octets_secondOctet$$))) {
    let $range$jscomp$5$$ = "UNKNOWN";
    10 === $address$jscomp$1_candidate$jscomp$2_firstOctet$$ ? $range$jscomp$5$$ = "10/8" : 192 === $address$jscomp$1_candidate$jscomp$2_firstOctet$$ && 168 === $octets_secondOctet$$ ? $range$jscomp$5$$ = "192.168/16" : 172 === $address$jscomp$1_candidate$jscomp$2_firstOctet$$ && 16 === ($octets_secondOctet$$ & 240) && ($range$jscomp$5$$ = "172.16/12");
    "UNKNOWN" !== $range$jscomp$5$$ && $module$exports$rtcutils_core$output$logger$Log$$.d("{5cea617}", "{343589d}", $range$jscomp$5$$);
    return $range$jscomp$5$$;
  }
  $module$exports$rtcutils_core$output$logger$Log$$.i("{5cea617}", "{fa2d6b9}");
  return "UNKNOWN";
}
;function $module$contents$output$nvstconfig_parseOfferSdp$$($attribute$jscomp$1_sdpStr_value$jscomp$128$$) {
  let $sdp$jscomp$3$$ = {origin:"", time:"", $generalAttributes$:new Map(), media:[]}, $attributes$jscomp$1$$ = new Map(), $msid$$ = void 0, $mediaType$$ = void 0, $inMedia$$ = !1;
  const $handleDescEnd$$ = () => {
    if ($inMedia$$) {
      if ($mediaType$$ && $msid$$) {
        $sdp$jscomp$3$$.media.push({mediaType:$mediaType$$, $msid$:$msid$$, attributes:$attributes$jscomp$1$$}), $msid$$ = $mediaType$$ = void 0;
      } else {
        return $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{adc37a7}"), !1;
      }
    } else {
      $sdp$jscomp$3$$.$generalAttributes$ = $attributes$jscomp$1$$, $inMedia$$ = !0;
    }
    $attributes$jscomp$1$$ = new Map();
    return !0;
  };
  for (const $line$jscomp$3$$ of $attribute$jscomp$1_sdpStr_value$jscomp$128$$.split(/\r?\n/)) {
    if (!(2 > $line$jscomp$3$$.length || "=" !== $line$jscomp$3$$[1])) {
      var $attributeValue_parts$jscomp$3_type$jscomp$168$$ = $line$jscomp$3$$[0];
      $attribute$jscomp$1_sdpStr_value$jscomp$128$$ = $line$jscomp$3$$.substr(2);
      if ("m" == $attributeValue_parts$jscomp$3_type$jscomp$168$$) {
        if (!$handleDescEnd$$()) {
          return;
        }
        $mediaType$$ = $attribute$jscomp$1_sdpStr_value$jscomp$128$$.split(" ")[0];
      } else if ("a" == $attributeValue_parts$jscomp$3_type$jscomp$168$$) {
        if ($attributeValue_parts$jscomp$3_type$jscomp$168$$ = $attribute$jscomp$1_sdpStr_value$jscomp$128$$.split(":", 2), 1 !== $attributeValue_parts$jscomp$3_type$jscomp$168$$.length) {
          if (2 !== $attributeValue_parts$jscomp$3_type$jscomp$168$$.length) {
            $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{f6bdb84}", $attribute$jscomp$1_sdpStr_value$jscomp$128$$);
            return;
          }
          $attribute$jscomp$1_sdpStr_value$jscomp$128$$ = $attributeValue_parts$jscomp$3_type$jscomp$168$$[0];
          $attributeValue_parts$jscomp$3_type$jscomp$168$$ = $attributeValue_parts$jscomp$3_type$jscomp$168$$[1];
          if ("msid" === $attribute$jscomp$1_sdpStr_value$jscomp$128$$) {
            if (void 0 === $msid$$) {
              $msid$$ = $attributeValue_parts$jscomp$3_type$jscomp$168$$;
            } else {
              $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{dc7fbec}", $attributeValue_parts$jscomp$3_type$jscomp$168$$);
              return;
            }
          } else {
            $attributes$jscomp$1$$.set($attribute$jscomp$1_sdpStr_value$jscomp$128$$, $attributeValue_parts$jscomp$3_type$jscomp$168$$);
          }
        }
      } else if ("t" == $attributeValue_parts$jscomp$3_type$jscomp$168$$) {
        if ($inMedia$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{14fc069}");
          return;
        }
        $sdp$jscomp$3$$.time = $attribute$jscomp$1_sdpStr_value$jscomp$128$$;
      } else if ("o" == $attributeValue_parts$jscomp$3_type$jscomp$168$$) {
        if ($inMedia$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{eb0287a}");
          return;
        }
        $sdp$jscomp$3$$.origin = $attribute$jscomp$1_sdpStr_value$jscomp$128$$;
      }
    }
  }
  if ($handleDescEnd$$()) {
    if ("" === $sdp$jscomp$3$$.time || "" === $sdp$jscomp$3$$.origin) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{8e7e486}");
    } else {
      return $sdp$jscomp$3$$;
    }
  }
}
function $module$contents$output$nvstconfig_overrideSdp$$($index$jscomp$116_override$jscomp$1$$, $localSdp$jscomp$1$$, $remoteSdp$jscomp$1$$, $source$jscomp$20$$) {
  const $regex$$ = /^([^[.]+)(?:\[(\d+)\])?\.([^:]+): *(.+)$/;
  let $success$$ = !0;
  for (const $line$jscomp$4$$ of $index$jscomp$116_override$jscomp$1$$.split(/\r?\n/)) {
    var $groups_path$jscomp$5$$ = $regex$$.exec($line$jscomp$4$$);
    if ($groups_path$jscomp$5$$) {
      var $media$jscomp$1_prefix$jscomp$3$$ = $groups_path$jscomp$5$$[1];
      $index$jscomp$116_override$jscomp$1$$ = void 0 !== $groups_path$jscomp$5$$[2] ? Number.parseInt($groups_path$jscomp$5$$[2]) : void 0;
      const $value$jscomp$129$$ = $groups_path$jscomp$5$$[4];
      $groups_path$jscomp$5$$ = $media$jscomp$1_prefix$jscomp$3$$ + "." + $groups_path$jscomp$5$$[3];
      $media$jscomp$1_prefix$jscomp$3$$ = $module$contents$output$nvstconfig_getMediaTypeForPrefix$$($media$jscomp$1_prefix$jscomp$3$$);
      const $localConfig$$ = $module$contents$output$nvstconfig_getMediaConfig$$($localSdp$jscomp$1$$, $media$jscomp$1_prefix$jscomp$3$$, $index$jscomp$116_override$jscomp$1$$), $remoteConfig$$ = $module$contents$output$nvstconfig_getMediaConfig$$($remoteSdp$jscomp$1$$, $media$jscomp$1_prefix$jscomp$3$$, $index$jscomp$116_override$jscomp$1$$);
      $localConfig$$ && $remoteConfig$$ ? $remoteConfig$$.has($groups_path$jscomp$5$$) ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{eb7c2d0}", "{2beb68f}", $source$jscomp$20$$, $groups_path$jscomp$5$$, $value$jscomp$129$$), $localConfig$$.set($groups_path$jscomp$5$$, $value$jscomp$129$$)) : ($module$exports$rtcutils_core$output$logger$Log$$.w("{eb7c2d0}", "{cc4fdef}", $source$jscomp$20$$, $groups_path$jscomp$5$$, $value$jscomp$129$$), $success$$ = !1) : ($module$exports$rtcutils_core$output$logger$Log$$.w("{eb7c2d0}", 
      "{a649ad8}", $source$jscomp$20$$, $media$jscomp$1_prefix$jscomp$3$$, $index$jscomp$116_override$jscomp$1$$), $success$$ = !1);
    }
  }
  return $success$$;
}
function $module$contents$output$nvstconfig_getMediaTypeForPrefix$$($prefix$jscomp$4$$) {
  switch($prefix$jscomp$4$$) {
    case "video":
    case "vqos":
    case "qscore":
    case "bwe":
    case "clientPerfBr":
    case "packetPacing":
      return "video";
    case "audio":
    case "aqos":
    case "audioBitrate":
      return "audio";
    case "ri":
      return "application";
    case "mic":
      return "mic";
  }
}
function $module$contents$output$nvstconfig_updateConfig$$($config$jscomp$6$$, $sdp$jscomp$4_video$jscomp$1$$) {
  let $success$jscomp$1$$ = !0;
  const $getNumber$$ = ($attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$, $name$jscomp$86$$) => {
    if ($attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$ = $attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$.get($name$jscomp$86$$)) {
      if ($attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$ = parseInt($attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$), !Number.isNaN($attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$)) {
        return $attributes$jscomp$4_num$jscomp$8_value$jscomp$130$$;
      }
    }
    $module$exports$rtcutils_core$output$logger$Log$$.e("{eb7c2d0}", "{0a60213}", $name$jscomp$86$$);
    $success$jscomp$1$$ = !1;
    return 0;
  };
  $config$jscomp$6$$.$clientCapture$ = $getNumber$$($sdp$jscomp$4_video$jscomp$1$$.$generalAttributes$, "general.clientCapture");
  let $videoIdx$jscomp$1$$ = 0;
  for (const $stream$jscomp$9$$ of $sdp$jscomp$4_video$jscomp$1$$.media) {
    if ("video" === $stream$jscomp$9$$.mediaType && $videoIdx$jscomp$1$$ < $config$jscomp$6$$.video.length) {
      $sdp$jscomp$4_video$jscomp$1$$ = $config$jscomp$6$$.video[$videoIdx$jscomp$1$$];
      const $attributes$jscomp$6$$ = $stream$jscomp$9$$.attributes;
      $sdp$jscomp$4_video$jscomp$1$$.$clientViewportWd$ = $getNumber$$($attributes$jscomp$6$$, "video.clientViewportWd");
      $sdp$jscomp$4_video$jscomp$1$$.$clientViewportHt$ = $getNumber$$($attributes$jscomp$6$$, "video.clientViewportHt");
      $sdp$jscomp$4_video$jscomp$1$$.$maxFps$ = $getNumber$$($attributes$jscomp$6$$, "video.maxFPS");
      $sdp$jscomp$4_video$jscomp$1$$.$initialBitrateKbps$ = $getNumber$$($attributes$jscomp$6$$, "video.initialBitrateKbps");
      $sdp$jscomp$4_video$jscomp$1$$.$initialPeakBitrateKbps$ = $getNumber$$($attributes$jscomp$6$$, "video.initialPeakBitrateKbps");
      $sdp$jscomp$4_video$jscomp$1$$.$maximumBitrateKbps$ = $getNumber$$($attributes$jscomp$6$$, "vqos.bw.maximumBitrateKbps");
      $sdp$jscomp$4_video$jscomp$1$$.$minimumBitrateKbps$ = $getNumber$$($attributes$jscomp$6$$, "vqos.bw.minimumBitrateKbps");
      $sdp$jscomp$4_video$jscomp$1$$.$mapRtpTimestampsToFrames$ = 0 < $getNumber$$($attributes$jscomp$6$$, "video.mapRtpTimestampsToFrames");
      $videoIdx$jscomp$1$$++;
    }
  }
  return $success$jscomp$1$$;
}
function $module$contents$output$nvstconfig_getMediaConfig$$($sdp$jscomp$5$$, $mediaType$jscomp$1$$, $index$jscomp$117$$) {
  var $_a$jscomp$79$$;
  return void 0 === $mediaType$jscomp$1$$ ? $sdp$jscomp$5$$.$generalAttributes$ : null === ($_a$jscomp$79$$ = $sdp$jscomp$5$$.media.filter($x$jscomp$128$$ => $x$jscomp$128$$.mediaType === $mediaType$jscomp$1$$)[null !== $index$jscomp$117$$ && void 0 !== $index$jscomp$117$$ ? $index$jscomp$117$$ : 0]) || void 0 === $_a$jscomp$79$$ ? void 0 : $_a$jscomp$79$$.attributes;
}
function $module$contents$output$nvstconfig_serializeAnswer$$($localSdp$jscomp$3_remoteMedia$$, $remoteSdp$jscomp$3$$) {
  let $answer$jscomp$1$$ = `v=0
o=${$localSdp$jscomp$3_remoteMedia$$.origin}
s=-
t=${$localSdp$jscomp$3_remoteMedia$$.time}
`;
  const $addConfigs$$ = ($localConfigs_name$jscomp$88$$, $remoteConfigs$$) => {
    for (const [$name__tsickle_destructured_1$$, $value__tsickle_destructured_2$jscomp$3$$] of $localConfigs_name$jscomp$88$$) {
      $localConfigs_name$jscomp$88$$ = $name__tsickle_destructured_1$$;
      const $value$jscomp$131$$ = $value__tsickle_destructured_2$jscomp$3$$;
      $value$jscomp$131$$ !== $remoteConfigs$$.get($localConfigs_name$jscomp$88$$) && ($answer$jscomp$1$$ += `a=${$localConfigs_name$jscomp$88$$}:${$value$jscomp$131$$}\n`);
    }
  };
  $addConfigs$$($localSdp$jscomp$3_remoteMedia$$.$generalAttributes$, $remoteSdp$jscomp$3$$.$generalAttributes$);
  for (const $stream$jscomp$10$$ of $localSdp$jscomp$3_remoteMedia$$.media) {
    $answer$jscomp$1$$ += `m=${$stream$jscomp$10$$.mediaType} 0 RTP/AVP\n`, $answer$jscomp$1$$ += `a=msid:${$stream$jscomp$10$$.$msid$}\n`, $localSdp$jscomp$3_remoteMedia$$ = $remoteSdp$jscomp$3$$.media.find($x$jscomp$129$$ => $x$jscomp$129$$.$msid$ === $stream$jscomp$10$$.$msid$), $addConfigs$$($stream$jscomp$10$$.attributes, $localSdp$jscomp$3_remoteMedia$$.attributes);
  }
  return $answer$jscomp$1$$;
}
;function $JSCompiler_StaticMethods_createWebSocket$$($JSCompiler_StaticMethods_createWebSocket$self$$, $reconnect$jscomp$2$$ = !1) {
  try {
    let $header$jscomp$3$$;
    $JSCompiler_StaticMethods_createWebSocket$self$$.url.includes("wss") && ($header$jscomp$3$$ = "x-nv-sessionid." + $JSCompiler_StaticMethods_createWebSocket$self$$.sessionId, $JSCompiler_StaticMethods_createWebSocket$self$$.accessToken && ($header$jscomp$3$$ += "-Authorization.Bearer-" + $JSCompiler_StaticMethods_createWebSocket$self$$.accessToken));
    let $websocketUrl$$ = $JSCompiler_StaticMethods_createWebSocket$self$$.url;
    $reconnect$jscomp$2$$ && ($websocketUrl$$ += "&reconnect=1");
    let $localWs$$ = new WebSocket($websocketUrl$$, $header$jscomp$3$$);
    $localWs$$.onopen = () => {
      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{aaf44dc}");
      $JSCompiler_StaticMethods_openHandler$$($JSCompiler_StaticMethods_createWebSocket$self$$.$wsHandler$);
      if ($localWs$$ === $JSCompiler_StaticMethods_createWebSocket$self$$.$g$) {
        for (const $pendingMessage$$ of $JSCompiler_StaticMethods_createWebSocket$self$$.$j$) {
          $pendingMessage$$.stats ? $localWs$$.send($pendingMessage$$.stats) : $localWs$$.send(JSON.stringify($pendingMessage$$));
        }
        for (const $pendingMessage$jscomp$1$$ of $JSCompiler_StaticMethods_createWebSocket$self$$.$m$) {
          $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$($JSCompiler_StaticMethods_createWebSocket$self$$, $pendingMessage$jscomp$1$$);
        }
        $JSCompiler_StaticMethods_createWebSocket$self$$.$m$ = [];
      }
    };
    $localWs$$.onclose = $event$jscomp$23$$ => {
      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{7a09ad8}");
      $JSCompiler_StaticMethods_closeHandler$$($JSCompiler_StaticMethods_createWebSocket$self$$.$wsHandler$, {error:$JSCompiler_StaticMethods_createWebSocket$self$$.$o$, code:$event$jscomp$23$$.code, reason:$event$jscomp$23$$.reason, wasClean:$event$jscomp$23$$.wasClean});
      $localWs$$ === $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ && ($JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = void 0);
      $JSCompiler_StaticMethods_createWebSocket$self$$.$o$ = !1;
    };
    $localWs$$.onerror = () => {
      $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{418a180}");
      $JSCompiler_StaticMethods_createWebSocket$self$$.$o$ = !0;
    };
    $localWs$$.onmessage = $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$ => {
      $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$ = JSON.parse($ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.data);
      $JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck && $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_createWebSocket$self$$);
      void 0 === $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ackid || $JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck || ($JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck = !0, $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{523f5b9}"), $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_createWebSocket$self$$));
      if (!$ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.hb) {
        if ($JSCompiler_StaticMethods_createWebSocket$self$$.serverSupportsAck) {
          if (void 0 !== $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ack) {
            var $ack$jscomp$inline_795$$ = $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ack;
            for (let $i$jscomp$inline_796$$ = $JSCompiler_StaticMethods_createWebSocket$self$$.$j$.length - 1; 0 <= $i$jscomp$inline_796$$; $i$jscomp$inline_796$$--) {
              $JSCompiler_StaticMethods_createWebSocket$self$$.$j$[$i$jscomp$inline_796$$].ackid <= $ack$jscomp$inline_795$$ && $JSCompiler_StaticMethods_createWebSocket$self$$.$j$.splice($i$jscomp$inline_796$$, 1);
            }
          }
          void 0 !== $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ackid ? ($JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId < $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ackid && ($JSCompiler_StaticMethods_messageHandler$$($JSCompiler_StaticMethods_createWebSocket$self$$.$wsHandler$, $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$), $JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId = $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ackid), $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ && 
          ($ack$jscomp$inline_799_event$jscomp$25_wsMsg$$ = JSON.stringify({ack:$JSCompiler_StaticMethods_createWebSocket$self$$.maxReceivedAckId}), $JSCompiler_StaticMethods_createWebSocket$self$$.$h$("{903be10}" + $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$), $JSCompiler_StaticMethods_createWebSocket$self$$.$g$.send($ack$jscomp$inline_799_event$jscomp$25_wsMsg$$))) : void 0 === $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$.ack && $JSCompiler_StaticMethods_messageHandler$$($JSCompiler_StaticMethods_createWebSocket$self$$.$wsHandler$, 
          $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$);
        } else {
          $JSCompiler_StaticMethods_messageHandler$$($JSCompiler_StaticMethods_createWebSocket$self$$.$wsHandler$, $ack$jscomp$inline_799_event$jscomp$25_wsMsg$$);
        }
      }
    };
    $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = $localWs$$;
  } catch ($exp$jscomp$13$$) {
    $JSCompiler_StaticMethods_createWebSocket$self$$.$g$ = void 0, $JSCompiler_StaticMethods_createWebSocket$self$$.$s$("WebSocket creation exception: " + $exp$jscomp$13$$);
  }
}
function $JSCompiler_StaticMethods_clearHeartBeatTimeout$$($JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$) {
  0 !== $JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$l$ && (self.clearTimeout($JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$l$), $JSCompiler_StaticMethods_clearHeartBeatTimeout$self$$.$l$ = 0);
}
function $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$) {
  $JSCompiler_StaticMethods_clearHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$);
  $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$l$ = self.setTimeout(() => {
    var $_a$jscomp$inline_802$$;
    $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$h$("{6c3505a}" + (null === ($_a$jscomp$inline_802$$ = $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$g$) || void 0 === $_a$jscomp$inline_802$$ ? void 0 : $_a$jscomp$inline_802$$.readyState));
    $JSCompiler_StaticMethods_setHeartBeatTimeout$self$$.$g$ || $JSCompiler_StaticMethods_createWebSocket$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$, !0);
    $JSCompiler_StaticMethods_setHeartBeatTimeout$$($JSCompiler_StaticMethods_setHeartBeatTimeout$self$$);
  }, 3000);
}
function $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$($JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$, $data$jscomp$97$$) {
  void 0 !== $data$jscomp$97$$.ackid && $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.serverSupportsAck && void 0 !== $data$jscomp$97$$.ackid && $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$j$.push($data$jscomp$97$$);
  $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$ && ($data$jscomp$97$$.stats ? $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$.send($data$jscomp$97$$.stats) : $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$self$$.$g$.send(JSON.stringify($data$jscomp$97$$)));
}
var $module$exports$output$websocketimpl$WebSocketImpl$$ = class {
  constructor($sessionId$jscomp$28$$, $accessToken$$, $webSocketImplCallbacks$$) {
    this.sessionId = $sessionId$jscomp$28$$;
    this.accessToken = $accessToken$$;
    this.serverSupportsAck = this.$o$ = !1;
    this.$j$ = [];
    this.$m$ = [];
    this.maxReceivedAckId = this.$l$ = 0;
    this.url = "";
    this.$h$ = $webSocketImplCallbacks$$.$logCallback$.info;
    this.$s$ = $webSocketImplCallbacks$$.$logCallback$.exception;
    this.$wsHandler$ = $webSocketImplCallbacks$$.$wsHandler$;
  }
  initialize($url$jscomp$34$$, $maxReceivedAckId$jscomp$1$$, $serverSupportsAck$jscomp$1$$, $reconnect$jscomp$1$$ = !1) {
    this.url = $url$jscomp$34$$;
    this.maxReceivedAckId = $maxReceivedAckId$jscomp$1$$;
    this.serverSupportsAck = $serverSupportsAck$jscomp$1$$;
    $JSCompiler_StaticMethods_createWebSocket$$(this, $reconnect$jscomp$1$$);
    this.$h$("{f4b05a4}");
  }
  uninitialize($closeCode$$) {
    var $_a$jscomp$81$$;
    this.maxReceivedAckId = 0;
    this.serverSupportsAck = !1;
    this.$j$ = [];
    this.$m$ = [];
    $JSCompiler_StaticMethods_clearHeartBeatTimeout$$(this);
    null === ($_a$jscomp$81$$ = this.$g$) || void 0 === $_a$jscomp$81$$ ? void 0 : $_a$jscomp$81$$.close($closeCode$$);
    this.$h$("{986b258}" + $closeCode$$);
  }
  reconnect() {
    $JSCompiler_StaticMethods_createWebSocket$$(this, !0);
  }
  send($data$jscomp$98$$) {
    this.serverSupportsAck || this.$g$ || $JSCompiler_StaticMethods_createWebSocket$$(this, !0);
    this.$g$ && this.$g$.readyState === WebSocket.OPEN ? $JSCompiler_StaticMethods_sendOnWsReliablyIfNeeded$$(this, $data$jscomp$98$$) : this.$m$.push($data$jscomp$98$$);
  }
};
function $module$contents$output$debug$bitstreamdump_getVideoCodecExtension$$($codec$jscomp$3$$) {
  switch($codec$jscomp$3$$) {
    case "H264":
      return "h264";
    case "H265":
      return "hevc";
    case "AV1":
      return "av1";
    default:
      return "video";
  }
}
function $JSCompiler_StaticMethods_setupStream$$($JSCompiler_StaticMethods_setupStream$self$$, $target$jscomp$114_transform$jscomp$1$$, $stream$jscomp$13$$) {
  const {readable:$readable$$, writable:$writable$$} = $target$jscomp$114_transform$jscomp$1$$.createEncodedStreams();
  $target$jscomp$114_transform$jscomp$1$$ = new TransformStream({start:() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{d7392d2}", "{b96b3ec}", $stream$jscomp$13$$.$namePrefix$);
  }, flush:() => {
  }, transform:($encodedFrame$$, $controller$jscomp$2$$) => {
    if (!$stream$jscomp$13$$.$isFull$) {
      const $from$jscomp$1$$ = new Uint8Array($encodedFrame$$.data);
      if ($stream$jscomp$13$$.size + $from$jscomp$1$$.byteLength <= $stream$jscomp$13$$.data.byteLength) {
        var $to$jscomp$inline_807$$ = $stream$jscomp$13$$.data, $toOffset$jscomp$inline_808$$ = $stream$jscomp$13$$.size, $from$jscomp$inline_809$$ = $from$jscomp$1$$;
        const $numBytes$jscomp$inline_810$$ = $from$jscomp$inline_809$$.byteLength;
        for (let $i$jscomp$inline_811$$ = 0; $i$jscomp$inline_811$$ < $numBytes$jscomp$inline_810$$; ++$i$jscomp$inline_811$$) {
          $to$jscomp$inline_807$$.setUint8($toOffset$jscomp$inline_808$$ + $i$jscomp$inline_811$$, $from$jscomp$inline_809$$[$i$jscomp$inline_811$$]);
        }
        $stream$jscomp$13$$.size += $from$jscomp$1$$.byteLength;
      } else {
        $stream$jscomp$13$$.$isFull$ = !0, $module$exports$rtcutils_core$output$logger$Log$$.w("{d7392d2}", "{f35b2f4}", $stream$jscomp$13$$.size, $stream$jscomp$13$$.$namePrefix$);
      }
    }
    $controller$jscomp$2$$.enqueue($encodedFrame$$);
  }});
  $readable$$.pipeThrough($target$jscomp$114_transform$jscomp$1$$).pipeTo($writable$$);
  $JSCompiler_StaticMethods_setupStream$self$$.streams.push($stream$jscomp$13$$);
}
var $module$exports$output$debug$bitstreamdump$BitstreamDump$$ = class {
  constructor($nvstConfig$jscomp$1$$, $videoCodec$$) {
    this.$g$ = $nvstConfig$jscomp$1$$;
    this.$h$ = $videoCodec$$;
    this.streams = [];
  }
  start($peerConnection_videoTransceiver$$) {
    if (this.$g$.$clientCapture$ & 1 && ($peerConnection_videoTransceiver$$ = $peerConnection_videoTransceiver$$.getTransceivers().find($x$jscomp$130$$ => {
      var $_a$jscomp$83$$, $_b$jscomp$38$$;
      return "video" === (null === ($_b$jscomp$38$$ = null === ($_a$jscomp$83$$ = $x$jscomp$130$$.receiver) || void 0 === $_a$jscomp$83$$ ? void 0 : $_a$jscomp$83$$.track) || void 0 === $_b$jscomp$38$$ ? void 0 : $_b$jscomp$38$$.kind);
    }))) {
      const $stream$jscomp$11$$ = {data:new DataView(new ArrayBuffer(209715200)), size:0, $namePrefix$:"video", $extension$:$module$contents$output$debug$bitstreamdump_getVideoCodecExtension$$(this.$h$), $isFull$:!1};
      $JSCompiler_StaticMethods_setupStream$$(this, $peerConnection_videoTransceiver$$.receiver, $stream$jscomp$11$$);
    }
  }
};
function $JSCompiler_StaticMethods_toggleDisplaySafeZone$$($JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$) {
  $JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$.$g$ && ($JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$.$j$ = !$JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$.$j$, $JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$.$g$.style.display = $JSCompiler_StaticMethods_toggleDisplaySafeZone$self$$.$j$ ? "block" : "none");
}
function $JSCompiler_StaticMethods_getSafeZone$$($JSCompiler_StaticMethods_getSafeZone$self$$, $insets$jscomp$1$$) {
  let {width:$width$jscomp$38$$, height:$height$jscomp$34$$} = {width:screen.width, height:screen.height};
  var $_width_isScreenNaturalOrientation_offsets$$ = () => {
    let $angle$jscomp$9$$;
    void 0 !== window.orientation ? $angle$jscomp$9$$ = window.orientation : screen.orientation && ($angle$jscomp$9$$ = screen.orientation.angle);
    switch($angle$jscomp$9$$) {
      case 90:
      case -90:
      case 270:
        return !1;
      default:
        return !0;
    }
  };
  $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_getSafeZone$self$$.$platformDetails$) && !$_width_isScreenNaturalOrientation_offsets$$() && ($_width_isScreenNaturalOrientation_offsets$$ = $width$jscomp$38$$, $width$jscomp$38$$ = $height$jscomp$34$$, $height$jscomp$34$$ = $_width_isScreenNaturalOrientation_offsets$$);
  $_width_isScreenNaturalOrientation_offsets$$ = ($element$jscomp$21$$ => {
    let $top$jscomp$5$$ = $element$jscomp$21$$.offsetTop, $left$jscomp$4$$ = $element$jscomp$21$$.offsetLeft;
    for (var $clientHeight_parent$jscomp$4$$ = $element$jscomp$21$$.offsetParent; $clientHeight_parent$jscomp$4$$;) {
      $top$jscomp$5$$ += $clientHeight_parent$jscomp$4$$.offsetTop, $left$jscomp$4$$ += $clientHeight_parent$jscomp$4$$.offsetLeft, $clientHeight_parent$jscomp$4$$ = $clientHeight_parent$jscomp$4$$.offsetParent;
    }
    $clientHeight_parent$jscomp$4$$ = $element$jscomp$21$$.clientHeight;
    let $clientWidth$$ = $element$jscomp$21$$.clientWidth;
    "Android" === $JSCompiler_StaticMethods_getSafeZone$self$$.$platformDetails$.os && (window.innerHeight > window.innerWidth && $element$jscomp$21$$.clientHeight < $element$jscomp$21$$.clientWidth || window.innerHeight < window.innerWidth && $element$jscomp$21$$.clientHeight > $element$jscomp$21$$.clientWidth) && ($module$exports$rtcutils_core$output$logger$Log$$.w("{48f82fd}", "{c9d343e}"), $clientHeight_parent$jscomp$4$$ = $element$jscomp$21$$.clientWidth, $clientWidth$$ = $element$jscomp$21$$.clientHeight);
    return {top:$top$jscomp$5$$, left:$left$jscomp$4$$, bottom:Math.max(window.innerHeight - $top$jscomp$5$$ - $clientHeight_parent$jscomp$4$$, 0), right:Math.max(window.innerWidth - $left$jscomp$4$$ - $clientWidth$$, 0)};
  })($JSCompiler_StaticMethods_getSafeZone$self$$.$videoElement$);
  const $screenMinusViewportTopPadding$$ = Math.max($height$jscomp$34$$ - window.innerHeight, 0) / 2, $screenMinusViewportLeftPadding$$ = Math.max($width$jscomp$38$$ - window.innerWidth, 0) / 2;
  return {top:Math.max($insets$jscomp$1$$.top - $screenMinusViewportTopPadding$$ - $_width_isScreenNaturalOrientation_offsets$$.top - $JSCompiler_StaticMethods_getSafeZone$self$$.$topPadding$, 0) / ($JSCompiler_StaticMethods_getSafeZone$self$$.$videoElement$.clientHeight - 2 * $JSCompiler_StaticMethods_getSafeZone$self$$.$topPadding$), left:Math.max($insets$jscomp$1$$.left - $screenMinusViewportLeftPadding$$ - $_width_isScreenNaturalOrientation_offsets$$.left - $JSCompiler_StaticMethods_getSafeZone$self$$.$leftPadding$, 
  0) / ($JSCompiler_StaticMethods_getSafeZone$self$$.$videoElement$.clientWidth - 2 * $JSCompiler_StaticMethods_getSafeZone$self$$.$leftPadding$), bottom:Math.max($insets$jscomp$1$$.bottom - $screenMinusViewportTopPadding$$ - $_width_isScreenNaturalOrientation_offsets$$.bottom - $JSCompiler_StaticMethods_getSafeZone$self$$.$topPadding$, 0) / ($JSCompiler_StaticMethods_getSafeZone$self$$.$videoElement$.clientHeight - 2 * $JSCompiler_StaticMethods_getSafeZone$self$$.$topPadding$), right:Math.max($insets$jscomp$1$$.right - 
  $screenMinusViewportLeftPadding$$ - $_width_isScreenNaturalOrientation_offsets$$.right - $JSCompiler_StaticMethods_getSafeZone$self$$.$leftPadding$, 0) / ($JSCompiler_StaticMethods_getSafeZone$self$$.$videoElement$.clientWidth - 2 * $JSCompiler_StaticMethods_getSafeZone$self$$.$leftPadding$)};
}
var $module$exports$output$safezonehandler$SafeZoneHandler$$ = class {
  constructor($div$jscomp$inline_814_sender$jscomp$1$$, $videoElement$jscomp$9$$, $platformDetails$jscomp$43$$, $telemetry$jscomp$7$$) {
    this.$m$ = $div$jscomp$inline_814_sender$jscomp$1$$;
    this.$videoElement$ = $videoElement$jscomp$9$$;
    this.$platformDetails$ = $platformDetails$jscomp$43$$;
    this.$l$ = $telemetry$jscomp$7$$;
    this.$h$ = {top:-1, left:-1, bottom:-1, right:-1};
    this.$leftPadding$ = this.$topPadding$ = 0;
    this.$j$ = !1;
    this.$o$ = 0;
    $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && ($div$jscomp$inline_814_sender$jscomp$1$$ = document.createElement("div"), $div$jscomp$inline_814_sender$jscomp$1$$.style.display = "none", $div$jscomp$inline_814_sender$jscomp$1$$.style.position = "absolute", $div$jscomp$inline_814_sender$jscomp$1$$.style.color = "white", $div$jscomp$inline_814_sender$jscomp$1$$.style.backgroundColor = "rgb(105, 105, 105, 0.7)", $div$jscomp$inline_814_sender$jscomp$1$$.style.padding = 
    "2px", $div$jscomp$inline_814_sender$jscomp$1$$.style.bottom = "0px", $div$jscomp$inline_814_sender$jscomp$1$$.style.left = "0px", $div$jscomp$inline_814_sender$jscomp$1$$.style.margin = "5px", this.$g$ = $div$jscomp$inline_814_sender$jscomp$1$$, $videoElement$jscomp$9$$.insertAdjacentElement("afterend", this.$g$));
  }
  uninitialize() {
    this.$g$ && this.$g$.remove();
  }
  send() {
    var $_a$jscomp$84_roundToInt_safeZoneTelemetry$$, $_b$jscomp$39_message$jscomp$38$$, $_c$jscomp$23$$;
    if (!(0 >= this.$videoElement$.videoHeight || 0 >= this.$videoElement$.videoWidth)) {
      var $insets_insetsTelemetry$$ = $module$contents$output$util$utils_GetSafeAreas$$(), $safeZone$$ = $JSCompiler_StaticMethods_getSafeZone$$(this, $insets_insetsTelemetry$$);
      if (!$module$contents$output$util$utils_IsEqualShallow$$($safeZone$$, this.$h$)) {
        var $normalizedStr$$ = JSON.stringify($safeZone$$, ($_$jscomp$6$$, $v$jscomp$1$$) => $v$jscomp$1$$.toFixed ? Number($v$jscomp$1$$.toFixed(2)) : $v$jscomp$1$$);
        $module$exports$rtcutils_core$output$logger$Log$$.d("{48f82fd}", "{054b8b0}", JSON.stringify($insets_insetsTelemetry$$), $normalizedStr$$);
        null !== ($_a$jscomp$84_roundToInt_safeZoneTelemetry$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sendInsetValueUpdateEvents) && void 0 !== $_a$jscomp$84_roundToInt_safeZoneTelemetry$$ && $_a$jscomp$84_roundToInt_safeZoneTelemetry$$ && 2 > this.$o$++ && ($_a$jscomp$84_roundToInt_safeZoneTelemetry$$ = ($obj$jscomp$29$$, $multFactor$$ = 1) => {
          for (const $key$jscomp$55$$ of Object.keys($obj$jscomp$29$$)) {
            const $val$jscomp$2$$ = Math.round($obj$jscomp$29$$[$key$jscomp$55$$] * $multFactor$$);
            $obj$jscomp$29$$[$key$jscomp$55$$] = isNaN($val$jscomp$2$$) ? -1 : $val$jscomp$2$$;
          }
          return $obj$jscomp$29$$;
        }, $insets_insetsTelemetry$$ = $_a$jscomp$84_roundToInt_safeZoneTelemetry$$(Object.assign({}, $insets_insetsTelemetry$$)), $_a$jscomp$84_roundToInt_safeZoneTelemetry$$ = $_a$jscomp$84_roundToInt_safeZoneTelemetry$$(Object.assign({}, $safeZone$$), 1000), null === ($_b$jscomp$39_message$jscomp$38$$ = this.$l$) || void 0 === $_b$jscomp$39_message$jscomp$38$$ ? void 0 : $JSCompiler_StaticMethods_emitMetricEvent$$($_b$jscomp$39_message$jscomp$38$$, "InsetValueUpdate", "Original", $insets_insetsTelemetry$$.top, 
        $insets_insetsTelemetry$$.left, $insets_insetsTelemetry$$.bottom, $insets_insetsTelemetry$$.right), null === ($_c$jscomp$23$$ = this.$l$) || void 0 === $_c$jscomp$23$$ ? void 0 : $JSCompiler_StaticMethods_emitMetricEvent$$($_c$jscomp$23$$, "InsetValueUpdate", "Normalized", $_a$jscomp$84_roundToInt_safeZoneTelemetry$$.top, $_a$jscomp$84_roundToInt_safeZoneTelemetry$$.left, $_a$jscomp$84_roundToInt_safeZoneTelemetry$$.bottom, $_a$jscomp$84_roundToInt_safeZoneTelemetry$$.right));
        this.$h$ = Object.assign({}, $safeZone$$);
        for (const $key$jscomp$56$$ of Object.keys($safeZone$$)) {
          $safeZone$$[$key$jscomp$56$$] = isNaN($safeZone$$[$key$jscomp$56$$]) ? 0 : $safeZone$$[$key$jscomp$56$$];
        }
        $_b$jscomp$39_message$jscomp$38$$ = {messageType:"SAFE_ZONE", messageRecipient:"NvGridSvc:NGS", data:JSON.stringify({safeZoneData:{type:"InsetValueUpdate", rect:$safeZone$$}})};
        this.$m$.sendCustomMessage($_b$jscomp$39_message$jscomp$38$$);
        $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && this.$g$ && (this.$g$.innerText = "Safe Zone: \nTop: " + (100 * Math.max(this.$h$.top, 0)).toFixed() + "%\nRight: " + (100 * Math.max(this.$h$.right, 0)).toFixed() + "%\nBottom: " + (100 * Math.max(this.$h$.bottom, 0)).toFixed() + "%\nLeft: " + (100 * Math.max(this.$h$.left, 0)).toFixed() + "%");
      }
    }
  }
};
function $JSCompiler_StaticMethods_addStateListener$$($JSCompiler_StaticMethods_addStateListener$self$$, $type$jscomp$169$$, $listener$jscomp$69$$) {
  $JSCompiler_StaticMethods_addStateListener$self$$.$g$.get($type$jscomp$169$$).push($listener$jscomp$69$$);
}
function $JSCompiler_StaticMethods_removeStateListener$$($JSCompiler_StaticMethods_removeStateListener$self_listeners$jscomp$1$$, $type$jscomp$170$$, $index$jscomp$118_listener$jscomp$70$$) {
  $JSCompiler_StaticMethods_removeStateListener$self_listeners$jscomp$1$$ = $JSCompiler_StaticMethods_removeStateListener$self_listeners$jscomp$1$$.$g$.get($type$jscomp$170$$);
  $index$jscomp$118_listener$jscomp$70$$ = $JSCompiler_StaticMethods_removeStateListener$self_listeners$jscomp$1$$.indexOf($index$jscomp$118_listener$jscomp$70$$);
  -1 !== $index$jscomp$118_listener$jscomp$70$$ && $JSCompiler_StaticMethods_removeStateListener$self_listeners$jscomp$1$$.splice($index$jscomp$118_listener$jscomp$70$$, 1);
}
function $JSCompiler_StaticMethods_setWindowFocus$$($JSCompiler_StaticMethods_setWindowFocus$self$$, $focus$jscomp$2$$) {
  $JSCompiler_StaticMethods_setWindowFocus$self$$.$B$ && $JSCompiler_StaticMethods_setMouseFocus$$($JSCompiler_StaticMethods_setWindowFocus$self$$, $focus$jscomp$2$$);
  if ($JSCompiler_StaticMethods_setWindowFocus$self$$.$h$ !== $focus$jscomp$2$$) {
    $JSCompiler_StaticMethods_setWindowFocus$self$$.$h$ = $focus$jscomp$2$$;
    for (const $listener$jscomp$66$$ of $JSCompiler_StaticMethods_setWindowFocus$self$$.$g$.get(0)) {
      $listener$jscomp$66$$($focus$jscomp$2$$);
    }
  }
}
function $JSCompiler_StaticMethods_setMouseFocus$$($JSCompiler_StaticMethods_setMouseFocus$self$$, $focus$jscomp$3$$) {
  if ($JSCompiler_StaticMethods_setMouseFocus$self$$.$l$ !== $focus$jscomp$3$$) {
    $JSCompiler_StaticMethods_setMouseFocus$self$$.$l$ = $focus$jscomp$3$$;
    for (const $listener$jscomp$68$$ of $JSCompiler_StaticMethods_setMouseFocus$self$$.$g$.get(1)) {
      $listener$jscomp$68$$($focus$jscomp$3$$);
    }
  }
}
var $module$exports$output$windowstateobserver$WindowStateObserver$$ = class {
  constructor($platformDetails$jscomp$44_zoneless$jscomp$2$$) {
    var $_a$jscomp$85$$, $_b$jscomp$40$$, $_c$jscomp$24$$, $_d$jscomp$19$$;
    this.$g$ = new Map();
    this.$j$ = !1;
    this.$B$ = "PHONE" === $platformDetails$jscomp$44_zoneless$jscomp$2$$.deviceType || "TABLET" === $platformDetails$jscomp$44_zoneless$jscomp$2$$.deviceType;
    this.$h$ = this.$l$ = document.hasFocus();
    $platformDetails$jscomp$44_zoneless$jscomp$2$$ = window.zoneless;
    const $windowAddEventListener$$ = null !== ($_b$jscomp$40$$ = null === ($_a$jscomp$85$$ = null === $platformDetails$jscomp$44_zoneless$jscomp$2$$ || void 0 === $platformDetails$jscomp$44_zoneless$jscomp$2$$ ? void 0 : $platformDetails$jscomp$44_zoneless$jscomp$2$$.windowAddEventListener) || void 0 === $_a$jscomp$85$$ ? void 0 : $_a$jscomp$85$$.bind(window)) && void 0 !== $_b$jscomp$40$$ ? $_b$jscomp$40$$ : window.addEventListener.bind(window), $documentAddEventListener$$ = null !== ($_d$jscomp$19$$ = 
    null === ($_c$jscomp$24$$ = null === $platformDetails$jscomp$44_zoneless$jscomp$2$$ || void 0 === $platformDetails$jscomp$44_zoneless$jscomp$2$$ ? void 0 : $platformDetails$jscomp$44_zoneless$jscomp$2$$.documentAddEventListener) || void 0 === $_c$jscomp$24$$ ? void 0 : $_c$jscomp$24$$.bind(document)) && void 0 !== $_d$jscomp$19$$ ? $_d$jscomp$19$$ : document.addEventListener.bind(document);
    this.$s$ = this.$D$.bind(this);
    this.$o$ = this.$C$.bind(this);
    this.$u$ = this.$m$.bind(this);
    this.$v$ = this.$F$.bind(this);
    this.$A$ = this.$G$.bind(this);
    $windowAddEventListener$$("focus", this.$s$);
    $windowAddEventListener$$("blur", this.$o$);
    ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "msfullscreenchange"].forEach($eventType$jscomp$8$$ => $documentAddEventListener$$($eventType$jscomp$8$$, this.$u$));
    $documentAddEventListener$$("mouseenter", this.$v$);
    $documentAddEventListener$$("mouseleave", this.$A$);
    this.$g$.set(0, []);
    this.$g$.set(2, []);
    this.$g$.set(1, []);
    this.$m$();
  }
  uninitialize() {
    var $_a$jscomp$86$$, $_b$jscomp$41$$, $_c$jscomp$25$$, $_d$jscomp$20$$;
    const $zoneless$jscomp$3$$ = window.zoneless, $windowRemoveEventListener$$ = null !== ($_b$jscomp$41$$ = null === ($_a$jscomp$86$$ = null === $zoneless$jscomp$3$$ || void 0 === $zoneless$jscomp$3$$ ? void 0 : $zoneless$jscomp$3$$.windowRemoveEventListener) || void 0 === $_a$jscomp$86$$ ? void 0 : $_a$jscomp$86$$.bind(window)) && void 0 !== $_b$jscomp$41$$ ? $_b$jscomp$41$$ : window.removeEventListener.bind(window), $documentRemoveEventListener$$ = null !== ($_d$jscomp$20$$ = null === ($_c$jscomp$25$$ = 
    null === $zoneless$jscomp$3$$ || void 0 === $zoneless$jscomp$3$$ ? void 0 : $zoneless$jscomp$3$$.documentRemoveEventListener) || void 0 === $_c$jscomp$25$$ ? void 0 : $_c$jscomp$25$$.bind(document)) && void 0 !== $_d$jscomp$20$$ ? $_d$jscomp$20$$ : document.removeEventListener.bind(document);
    $windowRemoveEventListener$$("focus", this.$s$);
    $windowRemoveEventListener$$("blur", this.$o$);
    ["fullscreenchange", "webkitfullscreenchange", "mozfullscreenchange", "msfullscreenchange"].forEach($eventType$jscomp$9$$ => $documentRemoveEventListener$$($eventType$jscomp$9$$, this.$u$));
    $documentRemoveEventListener$$("mouseenter", this.$v$);
    $documentRemoveEventListener$$("mouseleave", this.$A$);
    for (const $listeners$$ of this.$g$.values()) {
      $listeners$$.splice(0);
    }
  }
  $D$() {
    $JSCompiler_StaticMethods_setWindowFocus$$(this, !0);
  }
  $C$() {
    $JSCompiler_StaticMethods_setWindowFocus$$(this, !1);
  }
  $m$() {
    var $doc_fullscreen$jscomp$inline_819$$ = window.document;
    $doc_fullscreen$jscomp$inline_819$$ = !!(document.fullscreen || 1 == $doc_fullscreen$jscomp$inline_819$$.webkitIsFullScreen || $doc_fullscreen$jscomp$inline_819$$.mozFullScreen || $doc_fullscreen$jscomp$inline_819$$.msFullscreenElement);
    if (this.$j$ !== $doc_fullscreen$jscomp$inline_819$$) {
      this.$j$ = $doc_fullscreen$jscomp$inline_819$$;
      for (const $listener$jscomp$inline_820$$ of this.$g$.get(2)) {
        $listener$jscomp$inline_820$$($doc_fullscreen$jscomp$inline_819$$);
      }
    }
  }
  $F$() {
    $JSCompiler_StaticMethods_setMouseFocus$$(this, !0);
  }
  $G$() {
    $JSCompiler_StaticMethods_setMouseFocus$$(this, !1);
  }
};
function $module$exports$output$streamclient$StreamClient$GetSelectedCodec$$($lines$jscomp$6_sdp$jscomp$14$$, $codecs$jscomp$4$$) {
  $lines$jscomp$6_sdp$jscomp$14$$ = $lines$jscomp$6_sdp$jscomp$14$$.split("\r\n");
  var $lineIndex$jscomp$2_mediaLineIndex$$ = -1;
  if (!$codecs$jscomp$4$$.length) {
    return "H264";
  }
  for ($i$jscomp$43_sdpCodecs$$ = 0; $i$jscomp$43_sdpCodecs$$ < $lines$jscomp$6_sdp$jscomp$14$$.length; $i$jscomp$43_sdpCodecs$$++) {
    if ($lines$jscomp$6_sdp$jscomp$14$$[$i$jscomp$43_sdpCodecs$$].startsWith("m=video")) {
      $lineIndex$jscomp$2_mediaLineIndex$$ = $i$jscomp$43_sdpCodecs$$;
      break;
    }
  }
  if (-1 === $lineIndex$jscomp$2_mediaLineIndex$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{3ab33e3}"), "H264";
  }
  $lineIndex$jscomp$2_mediaLineIndex$$ += 1;
  for (var $i$jscomp$43_sdpCodecs$$ = new Set(); $lineIndex$jscomp$2_mediaLineIndex$$ < $lines$jscomp$6_sdp$jscomp$14$$.length && !$lines$jscomp$6_sdp$jscomp$14$$[$lineIndex$jscomp$2_mediaLineIndex$$].startsWith("m=");) {
    var $codec$jscomp$9_line$jscomp$9$$ = $lines$jscomp$6_sdp$jscomp$14$$[$lineIndex$jscomp$2_mediaLineIndex$$];
    0 === $codec$jscomp$9_line$jscomp$9$$.indexOf("a=rtpmap:") && ($codec$jscomp$9_line$jscomp$9$$ = $codec$jscomp$9_line$jscomp$9$$.slice($codec$jscomp$9_line$jscomp$9$$.indexOf(" ") + 1, $codec$jscomp$9_line$jscomp$9$$.indexOf("/")), "H264" !== $codec$jscomp$9_line$jscomp$9$$ && "H265" !== $codec$jscomp$9_line$jscomp$9$$ && "AV1" !== $codec$jscomp$9_line$jscomp$9$$ || $i$jscomp$43_sdpCodecs$$.add($codec$jscomp$9_line$jscomp$9$$));
    $lineIndex$jscomp$2_mediaLineIndex$$++;
  }
  for (const $codec$jscomp$10$$ of $codecs$jscomp$4$$) {
    if ($i$jscomp$43_sdpCodecs$$.has($codec$jscomp$10$$)) {
      return $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{304c3b1}", $codec$jscomp$10$$), $codec$jscomp$10$$;
    }
  }
  $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{81357e4}");
  return "H264";
}
function $module$exports$output$streamclient$StreamClient$AddImageattrsToSDP$$($payloadTypes_sdp$jscomp$12$$, $maxw$$, $maxh$$, $maxfps$$) {
  let $lines$jscomp$4$$ = $payloadTypes_sdp$jscomp$12$$.split("\r\n"), $lineIndex$$ = -1;
  for (var $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ = 0; $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ < $lines$jscomp$4$$.length; $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$++) {
    if ($lines$jscomp$4$$[$i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$].startsWith("m=video")) {
      $lineIndex$$ = $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$;
      break;
    }
  }
  if (-1 === $lineIndex$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{3ab33e3}"), $payloadTypes_sdp$jscomp$12$$;
  }
  $lineIndex$$++;
  for ($i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ = $lineIndex$$; $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ < $lines$jscomp$4$$.length; $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$++) {
    if ($lines$jscomp$4$$[$i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$].startsWith("a=imageattr")) {
      return $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{b38bf22}"), $payloadTypes_sdp$jscomp$12$$;
    }
  }
  for ($payloadTypes_sdp$jscomp$12$$ = new Set(); $lineIndex$$ < $lines$jscomp$4$$.length && !$lines$jscomp$4$$[$lineIndex$$].startsWith("m=");) {
    $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ = $lines$jscomp$4$$[$lineIndex$$], /a=rtpmap:.*H26[45]\//.test($i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$) ? $payloadTypes_sdp$jscomp$12$$.add($i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$.slice(9, $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$.indexOf(" "))) : 0 === $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$.indexOf("a=fmtp:") && ($i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$ = 
    $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$.slice(7, $i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$.indexOf(" ")), $payloadTypes_sdp$jscomp$12$$.has($i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$) && ($lineIndex$$++, $lines$jscomp$4$$.splice($lineIndex$$, 0, `a=imageattr:${$i$jscomp$40_i$jscomp$41_line$jscomp$7_payloadType$jscomp$1$$} send [x=[${960}:${$maxw$$}],y=[${540}:${$maxh$$}],fps=[${30}:${$maxfps$$}]]`))), $lineIndex$$++;
  }
  return $lines$jscomp$4$$.join("\r\n");
}
function $module$exports$output$streamclient$StreamClient$GetMediaBitrateUpdatedSDP$$($newLines_sdp$jscomp$9$$, $bitrate$$) {
  let $lines$jscomp$1$$ = $newLines_sdp$jscomp$9$$.split("\r\n"), $line$jscomp$6$$ = -1;
  for (let $i$jscomp$33$$ = 0; $i$jscomp$33$$ < $lines$jscomp$1$$.length; $i$jscomp$33$$++) {
    if (0 === $lines$jscomp$1$$[$i$jscomp$33$$].indexOf("m=video")) {
      $line$jscomp$6$$ = $i$jscomp$33$$;
      break;
    }
  }
  if (-1 === $line$jscomp$6$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{e0899ab}", "video"), $newLines_sdp$jscomp$9$$;
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{5cc346f}", "video", $line$jscomp$6$$);
  for ($line$jscomp$6$$++; 0 === $lines$jscomp$1$$[$line$jscomp$6$$].indexOf("i=") || 0 === $lines$jscomp$1$$[$line$jscomp$6$$].indexOf("c=");) {
    $line$jscomp$6$$++;
  }
  if (0 === $lines$jscomp$1$$[$line$jscomp$6$$].indexOf("b")) {
    return $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{e77177e}", $line$jscomp$6$$), $lines$jscomp$1$$[$line$jscomp$6$$] = "b=AS:" + $bitrate$$, $lines$jscomp$1$$.join("\r\n");
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{3dfc348}", $line$jscomp$6$$);
  $newLines_sdp$jscomp$9$$ = $lines$jscomp$1$$.slice(0, $line$jscomp$6$$);
  $newLines_sdp$jscomp$9$$.push("b=AS:" + $bitrate$$);
  $newLines_sdp$jscomp$9$$ = $newLines_sdp$jscomp$9$$.concat($lines$jscomp$1$$.slice($line$jscomp$6$$, $lines$jscomp$1$$.length));
  return $newLines_sdp$jscomp$9$$.join("\r\n");
}
function $module$exports$output$streamclient$StreamClient$GetGoogBitrateUpdatedSDP$$($additionalParams_sdp$jscomp$13$$, $br_min_h264Payloads$$, $br_max_line$jscomp$8$$, $br_start$$) {
  let $lines$jscomp$5$$ = $additionalParams_sdp$jscomp$13$$.split("\r\n"), $lineIndex$jscomp$1$$ = -1;
  for (let $i$jscomp$42$$ = 0; $i$jscomp$42$$ < $lines$jscomp$5$$.length; $i$jscomp$42$$++) {
    if (0 === $lines$jscomp$5$$[$i$jscomp$42$$].indexOf("m=video")) {
      $lineIndex$jscomp$1$$ = $i$jscomp$42$$;
      break;
    }
  }
  if (-1 === $lineIndex$jscomp$1$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{e0899ab}", "video"), $additionalParams_sdp$jscomp$13$$;
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{5cc346f}", "video", $lineIndex$jscomp$1$$);
  $lineIndex$jscomp$1$$++;
  $additionalParams_sdp$jscomp$13$$ = ";x-google-max-bitrate=" + $br_max_line$jscomp$8$$ + (";x-google-min-bitrate=" + $br_min_h264Payloads$$) + (";x-google-start-bitrate=" + $br_start$$);
  for ($br_min_h264Payloads$$ = new Set(); $lineIndex$jscomp$1$$ < $lines$jscomp$5$$.length && 0 !== $lines$jscomp$5$$[$lineIndex$jscomp$1$$].indexOf("m=");) {
    $br_max_line$jscomp$8$$ = $lines$jscomp$5$$[$lineIndex$jscomp$1$$], 0 === $br_max_line$jscomp$8$$.indexOf("a=rtpmap:") && 0 < $br_max_line$jscomp$8$$.indexOf("H264/") ? $br_min_h264Payloads$$.add($br_max_line$jscomp$8$$.slice(9, $br_max_line$jscomp$8$$.indexOf(" "))) : 0 === $br_max_line$jscomp$8$$.indexOf("a=fmtp:") && $br_min_h264Payloads$$.has($br_max_line$jscomp$8$$.slice(7, $br_max_line$jscomp$8$$.indexOf(" "))) && ($lines$jscomp$5$$[$lineIndex$jscomp$1$$] += $additionalParams_sdp$jscomp$13$$), 
    $lineIndex$jscomp$1$$++;
  }
  return $lines$jscomp$5$$.join("\r\n");
}
function $module$exports$output$streamclient$StreamClient$AddOpusStereoSupported$$($lastFmtpLine_sdp$jscomp$11$$) {
  var $fmtp_fmtpLines$$ = [];
  let $lines$jscomp$3$$ = $lastFmtpLine_sdp$jscomp$11$$.split("\r\n");
  var $newLines$jscomp$2_opusFmt$$ = "-1";
  let $codec$jscomp$8$$;
  for (let $i$jscomp$39$$ = 0; $i$jscomp$39$$ < $lines$jscomp$3$$.length; $i$jscomp$39$$++) {
    0 === $lines$jscomp$3$$[$i$jscomp$39$$].indexOf("a=rtpmap:") ? ($codec$jscomp$8$$ = $lines$jscomp$3$$[$i$jscomp$39$$].split(" ")[1], 0 === $codec$jscomp$8$$.indexOf("opus") && ($newLines$jscomp$2_opusFmt$$ = $lines$jscomp$3$$[$i$jscomp$39$$].split(" ")[0].slice(9), $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{c3dd71b}", "audio", $newLines$jscomp$2_opusFmt$$))) : 0 === $lines$jscomp$3$$[$i$jscomp$39$$].indexOf("a=fmtp:" + $newLines$jscomp$2_opusFmt$$ + " ") && ($fmtp_fmtpLines$$.push($i$jscomp$39$$), 
    $newLines$jscomp$2_opusFmt$$ = "-1");
  }
  if (0 === $fmtp_fmtpLines$$.length) {
    return $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{115f256}", "audio"), $lastFmtpLine_sdp$jscomp$11$$;
  }
  $lastFmtpLine_sdp$jscomp$11$$ = -1;
  $newLines$jscomp$2_opusFmt$$ = [];
  for (const $fmtpLine$$ of $fmtp_fmtpLines$$) {
    $fmtp_fmtpLines$$ = $lines$jscomp$3$$[$fmtpLine$$], $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9bb0e6f}", $fmtp_fmtpLines$$), $fmtp_fmtpLines$$ += ";stereo=1", $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{4f021eb}", $fmtp_fmtpLines$$), $newLines$jscomp$2_opusFmt$$ = $newLines$jscomp$2_opusFmt$$.concat($lines$jscomp$3$$.slice($lastFmtpLine_sdp$jscomp$11$$ + 1, $fmtpLine$$)), $newLines$jscomp$2_opusFmt$$.push($fmtp_fmtpLines$$), $lastFmtpLine_sdp$jscomp$11$$ = 
    $fmtpLine$$;
  }
  $newLines$jscomp$2_opusFmt$$ = $newLines$jscomp$2_opusFmt$$.concat($lines$jscomp$3$$.slice($lastFmtpLine_sdp$jscomp$11$$ + 1));
  return $newLines$jscomp$2_opusFmt$$.join("\r\n");
}
function $module$exports$output$streamclient$StreamClient$isMultiopusOffered$$($serverLines_serverSdp$$) {
  $serverLines_serverSdp$$ = $serverLines_serverSdp$$.split("\r\n");
  var $i$jscomp$36_mediaLine$$ = -1;
  for ($i$jscomp$34_multiopusFmt$$ = 0; $i$jscomp$34_multiopusFmt$$ < $serverLines_serverSdp$$.length; $i$jscomp$34_multiopusFmt$$++) {
    if (0 === $serverLines_serverSdp$$[$i$jscomp$34_multiopusFmt$$].indexOf("m=audio")) {
      $i$jscomp$36_mediaLine$$ = $i$jscomp$34_multiopusFmt$$;
      break;
    }
  }
  if (-1 === $i$jscomp$36_mediaLine$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{a939549}", "audio");
  } else {
    var $i$jscomp$34_multiopusFmt$$ = void 0, $redFmt$$ = void 0, $multiopusChannel$$ = void 0, $redChannel$$ = void 0;
    for ($i$jscomp$35_redSpec$$ = $i$jscomp$36_mediaLine$$ + 1; $i$jscomp$35_redSpec$$ < $serverLines_serverSdp$$.length; $i$jscomp$35_redSpec$$++) {
      if (0 === $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$].indexOf("a=rtpmap:")) {
        var $codec$jscomp$7_multiopusSpec$$ = $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$].split(" ")[1];
        0 === $codec$jscomp$7_multiopusSpec$$.indexOf("red") ? ($redFmt$$ = $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$].split(" ")[0].slice(9), $redChannel$$ = $codec$jscomp$7_multiopusSpec$$.split("/")[2], $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{4e6ce55}", "audio", $redFmt$$, $redChannel$$)) : 0 === $codec$jscomp$7_multiopusSpec$$.indexOf("multiopus") && ($i$jscomp$34_multiopusFmt$$ = $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$].split(" ")[0].slice(9), $multiopusChannel$$ = 
        $codec$jscomp$7_multiopusSpec$$.split("/")[2], $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{53ebbb1}", "audio", $i$jscomp$34_multiopusFmt$$, $multiopusChannel$$));
      } else if (0 === $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$].indexOf("m=")) {
        $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9fc6964}", $serverLines_serverSdp$$[$i$jscomp$35_redSpec$$]);
        break;
      }
    }
    if ($i$jscomp$34_multiopusFmt$$) {
      $codec$jscomp$7_multiopusSpec$$ = [];
      var $i$jscomp$35_redSpec$$ = [];
      for ($i$jscomp$36_mediaLine$$ += 1; $i$jscomp$36_mediaLine$$ < $serverLines_serverSdp$$.length; $i$jscomp$36_mediaLine$$++) {
        if (0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=rtpmap:" + $redFmt$$) || 0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=rtcp-fb:" + $redFmt$$) || 0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=fmtp:" + $redFmt$$)) {
          $i$jscomp$35_redSpec$$.push($serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$]);
        } else if (0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=rtpmap:" + $i$jscomp$34_multiopusFmt$$) || 0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=rtcp-fb:" + $i$jscomp$34_multiopusFmt$$) || 0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("a=fmtp:" + $i$jscomp$34_multiopusFmt$$)) {
          $codec$jscomp$7_multiopusSpec$$.push($serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$]);
        } else if (0 === $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$].indexOf("m=")) {
          $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9fc6964}", $serverLines_serverSdp$$[$i$jscomp$36_mediaLine$$]);
          break;
        }
      }
      $redChannel$$ && $redChannel$$ !== $multiopusChannel$$ && ($redFmt$$ = void 0, $i$jscomp$35_redSpec$$ = [], $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{ad53601}", $redChannel$$, $multiopusChannel$$));
      return {$fmtRed$:$redFmt$$, $fmtCodec$:$i$jscomp$34_multiopusFmt$$, $specificationRed$:$i$jscomp$35_redSpec$$.join("\r\n"), $specificationCodec$:$codec$jscomp$7_multiopusSpec$$.join("\r\n")};
    }
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{cf4ee2d}", "audio");
  }
}
function $module$exports$output$streamclient$StreamClient$AddOpusSurroundSupported$$($i$jscomp$38_sdp$jscomp$10$$, $multiopus$$) {
  let $lines$jscomp$2$$ = $i$jscomp$38_sdp$jscomp$10$$.split("\r\n"), $mediaLine$jscomp$1$$ = -1, $endLine$$ = -1;
  for ($i$jscomp$37_newLines$jscomp$1$$ = 0; $i$jscomp$37_newLines$jscomp$1$$ < $lines$jscomp$2$$.length; $i$jscomp$37_newLines$jscomp$1$$++) {
    if (0 === $lines$jscomp$2$$[$i$jscomp$37_newLines$jscomp$1$$].indexOf("m=audio")) {
      $mediaLine$jscomp$1$$ = $i$jscomp$37_newLines$jscomp$1$$;
      break;
    }
  }
  if (-1 === $mediaLine$jscomp$1$$) {
    return $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{e0899ab}", "audio"), $i$jscomp$38_sdp$jscomp$10$$;
  }
  var $i$jscomp$37_newLines$jscomp$1$$ = $lines$jscomp$2$$.slice(0, $mediaLine$jscomp$1$$);
  let $mediaDescriptor$$ = $lines$jscomp$2$$[$mediaLine$jscomp$1$$].split(" ");
  if ("0" !== $mediaDescriptor$$[3]) {
    return $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{794b3c6}", "audio", $mediaDescriptor$$.join(" ")), $i$jscomp$38_sdp$jscomp$10$$;
  }
  $multiopus$$.$fmtRed$ ? ($mediaDescriptor$$[3] = $multiopus$$.$fmtRed$, $mediaDescriptor$$[4] = $multiopus$$.$fmtCodec$) : $mediaDescriptor$$[3] = $multiopus$$.$fmtCodec$;
  $i$jscomp$37_newLines$jscomp$1$$.push($mediaDescriptor$$.join(" "));
  for ($i$jscomp$38_sdp$jscomp$10$$ = $mediaLine$jscomp$1$$ + 1; $i$jscomp$38_sdp$jscomp$10$$ < $lines$jscomp$2$$.length; $i$jscomp$38_sdp$jscomp$10$$++) {
    if (0 === $lines$jscomp$2$$[$i$jscomp$38_sdp$jscomp$10$$].indexOf("m=")) {
      $endLine$$ = $i$jscomp$38_sdp$jscomp$10$$;
      break;
    }
  }
  -1 === $endLine$$ && ($endLine$$ = $lines$jscomp$2$$.length - 1);
  $i$jscomp$37_newLines$jscomp$1$$ = $i$jscomp$37_newLines$jscomp$1$$.concat($lines$jscomp$2$$.slice($mediaLine$jscomp$1$$ + 1, $endLine$$));
  $multiopus$$.$fmtRed$ && ($i$jscomp$37_newLines$jscomp$1$$ = $i$jscomp$37_newLines$jscomp$1$$.concat($multiopus$$.$specificationRed$.split("\r\n")));
  $i$jscomp$37_newLines$jscomp$1$$ = $i$jscomp$37_newLines$jscomp$1$$.concat($multiopus$$.$specificationCodec$.split("\r\n"));
  $i$jscomp$37_newLines$jscomp$1$$ = $i$jscomp$37_newLines$jscomp$1$$.concat($lines$jscomp$2$$.slice($endLine$$));
  return $i$jscomp$37_newLines$jscomp$1$$.join("\r\n");
}
function $JSCompiler_StaticMethods_closeHandler$$($JSCompiler_StaticMethods_closeHandler$self$$, $data$jscomp$100$$) {
  var $JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$, $JSCompiler_object_inline_serverId_1090__c$jscomp$27$$, $_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$, $_e$jscomp$11$$;
  if ($data$jscomp$100$$.error && 0 !== $JSCompiler_StaticMethods_closeHandler$self$$.$v$) {
    var $JSCompiler_StaticMethods_JSC$2953_emitHttpEvent$self$jscomp$inline_822$$ = $JSCompiler_StaticMethods_closeHandler$self$$.$j$, $JSCompiler_object_inline_url_1083$$ = $JSCompiler_StaticMethods_closeHandler$self$$.$O$, $JSCompiler_object_inline_statusCode_1085$$ = String(null !== ($JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$ = $data$jscomp$100$$.code) && void 0 !== $JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$ ? $JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$ : 
    "");
    $JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$ = $JSCompiler_StaticMethods_closeHandler$self$$.$session$.sessionId;
    var $JSCompiler_object_inline_subSessionId_1088$$ = $JSCompiler_StaticMethods_closeHandler$self$$.$session$.subSessionId, $JSCompiler_object_inline_requestId_1089$$ = String(null !== ($JSCompiler_object_inline_serverId_1090__c$jscomp$27$$ = $data$jscomp$100$$.wasClean) && void 0 !== $JSCompiler_object_inline_serverId_1090__c$jscomp$27$$ ? $JSCompiler_object_inline_serverId_1090__c$jscomp$27$$ : "");
    $JSCompiler_object_inline_serverId_1090__c$jscomp$27$$ = null !== ($_e$jscomp$11$$ = null === ($_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$ = $JSCompiler_StaticMethods_closeHandler$self$$.$session$) || void 0 === $_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$ ? void 0 : $_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$.signalConnectionInfo.ip) && void 0 !== $_e$jscomp$11$$ ? $_e$jscomp$11$$ : "";
    $_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_HttpCallResultDef$$({callDuration:$JSCompiler_StaticMethods_closeHandler$self$$.$ha$, verb:"WS", sessionId:$JSCompiler_object_inline_sessionId_1087__a$jscomp$90$$, subSessionId:$JSCompiler_object_inline_subSessionId_1088$$, serverId:$JSCompiler_object_inline_serverId_1090__c$jscomp$27$$, url:$JSCompiler_object_inline_url_1083$$, overrideConfigType:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.type, 
    overrideConfigVersion:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.version, requestStatusCode:$JSCompiler_object_inline_statusCode_1085$$, requestId:$JSCompiler_object_inline_requestId_1089$$, networkType:$module$exports$output$util$networkdetector$NetworkDetector$$.$g$, statusCode:$JSCompiler_object_inline_statusCode_1085$$, cmsId:String($JSCompiler_StaticMethods_JSC$2953_emitHttpEvent$self$jscomp$inline_822$$.cmsId), moduleName:"RAGNAROK"});
    $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_JSC$2953_emitHttpEvent$self$jscomp$inline_822$$, {name:$_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$.name, gdprLevel:$_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$.gdprLevel, parameters:$_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$.parameters, ts:$_d$jscomp$21_gsHttpEvent$jscomp$inline_824$$.ts, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$});
    $JSCompiler_StaticMethods_closeHandler$self$$.$ha$++;
    3 >= $JSCompiler_StaticMethods_closeHandler$self$$.$ha$ ? ($JSCompiler_StaticMethods_setSignInfo$$($JSCompiler_StaticMethods_closeHandler$self$$), $JSCompiler_StaticMethods_createWSAndSignIn$$($JSCompiler_StaticMethods_closeHandler$self$$)) : (window.clearTimeout($JSCompiler_StaticMethods_closeHandler$self$$.$v$), $JSCompiler_StaticMethods_closeHandler$self$$.$v$ = 0, $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{8595cb4}"), $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_closeHandler$self$$, 
    {code:3237093890}));
  }
  $data$jscomp$100$$.wasClean || $JSCompiler_StaticMethods_closeHandler$self$$.$la$++;
}
function $JSCompiler_StaticMethods_messageHandler$$($JSCompiler_StaticMethods_messageHandler$self$$, $obj$jscomp$30_removedCode$$) {
  var $_a$jscomp$89$$;
  $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{39024c3}", JSON.stringify($obj$jscomp$30_removedCode$$));
  $obj$jscomp$30_removedCode$$.ackid && $JSCompiler_StaticMethods_messageHandler$self$$.maxReceivedAckId < $obj$jscomp$30_removedCode$$.ackid && ($JSCompiler_StaticMethods_messageHandler$self$$.maxReceivedAckId = $obj$jscomp$30_removedCode$$.ackid);
  if ($obj$jscomp$30_removedCode$$.peer_info) {
    if ($JSCompiler_StaticMethods_messageHandler$self$$.$N$ || void 0 === $obj$jscomp$30_removedCode$$.ackid || ($JSCompiler_StaticMethods_messageHandler$self$$.$N$ = !0), $obj$jscomp$30_removedCode$$.peer_info.name === $JSCompiler_StaticMethods_messageHandler$self$$.name || 0 === $JSCompiler_StaticMethods_messageHandler$self$$.id) {
      $JSCompiler_StaticMethods_messageHandler$self$$.id = $obj$jscomp$30_removedCode$$.peer_info.id, $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{c5faf27}", $JSCompiler_StaticMethods_messageHandler$self$$.id);
    }
  } else {
    $obj$jscomp$30_removedCode$$.peer_msg ? $JSCompiler_StaticMethods_handlePeerMessage$$($JSCompiler_StaticMethods_messageHandler$self$$, $obj$jscomp$30_removedCode$$.peer_msg.from, $obj$jscomp$30_removedCode$$.peer_msg.msg) : $obj$jscomp$30_removedCode$$.error && ("peerRemoved" === $obj$jscomp$30_removedCode$$.error ? (0 !== $JSCompiler_StaticMethods_messageHandler$self$$.$A$ ? ($obj$jscomp$30_removedCode$$ = null !== ($_a$jscomp$89$$ = $JSCompiler_StaticMethods_getStreamBeginError$$($JSCompiler_StaticMethods_messageHandler$self$$)) && 
    void 0 !== $_a$jscomp$89$$ ? $_a$jscomp$89$$ : 3237094161, $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{cbb35d3}")) : $obj$jscomp$30_removedCode$$ = 3237094159, $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_messageHandler$self$$, $obj$jscomp$30_removedCode$$)) : $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_messageHandler$self$$, 3237094160));
  }
}
function $JSCompiler_StaticMethods_openHandler$$($JSCompiler_StaticMethods_openHandler$self$$) {
  0 !== $JSCompiler_StaticMethods_openHandler$self$$.$v$ && (window.clearTimeout($JSCompiler_StaticMethods_openHandler$self$$.$v$), $JSCompiler_StaticMethods_openHandler$self$$.$v$ = 0, $JSCompiler_StaticMethods_openHandler$self$$.$va$ = Date.now() - $JSCompiler_StaticMethods_openHandler$self$$.$wa$);
  $JSCompiler_StaticMethods_openHandler$self$$.$C$ || 0 !== $JSCompiler_StaticMethods_openHandler$self$$.$A$ || $JSCompiler_StaticMethods_startStreamBeginTimeout$$($JSCompiler_StaticMethods_openHandler$self$$);
}
function $JSCompiler_StaticMethods_updateDcTimeDuration$$($JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$, $duration$jscomp$5$$) {
  var $_a$jscomp$100$$, $JSCompiler_StaticMethods_addDataChannelSendTime$self$jscomp$inline_827$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_addDataChannelSendTime$self$jscomp$inline_827$$.$h$ && ($JSCompiler_StaticMethods_addDataChannelSendTime$self$jscomp$inline_827$$.perf.DCSend += $duration$jscomp$5$$);
  null === ($_a$jscomp$100$$ = $JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$.$h$) || void 0 === $_a$jscomp$100$$ ? void 0 : ($JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$ = $_a$jscomp$100$$.$g$, $JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$.$j$.value += 
  $duration$jscomp$5$$, $JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$.$j$.count += 1, $JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$.$j$.max = Math.max($duration$jscomp$5$$, $JSCompiler_StaticMethods_JSC$2735_updateDcSendDuration$self$jscomp$inline_1315_JSCompiler_StaticMethods_updateDcTimeDuration$self$$.$j$.max));
}
function $JSCompiler_StaticMethods_JSC$2930_getLdatHandler$$($JSCompiler_StaticMethods_JSC$2930_getLdatHandler$self$$) {
  if ($JSCompiler_StaticMethods_statsServiceEnabled$$($JSCompiler_StaticMethods_JSC$2930_getLdatHandler$self$$)) {
    return $JSCompiler_StaticMethods_JSC$2930_getLdatHandler$self$$.$h$.$J$;
  }
}
function $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_showDebugMessage$self$$, $message$jscomp$42$$) {
  $JSCompiler_StaticMethods_showDebugMessage$self$$.$U$.innerHTML = $message$jscomp$42$$;
  $JSCompiler_StaticMethods_showDebugMessage$self$$.$U$.style.display = "block";
  $JSCompiler_StaticMethods_showDebugMessage$self$$.$F$ && clearTimeout($JSCompiler_StaticMethods_showDebugMessage$self$$.$F$);
  $JSCompiler_StaticMethods_showDebugMessage$self$$.$F$ = window.setTimeout(() => {
    $JSCompiler_StaticMethods_showDebugMessage$self$$.$U$.style.display = "none";
  }, 1000);
}
function $JSCompiler_StaticMethods_addDataChannel$$($JSCompiler_StaticMethods_addDataChannel$self$$, $dataChannel$jscomp$1$$, $params$jscomp$4$$) {
  const $channelName$jscomp$1$$ = $dataChannel$jscomp$1$$.label;
  let $isClosing$$ = !1;
  $dataChannel$jscomp$1$$.onopen = () => {
    var $_a$jscomp$125$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{8e9ee5d}", $channelName$jscomp$1$$);
    null === ($_a$jscomp$125$$ = $params$jscomp$4$$.open) || void 0 === $_a$jscomp$125$$ ? void 0 : $_a$jscomp$125$$.call($params$jscomp$4$$);
    $params$jscomp$4$$.errorCode && $JSCompiler_StaticMethods_checkAndNotifyStartToClient$$($JSCompiler_StaticMethods_addDataChannel$self$$);
  };
  $dataChannel$jscomp$1$$.onclosing = () => {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{d0c8ae7}", $channelName$jscomp$1$$);
    $isClosing$$ = !0;
  };
  $dataChannel$jscomp$1$$.onclose = () => {
    var $_a$jscomp$126$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{a3c9826}", $channelName$jscomp$1$$);
    null === ($_a$jscomp$126$$ = $params$jscomp$4$$.close) || void 0 === $_a$jscomp$126$$ ? void 0 : $_a$jscomp$126$$.call($params$jscomp$4$$);
    $params$jscomp$4$$.errorCode && $JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$$($JSCompiler_StaticMethods_addDataChannel$self$$);
  };
  $dataChannel$jscomp$1$$.onerror = $error$jscomp$21_error$jscomp$inline_838$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{fcd64bb}", $channelName$jscomp$1$$);
    if ($isClosing$$ && $params$jscomp$4$$.errorCode) {
      $JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$$($JSCompiler_StaticMethods_addDataChannel$self$$) || $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_addDataChannel$self$$, 15867907);
    } else {
      var $bufferedAmount$jscomp$inline_837$$ = $dataChannel$jscomp$1$$.bufferedAmount;
      $error$jscomp$21_error$jscomp$inline_838$$ = null === $error$jscomp$21_error$jscomp$inline_838$$ || void 0 === $error$jscomp$21_error$jscomp$inline_838$$ ? void 0 : $error$jscomp$21_error$jscomp$inline_838$$.error;
      $JSCompiler_StaticMethods_addDataChannel$self$$.$W$ || $JSCompiler_StaticMethods_addDataChannel$self$$.$j$.$emitDebugEvent$("ChannelError", $channelName$jscomp$1$$, null === $error$jscomp$21_error$jscomp$inline_838$$ || void 0 === $error$jscomp$21_error$jscomp$inline_838$$ ? void 0 : $error$jscomp$21_error$jscomp$inline_838$$.name, null === $error$jscomp$21_error$jscomp$inline_838$$ || void 0 === $error$jscomp$21_error$jscomp$inline_838$$ ? void 0 : $error$jscomp$21_error$jscomp$inline_838$$.message, 
      null === $bufferedAmount$jscomp$inline_837$$ || void 0 === $bufferedAmount$jscomp$inline_837$$ ? void 0 : $bufferedAmount$jscomp$inline_837$$.toString());
      $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{db7ae96}", $channelName$jscomp$1$$, null === $error$jscomp$21_error$jscomp$inline_838$$ || void 0 === $error$jscomp$21_error$jscomp$inline_838$$ ? void 0 : $error$jscomp$21_error$jscomp$inline_838$$.name, null === $error$jscomp$21_error$jscomp$inline_838$$ || void 0 === $error$jscomp$21_error$jscomp$inline_838$$ ? void 0 : $error$jscomp$21_error$jscomp$inline_838$$.message);
      $params$jscomp$4$$.errorCode && $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_addDataChannel$self$$, $params$jscomp$4$$.errorCode);
    }
  };
}
function $JSCompiler_StaticMethods_signInToConnectionServer$$($JSCompiler_StaticMethods_signInToConnectionServer$self$$) {
  $JSCompiler_StaticMethods_setSignInfo$$($JSCompiler_StaticMethods_signInToConnectionServer$self$$);
  let $signInTimeoutMs$$ = 10000;
  $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.signInTimeout && 0 !== $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.signInTimeout && ($signInTimeoutMs$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.signInTimeout, $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{4f2f101}", $signInTimeoutMs$$));
  $JSCompiler_StaticMethods_signInToConnectionServer$self$$.$v$ = window.setTimeout(() => $JSCompiler_StaticMethods_signInToConnectionServer$self$$.signInTimeout(), $signInTimeoutMs$$);
  $JSCompiler_StaticMethods_signInToConnectionServer$self$$.$wa$ = Date.now();
  $JSCompiler_StaticMethods_createWSAndSignIn$$($JSCompiler_StaticMethods_signInToConnectionServer$self$$);
}
function $JSCompiler_StaticMethods_logStreamTimestamps$$() {
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{440d709}", $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$j$, performance.timeOrigin);
}
function $JSCompiler_StaticMethods_setSignInfo$$($JSCompiler_StaticMethods_setSignInfo$self$$) {
  var $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$ = 1;
  for (let $x$jscomp$inline_843$$ = 1; 10 > $x$jscomp$inline_843$$; $x$jscomp$inline_843$$++) {
    $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$ *= 10;
  }
  $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$ = "" + Math.floor(Math.random() * $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$);
  $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$ = $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$.padEnd(10, "0");
  $JSCompiler_StaticMethods_setSignInfo$self$$.name = "peer-" + $multiplier$jscomp$inline_841_randnum$jscomp$inline_842$$;
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{f2b789d}", $JSCompiler_StaticMethods_setSignInfo$self$$.name);
  $JSCompiler_StaticMethods_setSignInfo$self$$.$O$ = $JSCompiler_StaticMethods_setSignInfo$self$$.$Ca$ + "/sign_in?peer_id=" + $JSCompiler_StaticMethods_setSignInfo$self$$.name + "&version=2";
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{05b8afd}", $JSCompiler_StaticMethods_setSignInfo$self$$.$O$);
}
function $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_notifyStart$self$$, $error$jscomp$18_result$jscomp$16$$) {
  var $_a$jscomp$98$$;
  if (!$JSCompiler_StaticMethods_notifyStart$self$$.$C$) {
    $JSCompiler_StaticMethods_notifyStart$self$$.$xa$ = Date.now() - $JSCompiler_StaticMethods_notifyStart$self$$.$ya$;
    if (void 0 === $error$jscomp$18_result$jscomp$16$$) {
      var $_a$jscomp$inline_846$$;
      null === ($_a$jscomp$inline_846$$ = $JSCompiler_StaticMethods_notifyStart$self$$.$G$) || void 0 === $_a$jscomp$inline_846$$ ? void 0 : $_a$jscomp$inline_846$$.uninitialize(4001);
      $JSCompiler_StaticMethods_notifyStart$self$$.$G$ = void 0;
      $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.startWebSocket($JSCompiler_StaticMethods_notifyStart$self$$.$O$, $JSCompiler_StaticMethods_notifyStart$self$$.maxReceivedAckId, $JSCompiler_StaticMethods_notifyStart$self$$.$N$, $JSCompiler_StaticMethods_notifyStart$self$$, !0);
      $module$exports$output$util$settings$RagnarokSettings$$.$statsUploadEnabled$ && $JSCompiler_StaticMethods_startProfiler$$($JSCompiler_StaticMethods_notifyStart$self$$);
    } else {
      $JSCompiler_StaticMethods_sendCandidatesTelemetry$$($JSCompiler_StaticMethods_notifyStart$self$$);
    }
    $JSCompiler_StaticMethods_notifyStart$self$$.$C$ = !0;
    0 !== $JSCompiler_StaticMethods_notifyStart$self$$.$A$ && (window.clearTimeout($JSCompiler_StaticMethods_notifyStart$self$$.$A$), $JSCompiler_StaticMethods_notifyStart$self$$.$A$ = 0);
    $error$jscomp$18_result$jscomp$16$$ = {sessionId:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.sessionId, subSessionId:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.subSessionId, streams:$JSCompiler_StaticMethods_notifyStart$self$$.$o$, streamInfo:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.streamInfo, error:$error$jscomp$18_result$jscomp$16$$, zoneName:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.zoneName, zoneAddress:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.zoneAddress, 
    gpuType:$JSCompiler_StaticMethods_notifyStart$self$$.$session$.gpuType, isResume:null !== ($_a$jscomp$98$$ = $JSCompiler_StaticMethods_notifyStart$self$$.isResume) && void 0 !== $_a$jscomp$98$$ ? $_a$jscomp$98$$ : !1};
    $JSCompiler_StaticMethods_onSessionStart$$($JSCompiler_StaticMethods_notifyStart$self$$.$Z$, $error$jscomp$18_result$jscomp$16$$);
    $JSCompiler_StaticMethods_notifyStart$self$$.$$$.send();
  }
}
function $JSCompiler_StaticMethods_sendControlMessage$$($JSCompiler_StaticMethods_sendControlMessage$self$$, $msg$jscomp$25$$) {
  var $_a$jscomp$99$$;
  try {
    if ("open" === (null === ($_a$jscomp$99$$ = $JSCompiler_StaticMethods_sendControlMessage$self$$.$J$) || void 0 === $_a$jscomp$99$$ ? void 0 : $_a$jscomp$99$$.readyState)) {
      let $t0$jscomp$1$$ = performance.now();
      $JSCompiler_StaticMethods_sendControlMessage$self$$.$J$.send(JSON.stringify($msg$jscomp$25$$));
      $JSCompiler_StaticMethods_updateDcTimeDuration$$($JSCompiler_StaticMethods_sendControlMessage$self$$, performance.now() - $t0$jscomp$1$$);
    } else {
      $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{593db1b}");
    }
  } catch ($exp$jscomp$18$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{a585a6e}", $exp$jscomp$18$$), $JSCompiler_StaticMethods_sendControlMessage$self$$.$j$.$g$($exp$jscomp$18$$, "sendControlMessage exception", "{93c7910}.ts", 0, 0, !0);
  }
}
function $JSCompiler_StaticMethods_stopInputHandler$$($JSCompiler_StaticMethods_stopInputHandler$self$$) {
  $JSCompiler_StaticMethods_stopInputHandler$self$$.$m$ && ($JSCompiler_StaticMethods_stopInputHandler$self$$.$m$.uninitialize(), $JSCompiler_StaticMethods_stopInputHandler$self$$.$m$ = void 0);
}
function $JSCompiler_StaticMethods_stopStatsService$$($JSCompiler_StaticMethods_stopStatsService$self$$) {
  var $_a$jscomp$110$$;
  null === ($_a$jscomp$110$$ = $JSCompiler_StaticMethods_stopStatsService$self$$.$h$) || void 0 === $_a$jscomp$110$$ ? void 0 : $_a$jscomp$110$$.stop();
}
function $JSCompiler_StaticMethods_stopBitstreamDump$$($JSCompiler_StaticMethods_stopBitstreamDump$self$$) {
  var $_a$jscomp$104$$;
  if (null === ($_a$jscomp$104$$ = $JSCompiler_StaticMethods_stopBitstreamDump$self$$.$S$) || void 0 === $_a$jscomp$104$$) {
    void 0;
  } else {
    for (const $stream$jscomp$inline_849$$ of $_a$jscomp$104$$.streams) {
      var $fileName$jscomp$inline_851_now$jscomp$inline_850$$ = (new Date()).toISOString();
      $fileName$jscomp$inline_851_now$jscomp$inline_850$$ = `ragnarok-${$stream$jscomp$inline_849$$.$namePrefix$}-${$fileName$jscomp$inline_851_now$jscomp$inline_850$$}.${$stream$jscomp$inline_849$$.$extension$}`;
      const $content$jscomp$inline_852$$ = [new DataView($stream$jscomp$inline_849$$.data.buffer, 0, $stream$jscomp$inline_849$$.size)];
      $module$contents$output$util$utils_Download$$($content$jscomp$inline_852$$, $fileName$jscomp$inline_851_now$jscomp$inline_850$$, "text/plain") && $module$exports$rtcutils_core$output$logger$Log$$.i("{d7392d2}", "{4b3378a}", $fileName$jscomp$inline_851_now$jscomp$inline_850$$);
    }
    $_a$jscomp$104$$.streams = [];
  }
  $JSCompiler_StaticMethods_stopBitstreamDump$self$$.$S$ = void 0;
}
async function $JSCompiler_StaticMethods_handlePeerMessage$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $peerId$jscomp$2$$, $data$jscomp$101$$) {
  var $_a$jscomp$111$$;
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9978507}", $peerId$jscomp$2$$);
  try {
    const $dataJson$$ = JSON.parse($data$jscomp$101$$);
    if ("offer" === $dataJson$$.type) {
      $JSCompiler_StaticMethods_handlePeerMessage$self$$.$qa$ = !0;
      let $answerConfig$$ = void 0, $sdp$jscomp$7$$ = $dataJson$$.sdp || "";
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{ca9a155}", $sdp$jscomp$7$$);
      const $codecs$jscomp$3$$ = await $JSCompiler_StaticMethods_handlePeerMessage$self$$.$Ba$, $selectedCodec$$ = $module$exports$output$streamclient$StreamClient$GetSelectedCodec$$($sdp$jscomp$7$$, $codecs$jscomp$3$$);
      if ($dataJson$$.nvstSdp) {
        const $override$jscomp$2$$ = null !== ($_a$jscomp$111$$ = $dataJson$$.nvstServerOverrides) && void 0 !== $_a$jscomp$111$$ ? $_a$jscomp$111$$ : "";
        $answerConfig$$ = $JSCompiler_StaticMethods_handleNvstSdp$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $dataJson$$.nvstSdp, $override$jscomp$2$$);
        if (!$answerConfig$$) {
          return;
        }
      }
      $JSCompiler_StaticMethods_handlePeerMessage$self$$.$S$ = new $module$exports$output$debug$bitstreamdump$BitstreamDump$$($JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$, $selectedCodec$$);
      $JSCompiler_StaticMethods_createPeerConnection$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $peerId$jscomp$2$$);
      let $startTime$jscomp$11$$ = Date.now();
      $sdp$jscomp$7$$ = $JSCompiler_StaticMethods_updateIceCandidates$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $sdp$jscomp$7$$);
      $sdp$jscomp$7$$ = $module$exports$output$streamclient$StreamClient$AddImageattrsToSDP$$($sdp$jscomp$7$$, $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$clientViewportWd$, $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$clientViewportHt$, $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$maxFps$);
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{542f9d5}", $sdp$jscomp$7$$);
      $JSCompiler_StaticMethods_handlePeerMessage$self$$.$g$.setRemoteDescription({type:$dataJson$$.type, sdp:$sdp$jscomp$7$$}).then(() => {
        $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ka$ = Date.now() - $startTime$jscomp$11$$;
        $JSCompiler_StaticMethods_cacheTrackIdsExpected$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
        $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{ab7b3af}", $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ka$);
        $JSCompiler_StaticMethods_renameStreams$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
        $module$contents$output$streamclient_shouldCombineStreams$$() && $JSCompiler_StaticMethods_setMediaElementStreams$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
        $JSCompiler_StaticMethods_startBitstreamDump$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
        $JSCompiler_StaticMethods_addSendVideoTrack$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
        $JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $selectedCodec$$);
        $startTime$jscomp$11$$ = Date.now();
        $JSCompiler_StaticMethods_handlePeerMessage$self$$.$g$.createAnswer().then($sessionDescription$$ => {
          $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ia$ = Date.now() - $startTime$jscomp$11$$;
          $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{2984003}", $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ia$);
          const $bitRateMax$$ = $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$maximumBitrateKbps$.toString(), $bitRateMin$$ = $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$minimumBitrateKbps$.toString(), $bitRateSrt$$ = $JSCompiler_StaticMethods_handlePeerMessage$self$$.$u$.video[0].$initialBitrateKbps$.toString();
          $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{b535c15}", $sessionDescription$$.sdp);
          if (void 0 !== $sessionDescription$$.sdp) {
            $sessionDescription$$.sdp = $module$exports$output$streamclient$StreamClient$GetMediaBitrateUpdatedSDP$$($sessionDescription$$.sdp, $bitRateMax$$);
            window.chrome && ($sessionDescription$$.sdp = $module$exports$output$streamclient$StreamClient$GetGoogBitrateUpdatedSDP$$($sessionDescription$$.sdp, $bitRateMin$$, $bitRateMax$$, $bitRateSrt$$));
            $sessionDescription$$.sdp = $module$exports$output$streamclient$StreamClient$AddOpusStereoSupported$$($sessionDescription$$.sdp);
            const $info$jscomp$12$$ = $module$exports$output$streamclient$StreamClient$isMultiopusOffered$$($sdp$jscomp$7$$);
            $info$jscomp$12$$ && ($sessionDescription$$.sdp = $module$exports$output$streamclient$StreamClient$AddOpusSurroundSupported$$($sessionDescription$$.sdp, $info$jscomp$12$$));
            $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{1a048a7}", $sessionDescription$$.sdp);
          }
          $startTime$jscomp$11$$ = Date.now();
          $JSCompiler_StaticMethods_handlePeerMessage$self$$.$g$.setLocalDescription($sessionDescription$$).then(() => {
            $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ja$ = Date.now() - $startTime$jscomp$11$$;
            $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{de86c01}", $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ja$);
            void 0 === $sessionDescription$$.sdp || window.chrome || ($sessionDescription$$.sdp = $module$exports$output$streamclient$StreamClient$GetGoogBitrateUpdatedSDP$$($sessionDescription$$.sdp, $bitRateMin$$, $bitRateMax$$, $bitRateSrt$$));
            if (void 0 !== $sessionDescription$$.sdp && $answerConfig$$) {
              $JSCompiler_object_inline_fingerprints_1093_sdpSections$$ = $module$exports$rtcutils_core$output$sdp$SDPUtils$SplitSections$$($sessionDescription$$.sdp);
              var $nvSections_sessionPart$$ = $JSCompiler_object_inline_fingerprints_1093_sdpSections$$.shift();
              var $JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ = $JSCompiler_object_inline_fingerprints_1093_sdpSections$$[0];
              var $sessionpart$jscomp$inline_855$$ = $nvSections_sessionPart$$;
              var $JSCompiler_object_inline_usernameFragment_1094_ufrag$jscomp$inline_856$$ = $module$exports$rtcutils_core$output$sdp$SDPUtils$MatchPrefix$$($JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ + $sessionpart$jscomp$inline_855$$, "a=ice-ufrag:")[0];
              $JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ = $module$exports$rtcutils_core$output$sdp$SDPUtils$MatchPrefix$$($JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ + $sessionpart$jscomp$inline_855$$, "a=ice-pwd:")[0];
              $JSCompiler_object_inline_usernameFragment_1094_ufrag$jscomp$inline_856$$ = $JSCompiler_object_inline_usernameFragment_1094_ufrag$jscomp$inline_856$$.substr(12);
              $JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ = $JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$.substr(10);
              var $JSCompiler_object_inline_fingerprints_1093_sdpSections$$ = $module$exports$rtcutils_core$output$sdp$SDPUtils$MatchPrefix$$($JSCompiler_object_inline_fingerprints_1093_sdpSections$$[0] + $nvSections_sessionPart$$, "a=fingerprint:").map($module$exports$rtcutils_core$output$sdp$SDPUtils$ParseFingerprint$$);
              $nvSections_sessionPart$$ = $module$exports$rtcutils_core$output$sdp$SDPUtils$SplitSections$$($answerConfig$$);
              $nvSections_sessionPart$$[0] += "a=general.icePassword:" + $JSCompiler_object_inline_password_1095_mediaSection$jscomp$inline_854_pwd$jscomp$inline_857$$ + "\r\n";
              $nvSections_sessionPart$$[0] += "a=general.iceUserNameFragment:" + $JSCompiler_object_inline_usernameFragment_1094_ufrag$jscomp$inline_856$$ + "\r\n";
              $nvSections_sessionPart$$[0] += "a=general.dtlsFingerprint:" + $JSCompiler_object_inline_fingerprints_1093_sdpSections$$[0].value + "\r\n";
              $answerConfig$$ = $nvSections_sessionPart$$.join("");
            }
            $JSCompiler_StaticMethods_sendDataToPeer$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $peerId$jscomp$2$$, {type:$sessionDescription$$.type, sdp:$sessionDescription$$.sdp, nvstSdp:$answerConfig$$});
            $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{bd70666}", JSON.stringify($JSCompiler_StaticMethods_handlePeerMessage$self$$.$o$));
            $JSCompiler_StaticMethods_checkAndNotifyStartToClient$$($JSCompiler_StaticMethods_handlePeerMessage$self$$);
          }).catch($sdpError$jscomp$2$$ => {
            $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{ba2deaa}", $sdpError$jscomp$2$$);
            $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, 3237093902);
          });
        }).catch($error$jscomp$19$$ => {
          $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{40c0f69}", $error$jscomp$19$$);
        });
      }).catch($event$jscomp$33$$ => {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{ec2853e}", $event$jscomp$33$$);
        $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, 3237093902);
      });
    } else if ($dataJson$$.candidate) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{cf4c103}");
      let $updatedCandidate$$ = $JSCompiler_StaticMethods_updateIceCandidate$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, $dataJson$$.candidate);
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{43e80e0}", $updatedCandidate$$);
      $JSCompiler_StaticMethods_handlePeerMessage$self$$.$g$.addIceCandidate({sdpMLineIndex:$dataJson$$.sdpMLineIndex, sdpMid:$dataJson$$.sdpMid, candidate:$updatedCandidate$$}).then(() => {
        $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{db0ae14}");
        $JSCompiler_StaticMethods_handlePeerMessage$self$$.$ca$ = !0;
      }).catch($ex$jscomp$5$$ => {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{62f207e}", $ex$jscomp$5$$);
        $JSCompiler_StaticMethods_handlePeerMessage$self$$.$j$.$emitDebugEvent$("AddCandidateFailed", null === $ex$jscomp$5$$ || void 0 === $ex$jscomp$5$$ ? void 0 : $ex$jscomp$5$$.name, null === $ex$jscomp$5$$ || void 0 === $ex$jscomp$5$$ ? void 0 : $ex$jscomp$5$$.message);
      });
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9454009}");
    }
  } catch ($exp$jscomp$21$$) {
    "BYE" === $data$jscomp$101$$ ? $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_handlePeerMessage$self$$, 15868672) : ($module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{93367fc}", $exp$jscomp$21$$), $JSCompiler_StaticMethods_handlePeerMessage$self$$.$j$.$g$($exp$jscomp$21$$, "Invalid handlePeerMessage Response", "{93c7910}.ts", 0, 0, !0));
  }
}
function $JSCompiler_StaticMethods_getStreamBeginError$$($JSCompiler_StaticMethods_getStreamBeginError$self$$) {
  var $_a$jscomp$92_pair$jscomp$inline_865$$;
  let $errorCode$jscomp$7$$;
  switch($JSCompiler_StaticMethods_getStreamBeginError$self$$.videoStreamProgress) {
    case 0:
    case 2:
      break;
    case 3:
      $errorCode$jscomp$7$$ = 3237093922;
      break;
    case 5:
      $errorCode$jscomp$7$$ = 3237093923;
      break;
    case 7:
      $errorCode$jscomp$7$$ = 3237093924;
      break;
    default:
      $errorCode$jscomp$7$$ = 3237093925;
  }
  if (null === ($_a$jscomp$92_pair$jscomp$inline_865$$ = $JSCompiler_StaticMethods_getStreamBeginError$self$$.$h$) || void 0 === $_a$jscomp$92_pair$jscomp$inline_865$$) {
    var $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = void 0;
  } else {
    a: {
      if ($_a$jscomp$92_pair$jscomp$inline_865$$.$j$) {
        var $totalResponsesReceived$jscomp$inline_861$$ = $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = 0, $totalNominatedPairs$jscomp$inline_862$$ = 0, $totalSucceededPairs$jscomp$inline_863$$ = 0;
        for (const $stat$jscomp$inline_864$$ of $_a$jscomp$92_pair$jscomp$inline_865$$.$j$.values()) {
          "candidate-pair" === $stat$jscomp$inline_864$$.type && ($_a$jscomp$92_pair$jscomp$inline_865$$ = $stat$jscomp$inline_864$$, $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ += $_a$jscomp$92_pair$jscomp$inline_865$$.requestsSent + $_a$jscomp$92_pair$jscomp$inline_865$$.consentRequestsSent, $totalResponsesReceived$jscomp$inline_861$$ += $_a$jscomp$92_pair$jscomp$inline_865$$.responsesReceived, $_a$jscomp$92_pair$jscomp$inline_865$$.$nominated$ && $totalNominatedPairs$jscomp$inline_862$$++, 
          "succeeded" === $_a$jscomp$92_pair$jscomp$inline_865$$.state && $totalSucceededPairs$jscomp$inline_863$$++);
        }
        $module$exports$rtcutils_core$output$logger$Log$$.i("{5cea617}", "{47c0ce7}", $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$, $totalResponsesReceived$jscomp$inline_861$$);
        if (0 < $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ && 0 === $totalResponsesReceived$jscomp$inline_861$$) {
          $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = 3237093926;
          break a;
        }
        if (!$totalNominatedPairs$jscomp$inline_862$$) {
          $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = 3237093927;
          break a;
        }
        if (!$totalSucceededPairs$jscomp$inline_863$$) {
          $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = 3237093928;
          break a;
        }
      }
      $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ = void 0;
    }
  }
  $JSCompiler_StaticMethods_getStreamBeginError$self$$.id ? $JSCompiler_StaticMethods_getStreamBeginError$self$$.$qa$ ? $JSCompiler_StaticMethods_getStreamBeginError$self$$.$ba$ ? $JSCompiler_StaticMethods_getStreamBeginError$self$$.$M$ ? $JSCompiler_StaticMethods_getStreamBeginError$self$$.$ca$ ? $JSCompiler_StaticMethods_getStreamBeginError$self$$.$pa$ ? $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ ? $errorCode$jscomp$7$$ = $JSCompiler_temp$jscomp$97_candidatePairError_totalRequestsSent$jscomp$inline_860$$ : 
  "connecting" === $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_getStreamBeginError$self$$.$B$) ? $errorCode$jscomp$7$$ = 3237093919 : "connecting" === $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_getStreamBeginError$self$$.$K$) ? $errorCode$jscomp$7$$ = 3237093920 : "connecting" === $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_getStreamBeginError$self$$.$J$) && ($errorCode$jscomp$7$$ = 3237093921) : 
  $errorCode$jscomp$7$$ = 3237093903 : $errorCode$jscomp$7$$ = 3237093904 : $errorCode$jscomp$7$$ = 3237093905 : $errorCode$jscomp$7$$ = 3237093914 : $errorCode$jscomp$7$$ = 3237093913 : $errorCode$jscomp$7$$ = 3237093912;
  return $errorCode$jscomp$7$$;
}
function $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_stopStreamWithError$self$$, $error$jscomp$17$$) {
  var $_a$jscomp$95$$;
  if (!$JSCompiler_StaticMethods_stopStreamWithError$self$$.$W$) {
    $JSCompiler_StaticMethods_stopStreamWithError$self$$.$W$ = !0;
    $JSCompiler_StaticMethods_stopInputHandler$$($JSCompiler_StaticMethods_stopStreamWithError$self$$);
    $JSCompiler_StaticMethods_stopStatsService$$($JSCompiler_StaticMethods_stopStreamWithError$self$$);
    if ($JSCompiler_StaticMethods_stopStreamWithError$self$$.$C$) {
      let $result$jscomp$15$$ = {sessionId:$JSCompiler_StaticMethods_stopStreamWithError$self$$.$session$.sessionId, subSessionId:$JSCompiler_StaticMethods_stopStreamWithError$self$$.$session$.subSessionId, error:{code:$error$jscomp$17$$}, zoneName:$JSCompiler_StaticMethods_stopStreamWithError$self$$.$session$.zoneName, zoneAddress:$JSCompiler_StaticMethods_stopStreamWithError$self$$.$session$.zoneAddress};
      $JSCompiler_StaticMethods_stopStreamWithError$self$$.$j$.$emitDebugEvent$("SignalingState", $module$contents$rtcutils_core$output$utils_GetHexString$$($error$jscomp$17$$), null === ($_a$jscomp$95$$ = $JSCompiler_StaticMethods_stopStreamWithError$self$$.$g$) || void 0 === $_a$jscomp$95$$ ? void 0 : $_a$jscomp$95$$.signalingState);
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{89d3ea6}", $JSCompiler_StaticMethods_stopStreamWithError$self$$.$g$.signalingState);
      $JSCompiler_StaticMethods_onStreamStop$$($JSCompiler_StaticMethods_stopStreamWithError$self$$.$Z$, $result$jscomp$15$$);
    } else {
      $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_stopStreamWithError$self$$, {code:$error$jscomp$17$$});
    }
    $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{573fb24}", $module$contents$rtcutils_core$output$utils_GetHexString$$($error$jscomp$17$$));
  }
}
function $JSCompiler_StaticMethods_createWSAndSignIn$$($JSCompiler_StaticMethods_createWSAndSignIn$self$$) {
  $JSCompiler_StaticMethods_createWSAndSignIn$self$$.$G$ = new $module$exports$output$websocketimpl$WebSocketImpl$$($JSCompiler_StaticMethods_createWSAndSignIn$self$$.$session$.sessionId, $JSCompiler_StaticMethods_createWSAndSignIn$self$$.$session$.accessToken || "", {$wsHandler$:$JSCompiler_StaticMethods_createWSAndSignIn$self$$, $logCallback$:{info:$JSCompiler_StaticMethods_createWSAndSignIn$self$$.$Ga$.bind($JSCompiler_StaticMethods_createWSAndSignIn$self$$), exception:$JSCompiler_StaticMethods_createWSAndSignIn$self$$.$Fa$.bind($JSCompiler_StaticMethods_createWSAndSignIn$self$$)}});
  $JSCompiler_StaticMethods_createWSAndSignIn$self$$.$G$.initialize($JSCompiler_StaticMethods_createWSAndSignIn$self$$.$O$, $JSCompiler_StaticMethods_createWSAndSignIn$self$$.maxReceivedAckId, $JSCompiler_StaticMethods_createWSAndSignIn$self$$.$N$);
}
function $JSCompiler_StaticMethods_startStreamBeginTimeout$$($JSCompiler_StaticMethods_startStreamBeginTimeout$self$$) {
  $JSCompiler_StaticMethods_startStreamBeginTimeout$self$$.$A$ = window.setTimeout(() => {
    var $_a$jscomp$inline_868$$;
    $JSCompiler_StaticMethods_startStreamBeginTimeout$self$$.$A$ = 0;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{d22df91}");
    $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_startStreamBeginTimeout$self$$, null !== ($_a$jscomp$inline_868$$ = $JSCompiler_StaticMethods_getStreamBeginError$$($JSCompiler_StaticMethods_startStreamBeginTimeout$self$$)) && void 0 !== $_a$jscomp$inline_868$$ ? $_a$jscomp$inline_868$$ : 3237093895);
  }, 30000);
  $JSCompiler_StaticMethods_startStreamBeginTimeout$self$$.$ya$ = Date.now();
}
function $JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$$($JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$self$$) {
  let $stopped$$ = !1;
  window.chrome && "closed" === $JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$self$$.$g$.signalingState && ($stopped$$ = !0, $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_stopStreamWithErrorIfSleep$self$$, 15867908));
  return $stopped$$;
}
function $JSCompiler_StaticMethods_sendCandidatesTelemetry$$($JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$) {
  var $_a$jscomp$93_totalOnCandidateCount$$, $_b$jscomp$44_localCandidate$$, $_c$jscomp$28_statsRanges$$, $_d$jscomp$22$$, $_e$jscomp$12$$, $_f$jscomp$10$$, $_g$jscomp$8$$, $_h$jscomp$7$$, $_j$jscomp$7$$;
  const $getInvalidTotal$$ = $counts_ipv6Count$$ => {
    var $_a$jscomp$94$$, $_b$jscomp$45$$;
    const $tcpCount$$ = null !== ($_a$jscomp$94$$ = null === $counts_ipv6Count$$ || void 0 === $counts_ipv6Count$$ ? void 0 : $counts_ipv6Count$$.get("TCP")) && void 0 !== $_a$jscomp$94$$ ? $_a$jscomp$94$$ : 0;
    $counts_ipv6Count$$ = null !== ($_b$jscomp$45$$ = null === $counts_ipv6Count$$ || void 0 === $counts_ipv6Count$$ ? void 0 : $counts_ipv6Count$$.get("IPV6")) && void 0 !== $_b$jscomp$45$$ ? $_b$jscomp$45$$ : 0;
    return $tcpCount$$ + $counts_ipv6Count$$;
  };
  var $candidateEventDiff_getCandidateTotal$$ = ($candidateLog_source$jscomp$21$$, $counts$jscomp$1_key$jscomp$57$$) => {
    let $totalCandidates$$ = 0;
    if ($counts$jscomp$1_key$jscomp$57$$) {
      $candidateLog_source$jscomp$21$$ = `${$candidateLog_source$jscomp$21$$} local candidates:`;
      for (const [$key__tsickle_destructured_1$jscomp$4$$, $value__tsickle_destructured_2$jscomp$4$$] of $counts$jscomp$1_key$jscomp$57$$) {
        $counts$jscomp$1_key$jscomp$57$$ = $key__tsickle_destructured_1$jscomp$4$$;
        const $value$jscomp$132$$ = $value__tsickle_destructured_2$jscomp$4$$;
        $totalCandidates$$ += $value$jscomp$132$$;
        $candidateLog_source$jscomp$21$$ += ` ${$counts$jscomp$1_key$jscomp$57$$}: ${$value$jscomp$132$$}`;
      }
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{0b0c6f9}", $candidateLog_source$jscomp$21$$);
    }
    return $totalCandidates$$;
  };
  const $candidateCategoriesStats$$ = null === ($_a$jscomp$93_totalOnCandidateCount$$ = $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$h$) || void 0 === $_a$jscomp$93_totalOnCandidateCount$$ ? void 0 : $JSCompiler_StaticMethods_getCandidateStatCategoryCounts$$($_a$jscomp$93_totalOnCandidateCount$$);
  $_a$jscomp$93_totalOnCandidateCount$$ = $candidateEventDiff_getCandidateTotal$$("event", $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$T$);
  const $totalStatsCount$$ = $candidateEventDiff_getCandidateTotal$$("stats", $candidateCategoriesStats$$);
  $candidateEventDiff_getCandidateTotal$$ = $_a$jscomp$93_totalOnCandidateCount$$ - $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$ra$;
  let $selectedString$$ = "";
  const $videoReceiver$$ = null === ($_b$jscomp$44_localCandidate$$ = $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$g$) || void 0 === $_b$jscomp$44_localCandidate$$ ? void 0 : $_b$jscomp$44_localCandidate$$.getReceivers().find($receiver$jscomp$3$$ => "video" === $receiver$jscomp$3$$.track.kind && $receiver$jscomp$3$$.track.enabled);
  ($_b$jscomp$44_localCandidate$$ = null === ($_f$jscomp$10$$ = null === ($_e$jscomp$12$$ = null === ($_d$jscomp$22$$ = null === ($_c$jscomp$28_statsRanges$$ = null === $videoReceiver$$ || void 0 === $videoReceiver$$ ? void 0 : $videoReceiver$$.$transport$) || void 0 === $_c$jscomp$28_statsRanges$$ ? void 0 : $_c$jscomp$28_statsRanges$$.$iceTransport$) || void 0 === $_d$jscomp$22$$ ? void 0 : $_d$jscomp$22$$.getSelectedCandidatePair) || void 0 === $_e$jscomp$12$$ ? void 0 : $_e$jscomp$12$$.call($_d$jscomp$22$$)) || 
  void 0 === $_f$jscomp$10$$ ? void 0 : $_f$jscomp$10$$.local) && ($selectedString$$ = `category: ${$module$contents$output$stats$clientstatsservice_getIceCandidateCategory$$($_b$jscomp$44_localCandidate$$)}, type: ${$_b$jscomp$44_localCandidate$$.type}`);
  $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$j$, "LocalCandidatesCategories", $selectedString$$, $_a$jscomp$93_totalOnCandidateCount$$, $_a$jscomp$93_totalOnCandidateCount$$ - $getInvalidTotal$$($JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$T$), $totalStatsCount$$, $totalStatsCount$$ - $getInvalidTotal$$($candidateCategoriesStats$$));
  $_c$jscomp$28_statsRanges$$ = null !== ($_h$jscomp$7$$ = null === ($_g$jscomp$8$$ = $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$h$) || void 0 === $_g$jscomp$8$$ ? void 0 : $JSCompiler_StaticMethods_getCandidateAddressRanges$$($_g$jscomp$8$$)) && void 0 !== $_h$jscomp$7$$ ? $_h$jscomp$7$$ : new Set();
  $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$j$, "LocalCandidateRanges", `${null === ($_j$jscomp$7$$ = $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$g$) || void 0 === $_j$jscomp$7$$ ? void 0 : $_j$jscomp$7$$.iceGatheringState}`, $candidateEventDiff_getCandidateTotal$$, null === $_c$jscomp$28_statsRanges$$ || void 0 === $_c$jscomp$28_statsRanges$$ ? void 0 : $_c$jscomp$28_statsRanges$$.size, $JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$aa$.size, 
  (new Set([...$_c$jscomp$28_statsRanges$$, ...$JSCompiler_StaticMethods_sendCandidatesTelemetry$self$$.$aa$])).size);
}
function $JSCompiler_StaticMethods_renameStreams$$($JSCompiler_StaticMethods_renameStreams$self$$) {
  for (const $stream$jscomp$15$$ of $JSCompiler_StaticMethods_renameStreams$self$$.$o$) {
    "stream_id" === $stream$jscomp$15$$.streamId && 2 === $JSCompiler_StaticMethods_renameStreams$self$$.$o$.length ? $stream$jscomp$15$$.streamId = "app_video_stream" : "stream_id" === $stream$jscomp$15$$.streamId ? $stream$jscomp$15$$.streamId = "app_media_stream" : "second_stream_id" === $stream$jscomp$15$$.streamId && ($stream$jscomp$15$$.streamId = "app_audio_stream");
  }
}
function $JSCompiler_StaticMethods_setStreamOnElement$$($JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$, $stream$jscomp$16$$, $element$jscomp$22$$) {
  $JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$ = $JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$.$g$.getTransceivers().map($x$jscomp$137$$ => $x$jscomp$137$$.receiver.track);
  $JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$ = new MediaStream($JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$.filter($x$jscomp$138$$ => $stream$jscomp$16$$.tracks.find($y$jscomp$96$$ => $y$jscomp$96$$.trackId === $x$jscomp$138$$.id)));
  $element$jscomp$22$$.srcObject = $JSCompiler_StaticMethods_setStreamOnElement$self_mediaStream$jscomp$3_tracks$$;
}
function $JSCompiler_StaticMethods_setMediaElementStreams$$($JSCompiler_StaticMethods_setMediaElementStreams$self$$) {
  var $mediaStream$jscomp$1_videoStream$$ = $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.find($x$jscomp$131$$ => "app_media_stream" === $x$jscomp$131$$.streamId);
  if ($mediaStream$jscomp$1_videoStream$$) {
    $JSCompiler_StaticMethods_setStreamOnElement$$($JSCompiler_StaticMethods_setMediaElementStreams$self$$, $mediaStream$jscomp$1_videoStream$$, $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$videoElement$), $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{a5e354c}");
  } else {
    $mediaStream$jscomp$1_videoStream$$ = $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.find($x$jscomp$132$$ => "app_video_stream" === $x$jscomp$132$$.streamId);
    var $audioStream$$ = $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.find($x$jscomp$133$$ => "app_audio_stream" === $x$jscomp$133$$.streamId);
    if ($mediaStream$jscomp$1_videoStream$$ && $audioStream$$) {
      const $mediaStream$jscomp$2$$ = {streamId:"app_media_stream", tracks:$mediaStream$jscomp$1_videoStream$$.tracks.concat($audioStream$$.tracks)};
      $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.splice($JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.indexOf($mediaStream$jscomp$1_videoStream$$), 1);
      $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.splice($JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.indexOf($audioStream$$), 1);
      $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$o$.push($mediaStream$jscomp$2$$);
      $JSCompiler_StaticMethods_setStreamOnElement$$($JSCompiler_StaticMethods_setMediaElementStreams$self$$, $mediaStream$jscomp$2$$, $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$videoElement$);
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{e2dc4ec}");
    } else {
      $mediaStream$jscomp$1_videoStream$$ ? ($JSCompiler_StaticMethods_setStreamOnElement$$($JSCompiler_StaticMethods_setMediaElementStreams$self$$, $mediaStream$jscomp$1_videoStream$$, $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$videoElement$), $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{07f3411}")) : $audioStream$$ ? ($JSCompiler_StaticMethods_setStreamOnElement$$($JSCompiler_StaticMethods_setMediaElementStreams$self$$, $audioStream$$, $JSCompiler_StaticMethods_setMediaElementStreams$self$$.$audioElement$), 
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{243a50b}")) : $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{c3a2679}");
    }
  }
}
function $JSCompiler_StaticMethods_addSendVideoTrack$$($JSCompiler_StaticMethods_addSendVideoTrack$self$$) {
  try {
    if ($JSCompiler_StaticMethods_addSendVideoTrack$self$$.$g$ && $JSCompiler_StaticMethods_addSendVideoTrack$self$$.sendVideoTrack) {
      const $transceiver$$ = $JSCompiler_StaticMethods_addSendVideoTrack$self$$.$g$.getTransceivers().find($x$jscomp$134$$ => "video" === $x$jscomp$134$$.receiver.track.kind);
      if ($transceiver$$) {
        let $logMsg$$ = "", $origDir$$ = $transceiver$$.direction;
        "sendrecv" !== $transceiver$$.direction && ($transceiver$$.direction = "sendrecv", $logMsg$$ = " (" + $origDir$$ + " direction is overridden by sendrecv)");
        $transceiver$$.sender.replaceTrack($JSCompiler_StaticMethods_addSendVideoTrack$self$$.sendVideoTrack).then(() => {
          $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{b54f651}", $logMsg$$);
        }).catch($err$jscomp$30$$ => {
          $transceiver$$.direction !== $origDir$$ && ($transceiver$$.direction = $origDir$$);
          $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{d225159}", $err$jscomp$30$$);
        });
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{8272b59}");
      }
    }
  } catch ($exp$jscomp$15$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{66082ec}", $exp$jscomp$15$$);
  }
}
function $JSCompiler_StaticMethods_logAndEmitExceptionEvent$$($JSCompiler_StaticMethods_logAndEmitExceptionEvent$self$$, $message$jscomp$39$$, $exception$jscomp$7$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{4d3c418}", $message$jscomp$39$$, $exception$jscomp$7$$);
  $JSCompiler_StaticMethods_logAndEmitExceptionEvent$self$$.$j$.$g$($exception$jscomp$7$$, $message$jscomp$39$$, "{93c7910}.ts", 0, 0, !0);
}
function $JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$$($JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$self$$, $codec$jscomp$4_codecCapabilities$$) {
  var $_a$jscomp$96_preferences$$, $_b$jscomp$46$$, $_c$jscomp$29$$;
  const $transceiver$jscomp$1$$ = $JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$self$$.$g$.getTransceivers().find($x$jscomp$135$$ => "video" === $x$jscomp$135$$.receiver.track.kind && ("recvonly" === $x$jscomp$135$$.direction || "sendrecv" === $x$jscomp$135$$.direction));
  if ($transceiver$jscomp$1$$) {
    if (RTCRtpReceiver.getCapabilities && RTCRtpSender.getCapabilities && $transceiver$jscomp$1$$.setCodecPreferences) {
      var $capabilities_codecsToKeep$$ = [$codec$jscomp$4_codecCapabilities$$, "flexfec-03", "rtx"];
      $codec$jscomp$4_codecCapabilities$$ = null === ($_a$jscomp$96_preferences$$ = RTCRtpReceiver.getCapabilities("video")) || void 0 === $_a$jscomp$96_preferences$$ ? void 0 : $_a$jscomp$96_preferences$$.codecs;
      $_a$jscomp$96_preferences$$ = [];
      if ($codec$jscomp$4_codecCapabilities$$) {
        for (const $codec$jscomp$5$$ of $capabilities_codecsToKeep$$) {
          ($capabilities_codecsToKeep$$ = $codec$jscomp$4_codecCapabilities$$.filter($x$jscomp$136$$ => $x$jscomp$136$$.mimeType === "video/" + $codec$jscomp$5$$)) && $_a$jscomp$96_preferences$$.push.apply($_a$jscomp$96_preferences$$, $capabilities_codecsToKeep$$);
        }
        try {
          $transceiver$jscomp$1$$.setCodecPreferences($_a$jscomp$96_preferences$$);
        } catch ($exp$jscomp$16$$) {
          $JSCompiler_StaticMethods_logAndEmitExceptionEvent$$($JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$self$$, "Failed to set codec preferences to receiver capabilities", $exp$jscomp$16$$);
          try {
            $_a$jscomp$96_preferences$$ = $_a$jscomp$96_preferences$$.concat(null !== ($_c$jscomp$29$$ = null === ($_b$jscomp$46$$ = RTCRtpSender.getCapabilities("video")) || void 0 === $_b$jscomp$46$$ ? void 0 : $_b$jscomp$46$$.codecs) && void 0 !== $_c$jscomp$29$$ ? $_c$jscomp$29$$ : []), $transceiver$jscomp$1$$.setCodecPreferences($_a$jscomp$96_preferences$$);
          } catch ($exp$jscomp$17$$) {
            $JSCompiler_StaticMethods_logAndEmitExceptionEvent$$($JSCompiler_StaticMethods_JSC$2930_setCodecPreferences$self$$, "Failed to set codec preferences to sender and receiver capabilities", $exp$jscomp$17$$);
          }
        }
      }
    } else {
      $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{274c489}");
    }
  }
}
function $JSCompiler_StaticMethods_startProfiler$$($JSCompiler_StaticMethods_startProfiler$self$$) {
  var $statsHeader$jscomp$inline_870_workerMessage$jscomp$inline_872$$ = {stats:{from:$JSCompiler_StaticMethods_startProfiler$self$$.id, to:$JSCompiler_StaticMethods_startProfiler$self$$.$fa$}}, $JSCompiler_StaticMethods_startProfiling$self$jscomp$inline_871$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$;
  $JSCompiler_StaticMethods_startProfiling$self$jscomp$inline_871$$.$h$ = !1;
  $statsHeader$jscomp$inline_870_workerMessage$jscomp$inline_872$$ = {startStats:{statsHeader:$statsHeader$jscomp$inline_870_workerMessage$jscomp$inline_872$$}};
  $JSCompiler_StaticMethods_startProfiling$self$jscomp$inline_871$$.$g$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{1f5ec29}", "{6897d5e}"), $JSCompiler_StaticMethods_startProfiling$self$jscomp$inline_871$$.$g$.postMessage($statsHeader$jscomp$inline_870_workerMessage$jscomp$inline_872$$));
  $JSCompiler_StaticMethods_startProfiler$self$$.$ea$ = !0;
}
function $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_queueControlMessage$self$$, $msg$jscomp$26$$) {
  "connecting" === $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_queueControlMessage$self$$.$J$) ? $JSCompiler_StaticMethods_queueControlMessage$self$$.$V$.push($msg$jscomp$26$$) : $JSCompiler_StaticMethods_sendControlMessage$$($JSCompiler_StaticMethods_queueControlMessage$self$$, $msg$jscomp$26$$);
}
function $JSCompiler_StaticMethods_notifyIdleUpdate$$($JSCompiler_StaticMethods_notifyIdleUpdate$self$$, $code$jscomp$9$$, $secondsLeft$$) {
  var $_a$jscomp$102$$;
  2 === $code$jscomp$9$$ && (null === ($_a$jscomp$102$$ = $JSCompiler_StaticMethods_notifyIdleUpdate$self$$.$m$) || void 0 === $_a$jscomp$102$$ ? void 0 : $JSCompiler_StaticMethods_setUserIdleTimeoutPending$$($_a$jscomp$102$$, !0));
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{5ba6173}", $code$jscomp$9$$, $secondsLeft$$);
  $JSCompiler_StaticMethods_notifyIdleUpdate$self$$.$D$.emit("StreamingEvent", {streamingWarnings:{code:$code$jscomp$9$$, secondsLeft:$secondsLeft$$}});
}
function $JSCompiler_StaticMethods_startBitstreamDump$$($JSCompiler_StaticMethods_startBitstreamDump$self$$) {
  var $_a$jscomp$103$$;
  null === ($_a$jscomp$103$$ = $JSCompiler_StaticMethods_startBitstreamDump$self$$.$S$) || void 0 === $_a$jscomp$103$$ ? void 0 : $_a$jscomp$103$$.start($JSCompiler_StaticMethods_startBitstreamDump$self$$.$g$);
}
function $JSCompiler_StaticMethods_onIceCandidateHandler$$($JSCompiler_StaticMethods_onIceCandidateHandler$self$$, $event$jscomp$27$$, $candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$) {
  $event$jscomp$27$$.candidate ? ($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$ || ($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$ = $module$contents$output$stats$clientstatsservice_getIceCandidateCategory$$($event$jscomp$27$$.candidate), $JSCompiler_StaticMethods_onIceCandidateHandler$self$$.$T$.set($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$, $JSCompiler_StaticMethods_onIceCandidateHandler$self$$.$T$.get($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$) + 
  1), "IPV4" === $candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$ && ($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$ = $module$contents$output$stats$clientstatsservice_getIceCandidateAddressRange$$($event$jscomp$27$$.candidate), "UNKNOWN" !== $candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$ && $JSCompiler_StaticMethods_onIceCandidateHandler$self$$.$aa$.add($candidateRange$jscomp$1_category$jscomp$3_eventOrigin$$))), "tcp" === $event$jscomp$27$$.candidate.protocol ? $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", 
  "{6f19d1e}") : ($module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{ac052fa}", $event$jscomp$27$$.candidate.port, $event$jscomp$27$$.candidate.protocol), $JSCompiler_StaticMethods_sendDataToPeer$$($JSCompiler_StaticMethods_onIceCandidateHandler$self$$, $JSCompiler_StaticMethods_onIceCandidateHandler$self$$.$fa$, {sdpMLineIndex:$event$jscomp$27$$.candidate.sdpMLineIndex, sdpMid:$event$jscomp$27$$.candidate.sdpMid, candidate:$event$jscomp$27$$.candidate.candidate}), $JSCompiler_StaticMethods_onIceCandidateHandler$self$$.$pa$ = 
  !0)) : $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{a759d16}");
}
function $JSCompiler_StaticMethods_sendDataToPeer$$($JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$, $peerId$jscomp$3$$, $message$jscomp$41_obj$jscomp$32$$) {
  const $data$jscomp$102$$ = JSON.stringify($message$jscomp$41_obj$jscomp$32$$);
  $message$jscomp$41_obj$jscomp$32$$ = {peer_msg:{from:$JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.id, to:$peerId$jscomp$3$$, msg:$data$jscomp$102$$}, ackid:$JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$N$ ? $JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$ma$.$g$++ : void 0};
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{7ecb902}", $peerId$jscomp$3$$, $data$jscomp$102$$.length, JSON.stringify($message$jscomp$41_obj$jscomp$32$$));
  $JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$G$ ? $JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$G$.send($message$jscomp$41_obj$jscomp$32$$) : ($JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$ = $module$exports$output$ragnarokprofiler$RagnarokProfiler$$, $JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$g$ && 
  $JSCompiler_StaticMethods_sendDataToPeer$self_JSCompiler_StaticMethods_sendOverWs$self$jscomp$inline_875$$.$g$.postMessage({send:$message$jscomp$41_obj$jscomp$32$$}));
}
function $JSCompiler_StaticMethods_sendWindowState$$($JSCompiler_StaticMethods_sendWindowState$self$$, $frameNumber$jscomp$3$$) {
  let $windowStateFlags$$ = 0;
  $JSCompiler_StaticMethods_sendWindowState$self$$.$s$.$h$ && ($windowStateFlags$$ |= 2);
  $JSCompiler_StaticMethods_sendWindowState$self$$.$s$.$l$ && ($windowStateFlags$$ |= 1);
  $JSCompiler_StaticMethods_sendWindowState$self$$.$s$.$j$ && ($windowStateFlags$$ |= 16);
  $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_sendWindowState$self$$, {windowState:{streamIndex:0, frameNumber:$frameNumber$jscomp$3$$, windowStateFlags:$windowStateFlags$$}});
}
function $JSCompiler_StaticMethods_signalAudioPacketsReceived$$($JSCompiler_StaticMethods_signalAudioPacketsReceived$self$$, $audioTrack$jscomp$1_stream$jscomp$19$$) {
  if ($audioTrack$jscomp$1_stream$jscomp$19$$ = $module$contents$output$streamclient_getAudioTrack$$($audioTrack$jscomp$1_stream$jscomp$19$$)) {
    $audioTrack$jscomp$1_stream$jscomp$19$$.onunmute = () => {
      $JSCompiler_StaticMethods_signalAudioPacketsReceived$self$$.$oa$ = !1;
    };
  }
}
function $JSCompiler_StaticMethods_checkAndNotifyStartToClient$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$) {
  0 < $JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$.$P$.length && "connecting" !== $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$.$J$) && "connecting" !== $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$.$K$) && "connecting" !== $module$contents$output$streamclient_getChannelState$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$.$B$) && 
  $JSCompiler_StaticMethods_didReceiveExpectedTracks$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$) && $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_checkAndNotifyStartToClient$self$$);
}
function $JSCompiler_StaticMethods_createPeerConnection$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $peerId$jscomp$1$$) {
  var $_a$jscomp$105$$, $_b$jscomp$47$$, $_c$jscomp$30$$, $_d$jscomp$23$$, $_e$jscomp$13$$;
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{d79ed0a}", $peerId$jscomp$1$$);
  try {
    let $pcConfig$$ = {iceServers:[{urls:"stun:s1.stun.gamestream.nvidia.com:19308"}]};
    null === ($_a$jscomp$105$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$S$) || void 0 === $_a$jscomp$105$$ ? void 0 : $_a$jscomp$105$$.$g$.$clientCapture$ && ($pcConfig$$.encodedInsertableStreams = !0);
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{93106c2}", JSON.stringify($pcConfig$$));
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$fa$ = $peerId$jscomp$1$$;
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$ = new RTCPeerConnection($pcConfig$$);
    const $stopStream$$ = $isIceConnectionFailed$$ => {
      var $_a$jscomp$106$$;
      if ($JSCompiler_StaticMethods_createPeerConnection$self$$.$L$) {
        var $failedIceStats_stats$jscomp$inline_882$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$L$;
        $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$j$, "IceStats", "disconnected", 0, $failedIceStats_stats$jscomp$inline_882$$.$recentRequestsSent$, $failedIceStats_stats$jscomp$inline_882$$.$recentResponsesReceived$, $failedIceStats_stats$jscomp$inline_882$$.$recentPacketsReceived$);
        $JSCompiler_StaticMethods_createPeerConnection$self$$.$L$ = void 0;
      }
      ($failedIceStats_stats$jscomp$inline_882$$ = null === ($_a$jscomp$106$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$) || void 0 === $_a$jscomp$106$$ ? void 0 : $JSCompiler_StaticMethods_getIceStats$$($_a$jscomp$106$$)) && $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$j$, "IceStats", "failed", 0, $failedIceStats_stats$jscomp$inline_882$$.$recentRequestsSent$, $failedIceStats_stats$jscomp$inline_882$$.$recentResponsesReceived$, 
      $failedIceStats_stats$jscomp$inline_882$$.$recentPacketsReceived$);
      $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 16;
      0 == ($JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ & 4) ? $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093894) : $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$ && 0 == $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$.packetsReceived() ? $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093900) : $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$ && 
      0 == $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$.$s$ ? $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093901) : $isIceConnectionFailed$$ ? $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093906) : $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093899);
    };
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.onconnectionstatechange = () => {
      if ($JSCompiler_StaticMethods_createPeerConnection$self$$.$g$) {
        switch($module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{4ced155}", $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.connectionState), $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.connectionState) {
          case "failed":
            $stopStream$$(!1);
        }
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{648f784}");
      }
    };
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.oniceconnectionstatechange = () => {
      var $_a$jscomp$107$$;
      if ($JSCompiler_StaticMethods_createPeerConnection$self$$.$g$) {
        switch($module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{3a3143a}", $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.iceConnectionState), $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.iceConnectionState) {
          case "new":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 1;
            break;
          case "checking":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 2;
            break;
          case "connected":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$L$ = void 0;
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ & 32 && ($JSCompiler_StaticMethods_createPeerConnection$self$$.$D$.emit("StreamingEvent", {streamingState:{state:"reconnected"}}), $JSCompiler_StaticMethods_createPeerConnection$self$$.$ta$++);
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 4;
            break;
          case "completed":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$L$ = void 0;
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 8;
            break;
          case "failed":
            $stopStream$$(!0);
            break;
          case "disconnected":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$L$ = null === ($_a$jscomp$107$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$) || void 0 === $_a$jscomp$107$$ ? void 0 : $JSCompiler_StaticMethods_getIceStats$$($_a$jscomp$107$$);
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ & 4 && $JSCompiler_StaticMethods_createPeerConnection$self$$.$D$.emit("StreamingEvent", {streamingState:{state:"reconnecting"}});
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 32;
            break;
          case "closed":
            $JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ |= 64, 0 != ($JSCompiler_StaticMethods_createPeerConnection$self$$.$l$ & 32) && $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, 3237093892);
        }
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{648f784}");
      }
    };
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.ondatachannel = $ev$jscomp$6$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{b364db9}", $ev$jscomp$6$$.channel.label);
      "control_channel" == $ev$jscomp$6$$.channel.label && ($JSCompiler_StaticMethods_addDataChannel$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $ev$jscomp$6$$.channel, {errorCode:3237093898, open:() => {
        var $_a$jscomp$108$$, $_b$jscomp$48$$;
        $JSCompiler_StaticMethods_createPeerConnection$self$$.$J$ = $ev$jscomp$6$$.channel;
        for (const $msg$jscomp$28$$ of $JSCompiler_StaticMethods_createPeerConnection$self$$.$V$) {
          $JSCompiler_StaticMethods_sendControlMessage$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $msg$jscomp$28$$);
        }
        $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{038895c}", $JSCompiler_StaticMethods_createPeerConnection$self$$.$V$.length);
        $JSCompiler_StaticMethods_createPeerConnection$self$$.$V$ = [];
        $JSCompiler_StaticMethods_queueControlMessage$$($JSCompiler_StaticMethods_createPeerConnection$self$$, {etwPrint:`NvRtcClient Browser name: ${$JSCompiler_StaticMethods_createPeerConnection$self$$.$platformDetails$.browser}, Browser version: ${$JSCompiler_StaticMethods_createPeerConnection$self$$.$platformDetails$.browserFullVer}`});
        $JSCompiler_StaticMethods_sendWindowState$$($JSCompiler_StaticMethods_createPeerConnection$self$$, null !== ($_b$jscomp$48$$ = null === ($_a$jscomp$108$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$) || void 0 === $_a$jscomp$108$$ ? void 0 : $_a$jscomp$108$$.$s$) && void 0 !== $_b$jscomp$48$$ ? $_b$jscomp$48$$ : 0);
        $JSCompiler_StaticMethods_addStateListener$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$s$, 0, $JSCompiler_StaticMethods_createPeerConnection$self$$.$H$);
        $JSCompiler_StaticMethods_addStateListener$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$s$, 1, $JSCompiler_StaticMethods_createPeerConnection$self$$.$H$);
        $JSCompiler_StaticMethods_addStateListener$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$s$, 2, $JSCompiler_StaticMethods_createPeerConnection$self$$.$H$);
      }}), $ev$jscomp$6$$.channel.onmessage = $msg$jscomp$29_msg$jscomp$inline_892$$ => {
        try {
          var $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$ = JSON.parse($msg$jscomp$29_msg$jscomp$inline_892$$.data);
          $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9371373}");
          if ($clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.exitMessage) {
            $JSCompiler_StaticMethods_stopStreamWithError$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $module$contents$output$util$serverclienterrormap_getRErrorCodeForExitMessage$$($clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.exitMessage));
          } else {
            if ($clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.timerNotification) {
              $msg$jscomp$29_msg$jscomp$inline_892$$ = $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$;
              var $serverCode$jscomp$inline_1318$$ = $msg$jscomp$29_msg$jscomp$inline_892$$.timerNotification.code;
              $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$ = 0;
              $module$exports$rtcutils_core$output$logger$Log$$.d("{c00be32}", "{44bd2b6}", $serverCode$jscomp$inline_1318$$);
              switch($serverCode$jscomp$inline_1318$$) {
                case 1:
                case 2:
                  $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$ = 1;
                  break;
                case 4:
                  $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$ = 2;
                  break;
                case 6:
                  $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$ = 3;
              }
              var $JSCompiler_inline_result$jscomp$1100$$ = $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$;
              0 === $JSCompiler_inline_result$jscomp$1100$$ ? $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{de37ac5}", $msg$jscomp$29_msg$jscomp$inline_892$$.timerNotification.code) : $JSCompiler_StaticMethods_notifyIdleUpdate$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $JSCompiler_inline_result$jscomp$1100$$, $msg$jscomp$29_msg$jscomp$inline_892$$.timerNotification.secondsLeft);
            } else {
              $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.debugMessage ? $JSCompiler_StaticMethods_showDebugMessage$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.debugMessage.message) : $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.customMessage ? $JSCompiler_StaticMethods_createPeerConnection$self$$.$D$.emit("CustomMessage", JSON.parse($clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.customMessage)) : 
              $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.videoStreamProgressEvent ? $JSCompiler_StaticMethods_createPeerConnection$self$$.videoStreamProgress = $clientTimerNotificationCode$jscomp$inline_1319_obj$jscomp$31$$.videoStreamProgressEvent.videoStreamProgress : $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{d14e0fd}");
            }
          }
        } catch ($exp$jscomp$19$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{a40734a}", $exp$jscomp$19$$), $JSCompiler_StaticMethods_createPeerConnection$self$$.$j$.$g$($exp$jscomp$19$$, "Error in control_channel message handling", "{93c7910}.ts", 0, 0, !0);
        }
      });
    };
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{d9ffda2}");
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{2bd4728}");
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$B$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.createDataChannel("input_channel_v1", {ordered:!0, reliable:!0});
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$B$.binaryType = "arraybuffer";
    $JSCompiler_StaticMethods_addDataChannel$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$B$, {errorCode:3237093896});
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$K$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.createDataChannel("cursor_channel", {ordered:!0, reliable:!0});
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$K$.binaryType = "arraybuffer";
    $JSCompiler_StaticMethods_addDataChannel$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$K$, {errorCode:3237093897});
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$m$ = new $module$exports$output$input$inputhandler$InputHandler$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$videoElement$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$B$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$K$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$j$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$D$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$za$, 
    2 === $JSCompiler_StaticMethods_createPeerConnection$self$$.appLaunchMode, $JSCompiler_StaticMethods_createPeerConnection$self$$.$Aa$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$R$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$platformDetails$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$Z$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$s$, $JSCompiler_StaticMethods_createPeerConnection$self$$.textInputElement);
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$da$ && ($JSCompiler_StaticMethods_createPeerConnection$self$$.setKeyboardLayout($JSCompiler_StaticMethods_createPeerConnection$self$$.keyboardLayout), $JSCompiler_StaticMethods_createPeerConnection$self$$.$da$ = !1);
    if ($module$exports$output$util$settings$RagnarokSettings$$.$webrtcStatsEnabled$) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{9ae428b}");
      const $staticStreamStats$jscomp$2$$ = {zoneName:$JSCompiler_StaticMethods_createPeerConnection$self$$.$session$.zoneName, clientAppVersion:null !== ($_b$jscomp$47$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.clientAppVersion) && void 0 !== $_b$jscomp$47$$ ? $_b$jscomp$47$$ : "", appId:$JSCompiler_StaticMethods_createPeerConnection$self$$.$session$.appId, $requestedRegion$:null !== ($_c$jscomp$30$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$requestedRegion$) && void 0 !== 
      $_c$jscomp$30$$ ? $_c$jscomp$30$$ : "", gpuType:$JSCompiler_StaticMethods_createPeerConnection$self$$.$session$.gpuType, streamInfo:null !== ($_d$jscomp$23$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$session$.streamInfo[0]) && void 0 !== $_d$jscomp$23$$ ? $_d$jscomp$23$$ : {width:0, height:0, fps:0}, clientLocale:$JSCompiler_StaticMethods_createPeerConnection$self$$.$session$.clientLocale};
      $JSCompiler_StaticMethods_createPeerConnection$self$$.$h$ = new $module$exports$output$stats$clientstatsservice$ClientStatsService$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$D$, $JSCompiler_StaticMethods_createPeerConnection$self$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$videoElement$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$u$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$j$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$platformDetails$, 
      $staticStreamStats$jscomp$2$$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$s$);
    }
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.addEventListener("icecandidate", $JSCompiler_StaticMethods_createPeerConnection$self$$.$sa$);
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.onsignalingstatechange = () => {
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{3236227}", $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.signalingState);
    };
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.onicecandidate = $event$jscomp$30$$ => $JSCompiler_StaticMethods_onIceCandidateHandler$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $event$jscomp$30$$);
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.$g$ = $event_$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{9871b05}", $event_$$.port, $event_$$.url, $event_$$.errorCode, $event_$$.$errorText$);
    };
    (null !== ($_e$jscomp$13$$ = $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$) && void 0 !== $_e$jscomp$13$$ ? $_e$jscomp$13$$ : !$module$contents$rtcutils_core$output$utils_IsWebOS$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$platformDetails$)) && $JSCompiler_StaticMethods_createPeerConnection$self$$.$na$.initialize($JSCompiler_StaticMethods_createPeerConnection$self$$.$g$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$D$, $JSCompiler_StaticMethods_createPeerConnection$self$$.$videoElement$, 
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$audioElement$);
    $JSCompiler_StaticMethods_createPeerConnection$self$$.$g$.ontrack = $event$jscomp$32_streamInArray$$ => {
      var $_a$jscomp$109$$;
      const $stream$jscomp$17$$ = $event$jscomp$32_streamInArray$$.streams[0];
      $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{47359d4}", $stream$jscomp$17$$.id, $event$jscomp$32_streamInArray$$.track.kind, $event$jscomp$32_streamInArray$$.track.id, $event$jscomp$32_streamInArray$$.streams.length, $module$contents$rtcutils_core$output$utils_GetHexString$$($JSCompiler_StaticMethods_createPeerConnection$self$$.$l$));
      let $track$jscomp$5$$ = {kind:"video" === $event$jscomp$32_streamInArray$$.track.kind ? "video" : "audio", trackId:$event$jscomp$32_streamInArray$$.track.id};
      const $isMediaStream$$ = () => "stream_id" === $stream$jscomp$17$$.id || "app_media_stream" === $stream$jscomp$17$$.id, $isAudioStream$$ = () => "second_stream_id" === $stream$jscomp$17$$.id || "app_audio_stream" === $stream$jscomp$17$$.id;
      "video" === $event$jscomp$32_streamInArray$$.track.kind && $isMediaStream$$() && !$JSCompiler_StaticMethods_createPeerConnection$self$$.$M$ ? ($JSCompiler_StaticMethods_createPeerConnection$self$$.$M$ = !0, $module$contents$output$streamclient_shouldCombineStreams$$() || ($JSCompiler_StaticMethods_createPeerConnection$self$$.$videoElement$.srcObject = $stream$jscomp$17$$)) : "audio" === $event$jscomp$32_streamInArray$$.track.kind && ($isMediaStream$$() || $isAudioStream$$()) && ($JSCompiler_StaticMethods_createPeerConnection$self$$.$ba$ = 
      !0, $JSCompiler_StaticMethods_createPeerConnection$self$$.$ua$ = $event$jscomp$32_streamInArray$$.track.id, $isAudioStream$$() && !$module$contents$output$streamclient_shouldCombineStreams$$() && ($JSCompiler_StaticMethods_createPeerConnection$self$$.$audioElement$.srcObject = $stream$jscomp$17$$), $JSCompiler_StaticMethods_signalAudioPacketsReceived$$($JSCompiler_StaticMethods_createPeerConnection$self$$, $stream$jscomp$17$$), null === ($_a$jscomp$109$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$I$) || 
      void 0 === $_a$jscomp$109$$ ? void 0 : $_a$jscomp$109$$.initialize(new MediaStream($stream$jscomp$17$$.getAudioTracks())));
      ($event$jscomp$32_streamInArray$$ = $JSCompiler_StaticMethods_createPeerConnection$self$$.$o$.find($s$jscomp$6$$ => $s$jscomp$6$$.streamId === $stream$jscomp$17$$.id)) ? $event$jscomp$32_streamInArray$$.tracks.push($track$jscomp$5$$) : $JSCompiler_StaticMethods_createPeerConnection$self$$.$o$.push({streamId:$stream$jscomp$17$$.id, tracks:[$track$jscomp$5$$]});
      $JSCompiler_StaticMethods_checkAndNotifyStartToClient$$($JSCompiler_StaticMethods_createPeerConnection$self$$);
    };
  } catch ($exp$jscomp$20$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{ff11182}", $exp$jscomp$20$$), $JSCompiler_StaticMethods_createPeerConnection$self$$.$j$.$g$($exp$jscomp$20$$, "Exception in creating peer connection", "{93c7910}.ts", 0, 0, !0);
  }
}
function $JSCompiler_StaticMethods_updateIceCandidate$$($JSCompiler_StaticMethods_updateIceCandidate$self_videoInfo$$, $iceCandidate_list$jscomp$3_newIceCandidate$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{2dd62a2}");
  if ($JSCompiler_StaticMethods_updateIceCandidate$self_videoInfo$$ = $JSCompiler_StaticMethods_updateIceCandidate$self_videoInfo$$.$session$.mediaConnectionInfo.find($x$jscomp$139$$ => 2 === $x$jscomp$139$$.usage)) {
    return $iceCandidate_list$jscomp$3_newIceCandidate$$ = $iceCandidate_list$jscomp$3_newIceCandidate$$.split(" "), $iceCandidate_list$jscomp$3_newIceCandidate$$[4] = $JSCompiler_StaticMethods_updateIceCandidate$self_videoInfo$$.ip, $iceCandidate_list$jscomp$3_newIceCandidate$$[5] = "" + $JSCompiler_StaticMethods_updateIceCandidate$self_videoInfo$$.port, $iceCandidate_list$jscomp$3_newIceCandidate$$ = $iceCandidate_list$jscomp$3_newIceCandidate$$.join(" "), $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", 
    "{1fbcd88}", $iceCandidate_list$jscomp$3_newIceCandidate$$), $iceCandidate_list$jscomp$3_newIceCandidate$$;
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{aee7283}");
  return $iceCandidate_list$jscomp$3_newIceCandidate$$;
}
function $JSCompiler_StaticMethods_updateIceCandidates$$($JSCompiler_StaticMethods_updateIceCandidates$self$$, $sdp$jscomp$6$$) {
  return $sdp$jscomp$6$$.split("\r\n").map($line$jscomp$5$$ => {
    if (!$line$jscomp$5$$.startsWith("a=candidate:")) {
      return $line$jscomp$5$$;
    }
    $JSCompiler_StaticMethods_updateIceCandidates$self$$.$ca$ = !0;
    return "a=" + $JSCompiler_StaticMethods_updateIceCandidate$$($JSCompiler_StaticMethods_updateIceCandidates$self$$, $line$jscomp$5$$.substr(2));
  }).join("\r\n");
}
function $JSCompiler_StaticMethods_didReceiveExpectedTracks$$($JSCompiler_StaticMethods_didReceiveExpectedTracks$self$$) {
  let $receivedTracks$$ = [];
  for (const $stream$jscomp$18$$ of $JSCompiler_StaticMethods_didReceiveExpectedTracks$self$$.$o$) {
    for (const $track$jscomp$6$$ of $stream$jscomp$18$$.tracks) {
      $receivedTracks$$.push($track$jscomp$6$$.trackId);
    }
  }
  if ($JSCompiler_StaticMethods_didReceiveExpectedTracks$self$$.$P$.length !== $receivedTracks$$.length) {
    return !1;
  }
  for (const $trackId$jscomp$1$$ of $JSCompiler_StaticMethods_didReceiveExpectedTracks$self$$.$P$) {
    if (!$receivedTracks$$.some($id$jscomp$14$$ => $id$jscomp$14$$ === $trackId$jscomp$1$$)) {
      return !1;
    }
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{4fef10b}");
  return !0;
}
function $JSCompiler_StaticMethods_cacheTrackIdsExpected$$($JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$) {
  let $transceivers$$ = $JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$.$g$.getTransceivers();
  if (0 === $transceivers$$.length) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{3399d9d}"), $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$, {code:3237093909});
  } else {
    for (const $transceiver$jscomp$2$$ of $transceivers$$) {
      "3" === $transceiver$jscomp$2$$.mid && $transceiver$jscomp$2$$.receiver.track.id !== $JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$.$ua$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{981392f}"), $transceiver$jscomp$2$$.receiver.track.enabled = !1) : $JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$.$P$.push($transceiver$jscomp$2$$.receiver.track.id);
    }
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{648ae93}", JSON.stringify($JSCompiler_StaticMethods_cacheTrackIdsExpected$self$$.$P$));
  }
}
function $JSCompiler_StaticMethods_handleNvstSdp$$($JSCompiler_StaticMethods_handleNvstSdp$self$$, $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$, $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$) {
  var $_a$jscomp$112$$;
  var $config$jscomp$inline_898$$ = $JSCompiler_StaticMethods_handleNvstSdp$self$$.$u$, $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$ = $JSCompiler_StaticMethods_handleNvstSdp$self$$.$platformDetails$;
  if ($remoteSdp$jscomp$inline_902_sdp$jscomp$8$$ = $module$contents$output$nvstconfig_parseOfferSdp$$($remoteSdp$jscomp$inline_902_sdp$jscomp$8$$)) {
    var $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$ = $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$, $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$;
    const $localSdp$jscomp$inline_1325$$ = {origin:$attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.origin, time:$attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.time, $generalAttributes$:new Map(), media:[]};
    $localSdp$jscomp$inline_1325$$.$generalAttributes$.set("general.clientSupportsIntraRefresh", "Safari" === $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$.browser ? "0" : "1");
    $localSdp$jscomp$inline_1325$$.$generalAttributes$.set("general.clientCapture", null !== ($_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$ = $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.$generalAttributes$.get("general.clientCapture")) && void 0 !== $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$ ? $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$ : "0");
    $localSdp$jscomp$inline_1325$$.$generalAttributes$.set("runtime.serverTraceCapture", (2).toString());
    $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$ = 0;
    for ($JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$ of $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.media) {
      const $attributes$jscomp$inline_1331$$ = new Map();
      if ("video" === $JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$.mediaType && $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$ < $config$jscomp$inline_898$$.video.length) {
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$ = $attributes$jscomp$inline_1331$$;
        var $video$jscomp$inline_1328$$ = $config$jscomp$inline_898$$.video[$_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$], $aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$ = $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$;
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.rateDropWindow", "10");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.minRequiredFecPackets", "2");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.minRequiredBitrateCheckEnabled", "1");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.dx9EnableNv12", "1");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.qpg.enable", "1");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("bwe.useOwdCongestionControl", "1");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.enableRtpNack", "1");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.bw.txRxLag.minFeedbackTxDeltaMs", "200");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.repairMinPercent", "5");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.repairPercent", "5");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.repairMaxPercent", "35");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.bitrateIirFilterFactor", "18");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.packetSize", "1140");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("packetPacing.minNumPacketsPerGroup", "15");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.bllFec.enable", "0");
        const $b120FpsOrHigher$jscomp$inline_1332$$ = 120 <= $video$jscomp$inline_1328$$.$maxFps$, $b120Fps$jscomp$inline_1333$$ = 120 === $video$jscomp$inline_1328$$.$maxFps$, $b240Fps$jscomp$inline_1334$$ = 240 === $video$jscomp$inline_1328$$.$maxFps$, $b4kResolution$jscomp$inline_1335$$ = 4953600 <= $video$jscomp$inline_1328$$.$clientViewportWd$ * $video$jscomp$inline_1328$$.$clientViewportHt$, $b1440pOr4kResolution$jscomp$inline_1336$$ = $module$contents$output$util$utils_IsResolution1440p$$($video$jscomp$inline_1328$$.$clientViewportWd$, 
        $video$jscomp$inline_1328$$.$clientViewportHt$) || $b4kResolution$jscomp$inline_1335$$, $bShouldEnableCPM$jscomp$inline_1337$$ = $module$contents$output$util$utils_ShouldEnableCPM$$($aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$);
        $bShouldEnableCPM$jscomp$inline_1337$$ && $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.cpmRtc.featureMask", "3");
        $b120FpsOrHigher$jscomp$inline_1332$$ && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("bwe.iirFilterFactor", "8"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.enable", "0"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.enable", "1"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.decodeFpsAdjPercent", "85"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.targetDownCooldownMs", 
        "250"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.dfcAlgoVersion", (1).toString()), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.minTargetFps", "60"), $bShouldEnableCPM$jscomp$inline_1337$$ && $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.cpm.flags", "1"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.encoderFeatureSetting", (47).toString()), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.encoderPreset", 
        (6).toString()), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.dfc.useClientFpsPerf", "0"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.cpmRtc.badNwSkipFramesCount", " 600"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.cpmRtc.decodeTimeThresholdMs", "9"), $b120Fps$jscomp$inline_1333$$ ? ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.fbcDynamicFpsGrabTimeoutMs", 
        "6"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount", "6000")) : $b240Fps$jscomp$inline_1334$$ && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.fbcDynamicFpsGrabTimeoutMs", "18"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.resControl.cpmRtc.serverResolutionUpdateCoolDownCount", "12000"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.enableNextCaptureMode", 
        "1"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.maxStreamFpsEstimate", "240"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.videoSplitEncodeStripsPerFrame", "3"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.updateSplitEncodeStateDynamically", "1")));
        if ($b1440pOr4kResolution$jscomp$inline_1336$$ || 42000 <= $video$jscomp$inline_1328$$.$maximumBitrateKbps$) {
          $b120Fps$jscomp$inline_1333$$ ? $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("packetPacing.numGroups", "3") : $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("packetPacing.numGroups", "5"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("packetPacing.maxDelayUs", "1000"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("packetPacing.minNumPacketsFrame", "10"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.rtpNackQueueLength", 
          "1024"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.rtpNackQueueMaxPackets", "512"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.rtpNackMaxPacketCount", "25"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.qpMaxResThresholdAdj", "4"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.grc.qpMaxResThresholdAdj", "4"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.iirFilterFactor", 
          "100"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.qpg.enable", "0"), $b1440pOr4kResolution$jscomp$inline_1336$$ && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.videoSplitEncodeStripsPerFrame", "3"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.updateSplitEncodeStateDynamically", "1")), $b4kResolution$jscomp$inline_1335$$ && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.encoderPreset", 
          (6).toString()), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.add1440pResLevelFor4kDrcTable", "1"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.minAdaptiveQpThreshold", "40"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.grc.minAdaptiveQpThreshold", "40"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.upperQpThreshold", "40"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.grc.upperQpThreshold", 
          "40"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.qpMaxResThresholdAdj", "5"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.grc.qpMaxResThresholdAdj", "5"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.iirFilterFactor", "100"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.fec.repairMinPercent", "0"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.qpg.enable", 
          "0"));
        }
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.clientViewportWd", $video$jscomp$inline_1328$$.$clientViewportWd$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.clientViewportHt", $video$jscomp$inline_1328$$.$clientViewportHt$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.maxFPS", $video$jscomp$inline_1328$$.$maxFps$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.initialBitrateKbps", $video$jscomp$inline_1328$$.$initialBitrateKbps$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.initialPeakBitrateKbps", $video$jscomp$inline_1328$$.$initialPeakBitrateKbps$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.bw.maximumBitrateKbps", $video$jscomp$inline_1328$$.$maximumBitrateKbps$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.bw.minimumBitrateKbps", $video$jscomp$inline_1328$$.$minimumBitrateKbps$.toString());
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.maxNumReferenceFrames", "4");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.mapRtpTimestampsToFrames", $video$jscomp$inline_1328$$.$mapRtpTimestampsToFrames$ ? "1" : "0");
        $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.encoderCscMode", "3");
        $module$contents$rtcutils_core$output$utils_IsiPhone$$() && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.stepDownMinHeight", "480"), $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$, !1, 14, 5) || ($aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$ = $video$jscomp$inline_1328$$.$clientViewportWd$ / $video$jscomp$inline_1328$$.$clientViewportHt$ * 
        100, $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.stepDownResolutionAlignment", "16"), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.stepDownTargetAspectRatioX100", $aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$.toFixed(0))));
        void 0 !== $video$jscomp$inline_1328$$.$drcDfcEnabled$ && ($aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$ = $video$jscomp$inline_1328$$.$drcDfcEnabled$ ? "1" : "0", $b120FpsOrHigher$jscomp$inline_1332$$ ? $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.dfc.adjustResAndFps", $aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$) : $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("vqos.drc.enable", 
        $aspect$jscomp$inline_1338_enabled$jscomp$inline_1339_platformDetails$jscomp$inline_1329$$));
        $module$exports$output$util$settings$RagnarokSettings$$.hdr && 1 === $video$jscomp$inline_1328$$.sdrHdrMode && ($attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.encoderCscMode", (4).toString()), $attributes$jscomp$inline_1327_remoteSdp$jscomp$inline_1321$$.set("video.dynamicRangeMode", "1"));
        $_a$jscomp$inline_1324_videoIdx$jscomp$inline_1326$$++;
      }
      $localSdp$jscomp$inline_1325$$.media.push({mediaType:$JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$.mediaType, $msid$:$JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$.$msid$, attributes:$attributes$jscomp$inline_1331$$});
    }
    $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$ = $localSdp$jscomp$inline_1325$$;
    var $_a$jscomp$inline_1341$$, $_b$jscomp$inline_1342$$;
    var $JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$ = null !== ($_b$jscomp$inline_1342$$ = null === ($_a$jscomp$inline_1341$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.nvscClientConfigFields) || void 0 === $_a$jscomp$inline_1341$$ ? void 0 : $_a$jscomp$inline_1341$$.join("\n")) && void 0 !== $_b$jscomp$inline_1342$$ ? $_b$jscomp$inline_1342$$ : "";
    $module$contents$output$nvstconfig_overrideSdp$$($JSCompiler_inline_result$jscomp$1121_stream$jscomp$inline_1330$$, $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$, $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$, "remoteconfig");
    $module$contents$output$nvstconfig_overrideSdp$$($JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$, $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$, $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$, "server");
    $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$ = $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser && !$module$contents$output$nvstconfig_overrideSdp$$($module$exports$output$util$settings$RagnarokSettings$$.clientConfigOverride, $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$, $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$, "client") ? {error:3237093917} : $module$contents$output$nvstconfig_updateConfig$$($config$jscomp$inline_898$$, 
    $localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$) ? {config:$config$jscomp$inline_898$$, $answer$:$module$contents$output$nvstconfig_serializeAnswer$$($localSdp$jscomp$inline_903_platformDetails$jscomp$inline_901$$, $remoteSdp$jscomp$inline_902_sdp$jscomp$8$$)} : {error:3237093918};
  } else {
    $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$ = {error:3237093911};
  }
  if ($JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$.config && $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$.$answer$) {
    return $JSCompiler_StaticMethods_handleNvstSdp$self$$.$u$ = $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$.config, $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$.$answer$;
  }
  $JSCompiler_StaticMethods_notifyStart$$($JSCompiler_StaticMethods_handleNvstSdp$self$$, {code:null !== ($_a$jscomp$112$$ = $JSCompiler_inline_result$jscomp$98_override$jscomp$3_result$jscomp$17$$.error) && void 0 !== $_a$jscomp$112$$ ? $_a$jscomp$112$$ : 3237093910});
}
function $JSCompiler_StaticMethods_statsServiceEnabled$$($JSCompiler_StaticMethods_statsServiceEnabled$self$$) {
  return !(!$JSCompiler_StaticMethods_statsServiceEnabled$self$$.$h$ || 0 == $JSCompiler_StaticMethods_statsServiceEnabled$self$$.$h$.$l$);
}
function $JSCompiler_StaticMethods_disableWebRTCStats$$($JSCompiler_StaticMethods_disableWebRTCStats$self$$) {
  var $_a$jscomp$114$$;
  null === ($_a$jscomp$114$$ = $JSCompiler_StaticMethods_disableWebRTCStats$self$$.$h$) || void 0 === $_a$jscomp$114$$ ? void 0 : 0 != $_a$jscomp$114$$.$l$ && ($_a$jscomp$114$$.reset(), $JSCompiler_StaticMethods_setOnScreenStats$$($_a$jscomp$114$$, !1));
}
function $JSCompiler_StaticMethods_enableWebRTCStats$$($JSCompiler_StaticMethods_enableWebRTCStats$self$$) {
  var $_a$jscomp$113$$;
  null === ($_a$jscomp$113$$ = $JSCompiler_StaticMethods_enableWebRTCStats$self$$.$h$) || void 0 === $_a$jscomp$113$$ ? void 0 : 0 != $_a$jscomp$113$$.$l$ || $JSCompiler_StaticMethods_setIntervals$$($_a$jscomp$113$$);
}
function $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$self$$) {
  return $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$self$$.$h$ ? $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$self$$.$h$.$s$ : 0;
}
function $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$$($JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$) {
  if (!$JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$.$h$) {
    return "UNKNOWN";
  }
  $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$ = $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$.$h$.$R$;
  return "" === $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$ ? "PENDING" : $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$self_codec$jscomp$6$$;
}
var $module$exports$output$streamclient$StreamClient$$ = class {
  constructor($parent$jscomp$5_protocol$jscomp$1$$, $debugMessageElement_videoElement$jscomp$10$$, $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$, $initialBitrate$jscomp$inline_1347_micCapturer$$, $configFlags$jscomp$2$$, $gamepadTester$jscomp$1$$, $gamepadHandler$jscomp$1$$, $telemetry$jscomp$8$$, $platformDetails$jscomp$45$$, $session$jscomp$5$$, $accessToken$jscomp$1$$, $streamParam$$, $audioRecorder$$, $textInputElement$jscomp$1$$, $clientAppVersion$$, 
  $isResume$jscomp$3$$, $requestedRegion$$) {
    var $_a$jscomp$87$$;
    this.name = "";
    this.id = 0;
    this.$u$ = {video:[], $clientCapture$:0};
    this.$fa$ = -1;
    this.$C$ = this.$W$ = !1;
    this.$A$ = this.$F$ = this.$l$ = 0;
    this.$ea$ = !1;
    this.$v$ = this.$la$ = 0;
    this.$M$ = this.$ba$ = this.$ca$ = this.$pa$ = this.$qa$ = !1;
    this.$oa$ = !0;
    this.stutterIndicator = this.perfIndicator = !1;
    this.$ga$ = 0;
    this.$P$ = [];
    this.$o$ = [];
    this.$O$ = "";
    this.$ha$ = 0;
    this.$N$ = !1;
    this.$ma$ = new $module$exports$output$rinterfaces$AckIdGenerator$$();
    this.$wa$ = this.$ia$ = this.$ja$ = this.$ka$ = 0;
    this.$ya$ = Date.now();
    this.$ta$ = this.$xa$ = this.$va$ = 0;
    this.$da$ = !1;
    this.keyboardLayout = "";
    this.videoStreamProgress = this.maxReceivedAckId = 0;
    this.$V$ = [];
    this.$ua$ = "";
    this.$H$ = this.$Ea$.bind(this);
    this.$ra$ = 0;
    this.$T$ = new $module$exports$output$stats$clientstatsservice$IceCandidateCategoryCounts$$();
    this.$sa$ = this.$Da$.bind(this);
    this.$aa$ = new Set();
    this.$platformDetails$ = $platformDetails$jscomp$45$$;
    this.$videoElement$ = $debugMessageElement_videoElement$jscomp$10$$;
    this.$audioElement$ = $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$;
    this.$na$ = $initialBitrate$jscomp$inline_1347_micCapturer$$;
    this.$D$ = $parent$jscomp$5_protocol$jscomp$1$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{e1ca54d}", JSON.stringify($session$jscomp$5$$));
    this.$session$ = $session$jscomp$5$$;
    this.accessToken = $accessToken$jscomp$1$$;
    let $providedBitrate$$;
    if ($module$exports$output$util$settings$RagnarokSettings$$.maxBitrate) {
      $providedBitrate$$ = $module$exports$output$util$settings$RagnarokSettings$$.maxBitrate, $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{55e5b30}", $providedBitrate$$);
    } else if (null === $streamParam$$ || void 0 === $streamParam$$ ? 0 : $streamParam$$.maxBitrateKbps) {
      $providedBitrate$$ = null === $streamParam$$ || void 0 === $streamParam$$ ? void 0 : $streamParam$$.maxBitrateKbps, $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{965049f}", $providedBitrate$$);
    }
    for (const $stream$jscomp$14$$ of $session$jscomp$5$$.streamInfo) {
      null !== $providedBitrate$$ && void 0 !== $providedBitrate$$ ? $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$ = $providedBitrate$$ : ($JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$ = $module$contents$output$util$utils_CalculateMaxBitrateKbps$$($stream$jscomp$14$$.width, $stream$jscomp$14$$.height, $stream$jscomp$14$$.fps), $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", 
      "{aff4184}", $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$)), $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$ = Math.max(4000, $JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$), $initialBitrate$jscomp$inline_1347_micCapturer$$ = Math.max(4000, Math.round($JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$ / 
      4)), this.$u$.video.push({$clientViewportWd$:$stream$jscomp$14$$.width, $clientViewportHt$:$stream$jscomp$14$$.height, $maxFps$:$stream$jscomp$14$$.fps, $drcDfcEnabled$:null === $streamParam$$ || void 0 === $streamParam$$ ? void 0 : $streamParam$$.drc, $maximumBitrateKbps$:$JSCompiler_temp$jscomp$119_audioElement_calculated$jscomp$inline_909_maxBitrate$jscomp$inline_1345$$, $initialBitrateKbps$:$initialBitrate$jscomp$inline_1347_micCapturer$$, $initialPeakBitrateKbps$:$initialBitrate$jscomp$inline_1347_micCapturer$$, 
      $mapRtpTimestampsToFrames$:!0, $minimumBitrateKbps$:4000, sdrHdrMode:$stream$jscomp$14$$.sdrHdrMode});
    }
    this.$Ba$ = $module$contents$output$util$devicecapabilities_GetCodecList$$(null !== ($_a$jscomp$87$$ = this.$session$.streamInfo[0]) && void 0 !== $_a$jscomp$87$$ ? $_a$jscomp$87$$ : {width:0, height:0, fps:0}, this.$platformDetails$);
    $module$contents$output$util$utils_mungingTest$$();
    this.$j$ = $telemetry$jscomp$8$$;
    this.$za$ = $configFlags$jscomp$2$$;
    this.$Z$ = $parent$jscomp$5_protocol$jscomp$1$$;
    this.$Aa$ = $gamepadTester$jscomp$1$$;
    this.$R$ = $gamepadHandler$jscomp$1$$;
    this.$I$ = $audioRecorder$$;
    this.textInputElement = $textInputElement$jscomp$1$$;
    this.appLaunchMode = $session$jscomp$5$$.appLaunchMode;
    this.clientAppVersion = $clientAppVersion$$;
    this.isResume = $isResume$jscomp$3$$;
    this.$requestedRegion$ = $requestedRegion$$;
    this.sendVideoTrack = null === $streamParam$$ || void 0 === $streamParam$$ ? void 0 : $streamParam$$.sendVideoTrack;
    $parent$jscomp$5_protocol$jscomp$1$$ = this.$session$.signalConnectionInfo.protocol;
    $parent$jscomp$5_protocol$jscomp$1$$ = $parent$jscomp$5_protocol$jscomp$1$$.replace("http", "ws");
    this.$Ca$ = $parent$jscomp$5_protocol$jscomp$1$$ + "://" + this.$session$.signalConnectionInfo.ip + ":" + this.$session$.signalConnectionInfo.port;
    $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.initialize(this.$session$.sessionId, this.$j$, this.$ma$);
    this.$$$ = new $module$exports$output$safezonehandler$SafeZoneHandler$$(this, $debugMessageElement_videoElement$jscomp$10$$, this.$platformDetails$, this.$j$);
    this.$s$ = new $module$exports$output$windowstateobserver$WindowStateObserver$$($platformDetails$jscomp$45$$);
    $debugMessageElement_videoElement$jscomp$10$$ = document.createElement("div");
    $debugMessageElement_videoElement$jscomp$10$$.style.position = "absolute";
    $debugMessageElement_videoElement$jscomp$10$$.style.zIndex = "300";
    $debugMessageElement_videoElement$jscomp$10$$.style.left = "0";
    $debugMessageElement_videoElement$jscomp$10$$.style.top = "0";
    $debugMessageElement_videoElement$jscomp$10$$.style.width = "100%";
    $debugMessageElement_videoElement$jscomp$10$$.style.display = "none";
    $debugMessageElement_videoElement$jscomp$10$$.style.fontSize = "3em";
    $debugMessageElement_videoElement$jscomp$10$$.style.color = "white";
    $debugMessageElement_videoElement$jscomp$10$$.style.backgroundColor = "gray";
    $debugMessageElement_videoElement$jscomp$10$$.style.textAlign = "center";
    this.$videoElement$.insertAdjacentElement("afterend", $debugMessageElement_videoElement$jscomp$10$$);
    this.$U$ = $debugMessageElement_videoElement$jscomp$10$$;
  }
  start() {
    $JSCompiler_StaticMethods_signInToConnectionServer$$(this);
    $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$j$ = performance.now();
    $JSCompiler_StaticMethods_logStreamTimestamps$$();
  }
  stop($errorCode$jscomp$6$$) {
    var $_a$jscomp$88$$, $_b$jscomp$42$$, $_c$jscomp$26$$;
    $JSCompiler_StaticMethods_emitMetricEvent$$(this.$j$, "StreamTimersAndReconnects", $module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$6$$), 0, this.$va$, this.$xa$, this.$ta$);
    const $peerAPIDurationsAndMicTelemetry$$ = $micState$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{a848987}", $micState$$);
      $JSCompiler_StaticMethods_emitMetricEvent$$(this.$j$, "PeerAPIDurationsAndMic", $module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$6$$), this.$ia$, this.$ka$, this.$ja$, $micState$$);
    };
    $JSCompiler_StaticMethods_getCurrentMicStatus$$().then($state$jscomp$3$$ => {
      $peerAPIDurationsAndMicTelemetry$$($state$jscomp$3$$);
    });
    $JSCompiler_StaticMethods_notifyStart$$(this, {code:$errorCode$jscomp$6$$, description:"Session stopped before stream connected"});
    this.$F$ && (clearTimeout(this.$F$), this.$F$ = 0);
    this.$U$.remove();
    this.$W$ = !0;
    try {
      $JSCompiler_StaticMethods_sendControlMessage$$(this, {exitMessage:{code:$module$contents$output$util$serverclienterrormap_getClientTerminationReason$$($errorCode$jscomp$6$$)}});
    } catch ($exp$jscomp$14$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{d337883}", $exp$jscomp$14$$);
    }
    $JSCompiler_StaticMethods_stopInputHandler$$(this);
    this.$B$ && this.$B$.close();
    $JSCompiler_StaticMethods_stopStatsService$$(this);
    null === ($_a$jscomp$88$$ = this.$g$) || void 0 === $_a$jscomp$88$$ ? void 0 : $_a$jscomp$88$$.removeEventListener("icecandidate", this.$sa$);
    this.$g$ && this.$g$.close();
    $JSCompiler_StaticMethods_stopBitstreamDump$$(this);
    0 !== this.$A$ && (window.clearTimeout(this.$A$), this.$A$ = 0);
    0 !== this.$v$ && (window.clearTimeout(this.$v$), this.$v$ = 0);
    $JSCompiler_StaticMethods_stopProfiling$$();
    null === ($_b$jscomp$42$$ = this.$G$) || void 0 === $_b$jscomp$42$$ ? void 0 : $_b$jscomp$42$$.uninitialize();
    $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.stopWebSocket();
    $JSCompiler_StaticMethods_logStreamTimestamps$$();
    $module$exports$output$ragnarokprofiler$RagnarokProfiler$$.$o$ = void 0;
    this.$M$ && this.$oa$ && ($module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{283a180}"), this.$j$.$emitDebugEvent$("Audio track muted"));
    this.$ba$ = this.$M$ = !1;
    0 < this.$la$ && $JSCompiler_StaticMethods_emitMetricEvent$$(this.$j$, "WebSocketClose", "", 0, this.$la$, 0, 0);
    null === ($_c$jscomp$26$$ = this.$I$) || void 0 === $_c$jscomp$26$$ ? void 0 : $_c$jscomp$26$$.uninitialize();
    this.$$$.uninitialize();
    $JSCompiler_StaticMethods_removeStateListener$$(this.$s$, 0, this.$H$);
    $JSCompiler_StaticMethods_removeStateListener$$(this.$s$, 1, this.$H$);
    $JSCompiler_StaticMethods_removeStateListener$$(this.$s$, 2, this.$H$);
    this.$s$.uninitialize();
  }
  signInTimeout() {
    this.$v$ = 0;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{93c7910}", "{6d6b337}");
    $JSCompiler_StaticMethods_notifyStart$$(this, {code:3237093907});
  }
  $Ga$($infoMsg$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{8ba4138}", "{0b0c6f9}", $infoMsg$$);
  }
  $Fa$($expMsg$$) {
    this.$j$.$g$(void 0, $expMsg$$, "{8ba4138}.ts", 0, 0, !0);
    $module$exports$rtcutils_core$output$logger$Log$$.e("{8ba4138}", "{0b0c6f9}", $expMsg$$);
  }
  $Da$($event$jscomp$26$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{4742d5e}");
    $event$jscomp$26$$.candidate && this.$ra$++;
    !window.chrome && this.$g$ && this.$g$.canTrickleIceCandidates && this.$g$.onicecandidate && $JSCompiler_StaticMethods_onIceCandidateHandler$$(this, $event$jscomp$26$$, !0);
  }
  toggleOnScreenStats($enableDevStats$jscomp$4$$ = !1) {
    $JSCompiler_StaticMethods_statsServiceEnabled$$(this) ? this.$h$.toggleOnScreenStats($enableDevStats$jscomp$4$$) : $JSCompiler_StaticMethods_showDebugMessage$$(this, "Stats is OFF. Please enable by ctrl+alt+F5/F6");
  }
  toggleUserInput($enable$jscomp$9$$, $inputs$jscomp$6$$) {
    this.$m$ ? this.$m$.toggleUserInput($enable$jscomp$9$$, $inputs$jscomp$6$$) : $module$exports$rtcutils_core$output$logger$Log$$.e("{93c7910}", "{5a0e299}", $enable$jscomp$9$$);
  }
  getVirtualGamepadHandler() {
    var $_a$jscomp$115$$;
    return null === ($_a$jscomp$115$$ = this.$m$) || void 0 === $_a$jscomp$115$$ ? void 0 : $_a$jscomp$115$$.getVirtualGamepadHandler();
  }
  toggleStutterIndicator() {
    this.stutterIndicator = !this.stutterIndicator;
    $JSCompiler_StaticMethods_queueControlMessage$$(this, {stutterIndicator:{on:this.stutterIndicator}});
  }
  sendTextInput($text$jscomp$20$$) {
    var $_a$jscomp$120$$;
    null === ($_a$jscomp$120$$ = this.$m$) || void 0 === $_a$jscomp$120$$ ? void 0 : $_a$jscomp$120$$.sendTextInput($text$jscomp$20$$);
  }
  setVirtualKeyboardState($visible$jscomp$5$$) {
    var $_a$jscomp$121$$;
    null === ($_a$jscomp$121$$ = this.$m$) || void 0 === $_a$jscomp$121$$ ? void 0 : $_a$jscomp$121$$.setVirtualKeyboardState($visible$jscomp$5$$);
  }
  setVideoTransforms($offsetX$jscomp$7$$, $offsetY$jscomp$7$$, $zoomFactor$jscomp$5$$) {
    var $_a$jscomp$122$$;
    if (null === ($_a$jscomp$122$$ = this.$m$) || void 0 === $_a$jscomp$122$$) {
      void 0;
    } else {
      const $viewport$jscomp$inline_917$$ = window.visualViewport;
      $viewport$jscomp$inline_917$$ && ($_a$jscomp$122$$.$g$.$viewportHeight$ = $viewport$jscomp$inline_917$$.height);
      $JSCompiler_StaticMethods_applyVideoTransforms$$($_a$jscomp$122$$, $offsetX$jscomp$7$$, $offsetY$jscomp$7$$, $zoomFactor$jscomp$5$$);
    }
  }
  sendCustomMessage($data$jscomp$103_message$jscomp$43$$) {
    $data$jscomp$103_message$jscomp$43$$ = {customMessage:JSON.stringify($data$jscomp$103_message$jscomp$43$$)};
    $JSCompiler_StaticMethods_queueControlMessage$$(this, $data$jscomp$103_message$jscomp$43$$);
  }
  setStreamingMaxBitrate($streamIdx$jscomp$4$$, $kbps$jscomp$2$$) {
    $JSCompiler_StaticMethods_queueControlMessage$$(this, {setMaxBitrate:{streamIndex:$streamIdx$jscomp$4$$, maxBitrate:$kbps$jscomp$2$$}});
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{6bbc1a2}", $kbps$jscomp$2$$);
  }
  setDrcDfcState($streamIdx$jscomp$5$$, $enabled$jscomp$5$$) {
    $JSCompiler_StaticMethods_queueControlMessage$$(this, {setDrcState:{streamIndex:$streamIdx$jscomp$5$$, state:$enabled$jscomp$5$$}});
    $JSCompiler_StaticMethods_queueControlMessage$$(this, {setDfcState:{streamIndex:$streamIdx$jscomp$5$$, state:$enabled$jscomp$5$$}});
    $module$exports$rtcutils_core$output$logger$Log$$.d("{93c7910}", "{0ed76f3}", $enabled$jscomp$5$$);
  }
  sendKeyEvent($event$jscomp$35$$) {
    var $_a$jscomp$124$$;
    null === ($_a$jscomp$124$$ = this.$m$) || void 0 === $_a$jscomp$124$$ ? void 0 : $_a$jscomp$124$$.sendKeyEvent($event$jscomp$35$$);
  }
  setKeyboardLayout($layout$jscomp$3$$) {
    this.keyboardLayout = $layout$jscomp$3$$;
    this.$m$ ? (this.sendCustomMessage({messageType:"kbLayout", messageRecipient:"KBLayoutChange", data:$layout$jscomp$3$$}), this.$m$.setKeyboardLayout($layout$jscomp$3$$)) : this.$da$ = !0;
  }
  $Ea$() {
    $JSCompiler_StaticMethods_statsServiceEnabled$$(this) ? $JSCompiler_StaticMethods_sendWindowState$$(this, this.$h$.$s$) : $module$exports$rtcutils_core$output$logger$Log$$.w("{93c7910}", "{76bcede}");
  }
};
function $module$contents$output$streamclient_getAudioTrack$$($audioTracks_stream$jscomp$20$$) {
  let $audioTrack$jscomp$2$$ = null;
  $audioTracks_stream$jscomp$20$$ = $audioTracks_stream$jscomp$20$$.getAudioTracks();
  $audioTracks_stream$jscomp$20$$.length && ($audioTrack$jscomp$2$$ = $audioTracks_stream$jscomp$20$$[0]);
  return $audioTrack$jscomp$2$$;
}
function $module$contents$output$streamclient_shouldCombineStreams$$() {
  var $_a$jscomp$127$$, $_b$jscomp$50$$;
  return null !== ($_b$jscomp$50$$ = null !== ($_a$jscomp$127$$ = $module$exports$output$util$settings$RagnarokSettings$$.combineStreams) && void 0 !== $_a$jscomp$127$$ ? $_a$jscomp$127$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.combineStreams) && void 0 !== $_b$jscomp$50$$ ? $_b$jscomp$50$$ : !0;
}
function $module$contents$output$streamclient_getChannelState$$($dataChannel$jscomp$2$$) {
  var $_a$jscomp$128$$;
  return null !== ($_a$jscomp$128$$ = null === $dataChannel$jscomp$2$$ || void 0 === $dataChannel$jscomp$2$$ ? void 0 : $dataChannel$jscomp$2$$.readyState) && void 0 !== $_a$jscomp$128$$ ? $_a$jscomp$128$$ : "connecting";
}
;var $module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$ = {clientName:"Ragnarok", clientId:"62677554106929725", eventSchemaVer:"3.0"}, $module$exports$output$telemetry$telemetryinterfaces$Streamer_StartDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$14$$) {
    super($info$jscomp$14$$);
    this.name = "Streamer_Start";
    this.gdprLevel = "functional";
  }
}, $module$exports$output$telemetry$telemetryinterfaces$Streamer_ExitDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$15$$) {
    super($info$jscomp$15$$);
    this.name = "Streamer_Exit";
    this.gdprLevel = "functional";
  }
}, $module$exports$output$telemetry$telemetryinterfaces$Streamer_InputDeviceDef$$ = class extends $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$ {
  constructor($info$jscomp$16$$) {
    super($info$jscomp$16$$);
    this.name = "Streamer_InputDevice";
    this.gdprLevel = "functional";
  }
};
class $module$contents$output$util$networkdetector_NetworkDetectorImpl$$ {
  constructor() {
    this.$j$ = new Map([["Ethernet", "ETHERNET"], ["5GHz_WiFi", "WIFI_5_0"], ["2.4GHz_WiFi", "WIFI_2_4"], ["Others", "OTHER"], ["disconnected", "UNKNOWN"]]);
    this.$g$ = "UNKNOWN";
    this.$h$ = [];
    window.addEventListener("GFNNetworkInfo", $evt$jscomp$81_net$jscomp$inline_920$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{aac1655}", "{2925c9d}", $evt$jscomp$81_net$jscomp$inline_920$$.detail.state);
      $evt$jscomp$81_net$jscomp$inline_920$$ = $evt$jscomp$81_net$jscomp$inline_920$$.detail.state;
      const $networkType$jscomp$inline_921$$ = this.$j$.get($evt$jscomp$81_net$jscomp$inline_920$$);
      if ($networkType$jscomp$inline_921$$) {
        this.$g$ = $networkType$jscomp$inline_921$$;
        for (const $callback$jscomp$inline_922$$ of this.$h$) {
          $callback$jscomp$inline_922$$(this.$g$);
        }
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.d("{aac1655}", "{ed2fb91}", $evt$jscomp$81_net$jscomp$inline_920$$);
      }
    });
  }
}
var $module$exports$output$util$networkdetector$NetworkDetector$$ = new $module$contents$output$util$networkdetector_NetworkDetectorImpl$$();
function $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_emitMetricEvent$self$$, $event$jscomp$41_metricName$$, $valueString$$, $valueDouble$$, $valueInt1$$, $valueInt2$$, $valueInt3$$) {
  $event$jscomp$41_metricName$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ClientMetricEventDef$$({metricName:$event$jscomp$41_metricName$$, moduleName:"RAGNAROK", valueInt1:$valueInt1$$, valueInt2:$valueInt2$$, valueInt3:$valueInt3$$, valueString:$valueString$$, valueDouble:$valueDouble$$, networkType:$module$exports$output$util$networkdetector$NetworkDetector$$.$g$, cmsId:String($JSCompiler_StaticMethods_emitMetricEvent$self$$.cmsId), sessionId:$JSCompiler_StaticMethods_emitMetricEvent$self$$.sessionId, 
  subSessionId:$JSCompiler_StaticMethods_emitMetricEvent$self$$.subSessionId});
  $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_emitMetricEvent$self$$, {name:$event$jscomp$41_metricName$$.name, gdprLevel:$event$jscomp$41_metricName$$.gdprLevel, ts:$event$jscomp$41_metricName$$.ts, parameters:$event$jscomp$41_metricName$$.parameters, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$});
}
function $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_JSC$2953_dispatchEvent$self$$, $event$jscomp$36$$) {
  $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$self$$.$o$.hasListener("TelemetryEvent") ? $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$self$$.$o$.emit("TelemetryEvent", $event$jscomp$36$$) : $JSCompiler_StaticMethods_sendTelemetryEvent$$($JSCompiler_StaticMethods_JSC$2953_dispatchEvent$self$$.$h$, $event$jscomp$36$$);
}
function $JSCompiler_StaticMethods_emitLaunchEvent$$($JSCompiler_StaticMethods_emitLaunchEvent$self$$, $launchAnalyticsEvent_sessionId$jscomp$29$$, $subSessionId$jscomp$3$$, $isResume$jscomp$4$$, $zoneAddress$$, $launchDuration$$, $result$jscomp$18$$, $codec$jscomp$11$$, $cmsId$jscomp$1$$, $networkSessionId$jscomp$1$$) {
  $launchAnalyticsEvent_sessionId$jscomp$29$$ = new $module$exports$output$telemetry$telemetryinterfaces$Streamer_StartDef$$({zoneAddress:$zoneAddress$$, networkSessionId:$networkSessionId$jscomp$1$$, sessionId:$launchAnalyticsEvent_sessionId$jscomp$29$$, subSessionId:$subSessionId$jscomp$3$$, resumeType:$isResume$jscomp$4$$ ? "MANUAL" : "NONE", overrideConfigType:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.type, overrideConfigVersion:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.version, 
  result:$result$jscomp$18$$, codec:$module$contents$output$util$utils_GetCodecType$$($codec$jscomp$11$$), ipVersion:"UNKNOWN", launchDuration:Math.round($launchDuration$$), networkType:$module$exports$output$util$networkdetector$NetworkDetector$$.$g$, streamingProfileGuid:$JSCompiler_StaticMethods_getStreamingProfileGuid$$($JSCompiler_StaticMethods_emitLaunchEvent$self$$.$h$), systemInfoGuid:$JSCompiler_StaticMethods_getSystemInfoGuid$$($JSCompiler_StaticMethods_emitLaunchEvent$self$$.$h$), cmsId:$cmsId$jscomp$1$$});
  $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_emitLaunchEvent$self$$, {name:$launchAnalyticsEvent_sessionId$jscomp$29$$.name, gdprLevel:$launchAnalyticsEvent_sessionId$jscomp$29$$.gdprLevel, parameters:$launchAnalyticsEvent_sessionId$jscomp$29$$.parameters, ts:$launchAnalyticsEvent_sessionId$jscomp$29$$.ts, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$});
}
function $JSCompiler_StaticMethods_processExitEvent$$($JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$, $eventPayload$$) {
  let $eventSent$$ = !1;
  $JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$.clientShutDownCallback && ($eventSent$$ = $JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$.clientShutDownCallback($eventPayload$$), $module$exports$rtcutils_core$output$logger$Log$$.d("{9838627}", "{caf81d9}", $eventSent$$));
  if (!$eventSent$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{9838627}", "{e939db1}");
    $JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$ = $JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$.$h$;
    var $_a$jscomp$inline_926$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{f7c1592}", "{01dcfe5}", null === ($_a$jscomp$inline_926$$ = $eventPayload$$.parameters) || void 0 === $_a$jscomp$inline_926$$ ? void 0 : $_a$jscomp$inline_926$$.sessionId);
    $JSCompiler_StaticMethods_updateCachedExitEventData$$($JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$, $eventPayload$$);
    $JSCompiler_StaticMethods_sendExitEventUsingBeacon$$($JSCompiler_StaticMethods_constructEventDataElements$$($JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$, $JSCompiler_StaticMethods_processExitEvent$self_JSCompiler_StaticMethods_sendExitEvent$self$jscomp$inline_924$$.$h$.eventPayload));
  }
}
function $JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$$($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$) {
  if ($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$.clientShutDownCallback) {
    return $module$exports$rtcutils_core$output$logger$Log$$.d("{9838627}", "{c7dcc4e}"), $JSCompiler_StaticMethods_getCachedExitEvents$$($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$.$h$).then($exitEventPayloads$$ => {
      for (const $payload$jscomp$3$$ of $exitEventPayloads$$) {
        $JSCompiler_StaticMethods_processExitEvent$$($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$, $payload$jscomp$3$$);
      }
      $JSCompiler_StaticMethods_clearExitEventStore$$($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$.$h$);
    }).catch(() => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{9838627}", "{41cf828}");
    });
  }
  $module$exports$rtcutils_core$output$logger$Log$$.d("{9838627}", "{77df598}");
  return $JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$$($JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$self$$.$h$);
}
function $JSCompiler_StaticMethods_emitGamepadEvent$$($JSCompiler_StaticMethods_emitGamepadEvent$self$$, $event$jscomp$42_gamepadName$$, $vid$$, $pid$$, $index$jscomp$119$$, $hapticsSupported$$, $primary$$, $state$jscomp$4$$, $eventMap$$) {
  50 <= $JSCompiler_StaticMethods_emitGamepadEvent$self$$.$m$ || ($JSCompiler_StaticMethods_emitGamepadEvent$self$$.$m$++, $event$jscomp$42_gamepadName$$ = new $module$exports$output$telemetry$telemetryinterfaces$Streamer_InputDeviceDef$$({deviceName:$event$jscomp$42_gamepadName$$, deviceType:"GAMEPAD", vendorId:$vid$$, productId:$pid$$, deviceIndex:$index$jscomp$119$$, reportIndex:$primary$$ ? 0 : $index$jscomp$119$$, hapticsSupported:$module$contents$output$util$utils_ToBooleanType$$($hapticsSupported$$), 
  hapticsFeedbackCount:0, state:$state$jscomp$4$$, eventMapReceived:$eventMap$$, eventMapProcessed:$eventMap$$, sessionId:$JSCompiler_StaticMethods_emitGamepadEvent$self$$.sessionId, subSessionId:$JSCompiler_StaticMethods_emitGamepadEvent$self$$.subSessionId, cmsId:String($JSCompiler_StaticMethods_emitGamepadEvent$self$$.cmsId)}), $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_emitGamepadEvent$self$$, {name:$event$jscomp$42_gamepadName$$.name, gdprLevel:$event$jscomp$42_gamepadName$$.gdprLevel, 
  ts:$event$jscomp$42_gamepadName$$.ts, parameters:$event$jscomp$42_gamepadName$$.parameters, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$}));
}
function $JSCompiler_StaticMethods_JSC$2953_setGameDetails$$($JSCompiler_StaticMethods_JSC$2953_setGameDetails$self$$, $cmsId$jscomp$2$$) {
  $JSCompiler_StaticMethods_JSC$2953_setGameDetails$self$$.cmsId = $cmsId$jscomp$2$$;
  $JSCompiler_StaticMethods_JSC$2953_setGameDetails$self$$.$h$.$B$ = $cmsId$jscomp$2$$;
}
var $module$exports$output$telemetry$telemetryhandler$TelemetryHandler$$ = class {
  constructor($_eventEmitter$jscomp$1$$, $telemetryEventProcessor$$) {
    this.cmsId = this.subSessionId = this.sessionId = "";
    this.$m$ = 0;
    this.$j$ = new Map();
    this.$l$ = 0;
    this.$o$ = $_eventEmitter$jscomp$1$$;
    this.$h$ = $telemetryEventProcessor$$;
    this.$h$.$A$ = this.$g$.bind(this);
  }
  $g$($error$jscomp$22_event$jscomp$37$$, $msg$jscomp$37$$, $file$jscomp$1$$, $lineno$jscomp$1$$, $colno$jscomp$1$$, $handled$jscomp$1$$, $category$jscomp$4$$) {
    var $_a$jscomp$129$$;
    if (50 <= this.$l$) {
      var $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ = !1;
    } else {
      var $count$jscomp$inline_937$$ = null !== ($JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ = this.$j$.get($msg$jscomp$37$$)) && void 0 !== $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ ? $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ : 0;
      10 <= $count$jscomp$inline_937$$ ? $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ = !1 : (this.$l$++, this.$j$.set($msg$jscomp$37$$, $count$jscomp$inline_937$$ + 1), $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ = !0);
    }
    $JSCompiler_inline_result$jscomp$120__a$jscomp$inline_936$$ && ($error$jscomp$22_event$jscomp$37$$ instanceof DOMException && ($error$jscomp$22_event$jscomp$37$$ = {name:$error$jscomp$22_event$jscomp$37$$.name, message:$error$jscomp$22_event$jscomp$37$$.message}), $error$jscomp$22_event$jscomp$37$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ExceptionInfoDef$$({filename:$file$jscomp$1$$, lineno:$lineno$jscomp$1$$, stacktrace:null !== ($_a$jscomp$129$$ = null === $error$jscomp$22_event$jscomp$37$$ || 
    void 0 === $error$jscomp$22_event$jscomp$37$$ ? void 0 : $error$jscomp$22_event$jscomp$37$$.stack) && void 0 !== $_a$jscomp$129$$ ? $_a$jscomp$129$$ : "", colno:$colno$jscomp$1$$, handled:$module$contents$output$util$utils_ToBooleanType$$($handled$jscomp$1$$), category:null !== $category$jscomp$4$$ && void 0 !== $category$jscomp$4$$ ? $category$jscomp$4$$ : "", message:$msg$jscomp$37$$, moduleName:"RAGNAROK", sessionId:this.sessionId, subSessionId:this.subSessionId}), $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$(this, 
    {name:$error$jscomp$22_event$jscomp$37$$.name, gdprLevel:$error$jscomp$22_event$jscomp$37$$.gdprLevel, parameters:$error$jscomp$22_event$jscomp$37$$.parameters, ts:$error$jscomp$22_event$jscomp$37$$.ts, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$}));
  }
  $emitDebugEvent$($event$jscomp$40_key1$jscomp$2$$, $key2$jscomp$2$$, $key3$jscomp$2$$, $key4$jscomp$2$$, $key5$jscomp$2$$) {
    $event$jscomp$40_key1$jscomp$2$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_DebugInfoDef$$({key1:null !== $event$jscomp$40_key1$jscomp$2$$ && void 0 !== $event$jscomp$40_key1$jscomp$2$$ ? $event$jscomp$40_key1$jscomp$2$$ : "", key2:null !== $key2$jscomp$2$$ && void 0 !== $key2$jscomp$2$$ ? $key2$jscomp$2$$ : "", key3:null !== $key3$jscomp$2$$ && void 0 !== $key3$jscomp$2$$ ? $key3$jscomp$2$$ : "", key4:null !== $key4$jscomp$2$$ && void 0 !== $key4$jscomp$2$$ ? $key4$jscomp$2$$ : 
    "", key5:null !== $key5$jscomp$2$$ && void 0 !== $key5$jscomp$2$$ ? $key5$jscomp$2$$ : "", moduleName:"RAGNAROK", networkType:$module$exports$output$util$networkdetector$NetworkDetector$$.$g$, overrideConfigType:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.type, overrideConfigVersion:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.version, cmsId:String(this.cmsId), sessionId:this.sessionId, subSessionId:this.subSessionId});
    $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$(this, {name:$event$jscomp$40_key1$jscomp$2$$.name, gdprLevel:$event$jscomp$40_key1$jscomp$2$$.gdprLevel, ts:$event$jscomp$40_key1$jscomp$2$$.ts, parameters:$event$jscomp$40_key1$jscomp$2$$.parameters, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$});
  }
};
function $JSCompiler_StaticMethods_getCurrentMicStatus$$() {
  return !1 === $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$ ? Promise.resolve(0) : window.navigator.permissions ? window.navigator.permissions.query({name:"microphone"}).then($permissionStatus_state$jscomp$inline_940$$ => {
    $permissionStatus_state$jscomp$inline_940$$ = $permissionStatus_state$jscomp$inline_940$$.state;
    let $micState$jscomp$inline_941$$ = 2;
    "granted" == $permissionStatus_state$jscomp$inline_940$$ ? $micState$jscomp$inline_941$$ = 5 : "prompt" == $permissionStatus_state$jscomp$inline_940$$ && ($micState$jscomp$inline_941$$ = 1);
    return $micState$jscomp$inline_941$$;
  }).catch(() => 0) : Promise.resolve(0);
}
function $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_updateState$self$$, $status$jscomp$3$$, $shouldEmit$$ = !0) {
  $JSCompiler_StaticMethods_updateState$self$$.$h$ = $status$jscomp$3$$;
  3 === $JSCompiler_StaticMethods_updateState$self$$.$h$ && ($JSCompiler_StaticMethods_updateState$self$$.$H$ = !0);
  $JSCompiler_StaticMethods_updateState$self$$.$B$ && $shouldEmit$$ && $JSCompiler_StaticMethods_updateState$self$$.$B$.emit("MicCapture", {state:$JSCompiler_StaticMethods_updateState$self$$.$h$});
}
function $JSCompiler_StaticMethods_emitMicState$$($JSCompiler_StaticMethods_emitMicState$self$$) {
  !1 !== $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$ && ($JSCompiler_StaticMethods_emitMicState$self$$.$m$ || 3 == $JSCompiler_StaticMethods_emitMicState$self$$.$h$ || 2 == $JSCompiler_StaticMethods_emitMicState$self$$.$h$ || 6 == $JSCompiler_StaticMethods_emitMicState$self$$.$h$ || 7 == $JSCompiler_StaticMethods_emitMicState$self$$.$h$ ? $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_emitMicState$self$$, $JSCompiler_StaticMethods_emitMicState$self$$.$h$) : 
  $JSCompiler_StaticMethods_getCurrentMicStatus$$().then($state$jscomp$6$$ => {
    0 !== $state$jscomp$6$$ && $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_emitMicState$self$$, $state$jscomp$6$$);
  }));
}
function $JSCompiler_StaticMethods_stopMicRecording$$($JSCompiler_StaticMethods_stopMicRecording$self$$) {
  if ($JSCompiler_StaticMethods_stopMicRecording$self$$.$D$) {
    if ($module$exports$output$miccapturer$MicCapturer$micSupported$$) {
      $JSCompiler_StaticMethods_stopMicRecording$self$$.$micEnabled$ = !1;
      $JSCompiler_StaticMethods_stopMicRecording$self$$.paused = !0;
      var $prevState$$ = $JSCompiler_StaticMethods_stopMicRecording$self$$.$h$;
      navigator.mediaDevices.ondevicechange = () => {
      };
      if ($JSCompiler_StaticMethods_stopMicRecording$self$$.$s$) {
        $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{6faf5bb}");
        let $stream$jscomp$22$$ = $JSCompiler_StaticMethods_getSilenceMediaStream$$();
        var $sender$jscomp$3$$ = $JSCompiler_StaticMethods_stopMicRecording$self$$.$s$.getSenders()[0];
        $sender$jscomp$3$$ ? $sender$jscomp$3$$.replaceTrack($stream$jscomp$22$$.getTracks()[0]).then(() => {
          $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{797fa55}");
          $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_stopMicRecording$self$$, 5, !1);
          3 === $prevState$$ && ($JSCompiler_StaticMethods_stopMicRecording$self$$.$A$ = !0);
        }).catch($err$jscomp$34$$ => {
          $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{79f26cc}", $err$jscomp$34$$);
          $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_stopMicRecording$self$$, 7, !1);
        }).finally(() => {
          let $stream$jscomp$23$$ = $JSCompiler_StaticMethods_stopMicRecording$self$$.$g$;
          $JSCompiler_StaticMethods_stopMicRecording$self$$.$g$ = null;
          $stream$jscomp$23$$ && $stream$jscomp$23$$.getTracks().forEach($track$jscomp$8$$ => {
            $track$jscomp$8$$.stop();
          });
          $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_stopMicRecording$self$$, $JSCompiler_StaticMethods_stopMicRecording$self$$.$h$);
          $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_stopMicRecording$self$$.$platformDetails$) && !$module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_stopMicRecording$self$$.$platformDetails$, !1, 15, 4) && $JSCompiler_StaticMethods_stopMicRecording$self$$.$o$();
        }) : ($module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{f7f0250}"), $JSCompiler_StaticMethods_stopMicRecording$self$$.$g$ = null);
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{9e75fa2}"), $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_stopMicRecording$self$$, 0);
      }
    } else {
      $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_stopMicRecording$self$$, 6);
    }
  }
}
function $JSCompiler_StaticMethods_recordLowAudioDebugEvent$$($JSCompiler_StaticMethods_recordLowAudioDebugEvent$self$$, $key$jscomp$59$$) {
  var $_a$jscomp$133$$;
  $JSCompiler_StaticMethods_recordLowAudioDebugEvent$self$$.$v$ = !0;
  $JSCompiler_StaticMethods_recordLowAudioDebugEvent$self$$.$l$.set($key$jscomp$59$$, (null !== ($_a$jscomp$133$$ = $JSCompiler_StaticMethods_recordLowAudioDebugEvent$self$$.$l$.get($key$jscomp$59$$)) && void 0 !== $_a$jscomp$133$$ ? $_a$jscomp$133$$ : 0) + 1);
  $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{30f8637}", $key$jscomp$59$$);
}
async function $JSCompiler_StaticMethods_JSC$2965_getUserMedia$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, $audioOptions$$) {
  $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$m$ = !0;
  return navigator.mediaDevices.getUserMedia({audio:$audioOptions$$}).then($media_obj$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{b204737}");
    $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 5, !1);
    $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$m$ = !1;
    $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$ = $media_obj$$;
    $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$) && ($media_obj$$.getTracks()[0].onended = () => {
      $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$J$ = performance.now();
      $module$exports$rtcutils_core$output$logger$Log$$.i("{223689a}", "{6b60d82}");
      $JSCompiler_StaticMethods_stopMicRecording$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$);
    });
    $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$.oninactive = () => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{eee54f1}");
      $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$C$.clear();
      $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$ = null;
    };
    if ($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.paused) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{21e76e1}"), $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$ = null, $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 7);
    } else {
      var $sender$jscomp$2$$ = $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$s$.getSenders()[0];
      $sender$jscomp$2$$ ? $sender$jscomp$2$$.replaceTrack($media_obj$$.getTracks()[0]).then(() => {
        $module$exports$rtcutils_core$output$logger$Log$$.i("{223689a}", "{6c92139}");
        if ($module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$) && !$module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$, !1, 15, 4) && 0 == $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$videoElement$.muted) {
          let $playPromise$$ = null;
          $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$audioElement$.srcObject ? $playPromise$$ = $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$audioElement$.play() : $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$videoElement$.srcObject && ($playPromise$$ = $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$videoElement$.play(), $module$exports$rtcutils_core$output$logger$Log$$.i("{223689a}", "{ef4dea7}"));
          $playPromise$$ ? $playPromise$$.then(() => {
            $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{5593cbe}");
            $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$o$();
          }).catch($error$jscomp$24$$ => {
            $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$o$();
            try {
              $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$G$.$emitDebugEvent$("WAR: Play Error", null === $error$jscomp$24$$ || void 0 === $error$jscomp$24$$ ? void 0 : $error$jscomp$24$$.name, null === $error$jscomp$24$$ || void 0 === $error$jscomp$24$$ ? void 0 : $error$jscomp$24$$.message), $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{69aae72}", null === $error$jscomp$24$$ || void 0 === $error$jscomp$24$$ ? void 0 : $error$jscomp$24$$.name, null === $error$jscomp$24$$ || 
              void 0 === $error$jscomp$24$$ ? void 0 : $error$jscomp$24$$.message);
            } catch ($ex$jscomp$7$$) {
            }
          }) : $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{b6a6508}");
        }
        $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 3);
        $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$A$ = !1;
        $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$, !1, 15, 4) && ($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$v$ = !1, $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$F$ = !1);
      }).catch($err$jscomp$31$$ => {
        $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{5c42246}", $err$jscomp$31$$);
        $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$ = null;
        $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 7);
      }) : ($module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{f7f0250}"), $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$g$ = null);
    }
  }).catch($err$jscomp$32$$ => {
    var $_a$jscomp$131$$, $_b$jscomp$51$$;
    $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$) && !$module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$platformDetails$, !1, 15, 4) && $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$o$();
    $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$m$ = !1;
    $err$jscomp$32$$ instanceof DOMException && "NotAllowedError" === $err$jscomp$32$$.name ? ($module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{3f9bd66}"), $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 2), $JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$F$ && !$JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$v$ && $JSCompiler_StaticMethods_recordLowAudioDebugEvent$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 
    "permissionDenied")) : $err$jscomp$32$$ instanceof DOMException && "NotFoundError" === $err$jscomp$32$$.name ? ($module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{7f04869}"), $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 4)) : ($err$jscomp$32$$ instanceof DOMException && "NotReadableError" === $err$jscomp$32$$.name ? ($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$C$.add(null !== ($_a$jscomp$131$$ = $audioOptions$$.deviceId) && 
    void 0 !== $_a$jscomp$131$$ ? $_a$jscomp$131$$ : "default"), $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{af7e08c}", null !== ($_b$jscomp$51$$ = $audioOptions$$.deviceId) && void 0 !== $_b$jscomp$51$$ ? $_b$jscomp$51$$ : "default", $err$jscomp$32$$.name, $err$jscomp$32$$.message), navigator.mediaDevices.enumerateDevices().then($devices$$ => {
      for (const $device$$ of $devices$$) {
        if ("audioinput" === $device$$.kind && "default" !== $device$$.deviceId && !$JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$.$C$.has($device$$.deviceId)) {
          $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{655d8b0}", $device$$.deviceId, $device$$.label);
          $audioOptions$$.deviceId = $device$$.deviceId;
          $JSCompiler_StaticMethods_JSC$2965_getUserMedia$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, $audioOptions$$);
          break;
        }
      }
    }).catch($err$jscomp$33$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{930e826}", $err$jscomp$33$$.name, $err$jscomp$33$$.message);
    })) : $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{c361fc5}", $err$jscomp$32$$.name, $err$jscomp$32$$.message), $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_JSC$2965_getUserMedia$self$$, 7));
  });
}
async function $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$) {
  if ($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$D$) {
    if ($module$exports$output$miccapturer$MicCapturer$micSupported$$) {
      if ($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$micEnabled$ = !0, null == $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$g$ && !$JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$m$) {
        $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.paused = !1;
        $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$, 1, !1);
        var $audioOptions$jscomp$1$$ = {sampleRate:48000};
        $module$contents$rtcutils_core$output$utils_IsChromeOS$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$platformDetails$) && ($audioOptions$jscomp$1$$.googAutoGainControl2 = !1);
        navigator.mediaDevices.ondevicechange = () => {
          $module$exports$rtcutils_core$output$logger$Log$$.i("{223689a}", "{50d0169}", !!$JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$g$, $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$m$);
          null != $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$g$ || $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$m$ || ($module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{c849290}"), $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$));
        };
        await $JSCompiler_StaticMethods_JSC$2965_getUserMedia$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$, $audioOptions$jscomp$1$$);
        $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$.$u$ || $JSCompiler_StaticMethods_extractAudioInputType$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$);
      }
    } else {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{999b07b}"), $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$self$$, 6);
    }
  }
}
function $JSCompiler_StaticMethods_extractAudioInputType$$($JSCompiler_StaticMethods_extractAudioInputType$self$$) {
  return navigator.mediaDevices.enumerateDevices().then($devices$jscomp$1$$ => {
    let $audioInputDeviceCount$$ = 0;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{fa1ec18}", JSON.stringify($devices$jscomp$1$$));
    for (const $device$jscomp$1$$ of $devices$jscomp$1$$) {
      "audioinput" == $device$jscomp$1$$.kind && $audioInputDeviceCount$$++;
    }
    switch($audioInputDeviceCount$$) {
      case 0:
        $JSCompiler_StaticMethods_extractAudioInputType$self$$.$u$ = "No Audio Input";
        $JSCompiler_StaticMethods_extractAudioInputType$self$$.$j$.$noAudioInput$++;
        break;
      case 1:
        $JSCompiler_StaticMethods_extractAudioInputType$self$$.$u$ = "Built-in Microphone";
        $JSCompiler_StaticMethods_extractAudioInputType$self$$.$j$.$builtInMic$++;
        break;
      default:
        $JSCompiler_StaticMethods_extractAudioInputType$self$$.$u$ = "Headset Microphone", $JSCompiler_StaticMethods_extractAudioInputType$self$$.$j$.$headsetMic$++;
    }
    $module$exports$rtcutils_core$output$logger$Log$$.d("{223689a}", "{0d14ab6}", $JSCompiler_StaticMethods_extractAudioInputType$self$$.$u$);
  }).catch(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{223689a}", "{21131d5}");
  });
}
function $JSCompiler_StaticMethods_getSilenceMediaStream$$() {
  let $ctx$jscomp$2$$ = $module$contents$output$util$utils_GetAudioContext$$(48000);
  if ($ctx$jscomp$2$$) {
    let $track$jscomp$7$$ = $ctx$jscomp$2$$.createMediaStreamDestination().stream.getAudioTracks()[0];
    $ctx$jscomp$2$$.close();
    $track$jscomp$7$$.enabled = !0;
    return new MediaStream([$track$jscomp$7$$]);
  }
  throw Error("Mic stream is not supported");
}
function $JSCompiler_StaticMethods_shutdown$$($JSCompiler_StaticMethods_shutdown$self$$) {
  if (!1 !== $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$) {
    if (null != $JSCompiler_StaticMethods_shutdown$self$$.$g$) {
      let $stream$jscomp$24$$ = $JSCompiler_StaticMethods_shutdown$self$$.$g$;
      $JSCompiler_StaticMethods_shutdown$self$$.$C$.clear();
      $JSCompiler_StaticMethods_shutdown$self$$.$g$ = null;
      navigator.mediaDevices && (navigator.mediaDevices.ondevicechange = () => {
      });
      $stream$jscomp$24$$.getTracks().forEach($track$jscomp$9$$ => {
        $track$jscomp$9$$.stop();
      });
    }
    $JSCompiler_StaticMethods_shutdown$self$$.$micEnabled$ = !1;
    $JSCompiler_StaticMethods_updateState$$($JSCompiler_StaticMethods_shutdown$self$$, 5);
    $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_shutdown$self$$.$G$, "AudioInputType", $JSCompiler_StaticMethods_shutdown$self$$.$H$ ? "started" : "not started", 0, $JSCompiler_StaticMethods_shutdown$self$$.$j$.$noAudioInput$, $JSCompiler_StaticMethods_shutdown$self$$.$j$.$builtInMic$, $JSCompiler_StaticMethods_shutdown$self$$.$j$.$headsetMic$);
    $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_shutdown$self$$.$platformDetails$, !1, 15, 4) && $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_shutdown$self$$.$G$, "LowAudioVolume", "", 0, $JSCompiler_StaticMethods_shutdown$self$$.$l$.get("permissionDenied"), $JSCompiler_StaticMethods_shutdown$self$$.$l$.get("visibilityChange"), $JSCompiler_StaticMethods_shutdown$self$$.$l$.get("deviceChange"));
    $JSCompiler_StaticMethods_shutdown$self$$.$s$ = null;
    $JSCompiler_StaticMethods_shutdown$self$$.$B$ = null;
    $JSCompiler_StaticMethods_shutdown$self$$.$videoElement$ = null;
    $JSCompiler_StaticMethods_shutdown$self$$.$audioElement$ = null;
    $JSCompiler_StaticMethods_shutdown$self$$.$D$ = !1;
    $JSCompiler_StaticMethods_shutdown$self$$.$j$ = {$noAudioInput$:0, $builtInMic$:0, $headsetMic$:0};
    for (const [$key__tsickle_destructured_1$jscomp$5$$] of $JSCompiler_StaticMethods_shutdown$self$$.$l$) {
      $JSCompiler_StaticMethods_shutdown$self$$.$l$.set($key__tsickle_destructured_1$jscomp$5$$, 0);
    }
    $JSCompiler_StaticMethods_shutdown$self$$.$v$ = !1;
    $JSCompiler_StaticMethods_shutdown$self$$.$A$ = !1;
    $JSCompiler_StaticMethods_shutdown$self$$.$F$ = !1;
    $JSCompiler_StaticMethods_shutdown$self$$.$H$ = !1;
  }
}
function $JSCompiler_StaticMethods_onDeviceChange$$($JSCompiler_StaticMethods_onDeviceChange$self$$, $deviceChangeCount$$) {
  $JSCompiler_StaticMethods_extractAudioInputType$$($JSCompiler_StaticMethods_onDeviceChange$self$$).then(() => {
    0 !== $deviceChangeCount$$ && $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_onDeviceChange$self$$.$platformDetails$, !1, 15, 4) && !$JSCompiler_StaticMethods_onDeviceChange$self$$.$v$ && "Built-in Microphone" === $JSCompiler_StaticMethods_onDeviceChange$self$$.$u$ && ($JSCompiler_StaticMethods_onDeviceChange$self$$.$micEnabled$ || $JSCompiler_StaticMethods_onDeviceChange$self$$.$A$) && $JSCompiler_StaticMethods_recordLowAudioDebugEvent$$($JSCompiler_StaticMethods_onDeviceChange$self$$, 
    "deviceChange");
  });
}
var $module$exports$output$miccapturer$MicCapturer$$ = class {
  constructor($platformDetails$jscomp$46$$, $telemetry$jscomp$9$$) {
    this.$B$ = null;
    this.$h$ = 0;
    this.$micEnabled$ = !1;
    this.$C$ = new Set();
    this.$D$ = this.$I$ = !1;
    this.$J$ = 0;
    this.$A$ = this.$F$ = this.$v$ = !1;
    this.$j$ = {$noAudioInput$:0, $builtInMic$:0, $headsetMic$:0};
    this.$l$ = new Map([["permissionDenied", 0], ["visibilityChange", 0], ["deviceChange", 0]]);
    this.$H$ = !1;
    this.$platformDetails$ = $platformDetails$jscomp$46$$;
    this.$G$ = $telemetry$jscomp$9$$;
    this.$g$ = this.$s$ = null;
    this.paused = this.$m$ = !1;
    this.$audioElement$ = this.$videoElement$ = null;
    $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($platformDetails$jscomp$46$$, !1, 15) && (this.$I$ = !0);
  }
  initialize($pc$jscomp$2_silenceStream$$, $eventEmitter$jscomp$2$$, $videoElement$jscomp$11$$, $audioElement$jscomp$1$$) {
    if (!1 !== $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$) {
      this.$s$ = $pc$jscomp$2_silenceStream$$;
      this.$B$ = $eventEmitter$jscomp$2$$;
      this.$videoElement$ = $videoElement$jscomp$11$$;
      this.$audioElement$ = $audioElement$jscomp$1$$;
      if ($module$exports$output$miccapturer$MicCapturer$micSupported$$) {
        $pc$jscomp$2_silenceStream$$ = $JSCompiler_StaticMethods_getSilenceMediaStream$$();
        if (null == $pc$jscomp$2_silenceStream$$) {
          $module$exports$rtcutils_core$output$logger$Log$$.w("{223689a}", "{360f38b}");
          return;
        }
        this.$s$.addTrack($pc$jscomp$2_silenceStream$$.getAudioTracks()[0], $pc$jscomp$2_silenceStream$$);
        this.$micEnabled$ && $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$$(this);
      } else {
        $module$exports$rtcutils_core$output$logger$Log$$.w("{223689a}", "{5813c2b}");
      }
      this.$D$ = !0;
    }
  }
  $o$() {
    var $_a$jscomp$132$$, $_b$jscomp$52$$, $_c$jscomp$32$$;
    if ($module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$ && this.$I$) {
      var $stream$jscomp$25$$ = null !== ($_b$jscomp$52$$ = null === ($_a$jscomp$132$$ = this.$audioElement$) || void 0 === $_a$jscomp$132$$ ? void 0 : $_a$jscomp$132$$.srcObject) && void 0 !== $_b$jscomp$52$$ ? $_b$jscomp$52$$ : null === ($_c$jscomp$32$$ = this.$videoElement$) || void 0 === $_c$jscomp$32$$ ? void 0 : $_c$jscomp$32$$.srcObject;
      if ($stream$jscomp$25$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.i("{223689a}", "{ad4b8c2}");
        var $audioTrack$jscomp$3$$ = $stream$jscomp$25$$.getAudioTracks()[0];
        $audioTrack$jscomp$3$$.enabled = !1;
        setTimeout(() => {
          $audioTrack$jscomp$3$$.enabled = !0;
        }, 0);
      }
    }
  }
  getMicState() {
    return this.$h$;
  }
  shouldDefaultEnableMic() {
    return !($module$contents$rtcutils_core$output$utils_IsWebOS$$(this.$platformDetails$) || "Tizen" === this.$platformDetails$.os || $module$contents$rtcutils_core$output$utils_IsiDevice$$(this.$platformDetails$));
  }
}, $module$exports$output$miccapturer$MicCapturer$micSupported$$ = null != navigator.mediaDevices && (window.AudioContext || window.webkitAudioContext || !1);
function $JSCompiler_StaticMethods_stopSleepDetectionTimer$$($JSCompiler_StaticMethods_stopSleepDetectionTimer$self$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.i("{0f7a7d0}", "{206f492}");
  $JSCompiler_StaticMethods_stopSleepDetectionTimer$self$$.$m$ && (window.clearInterval($JSCompiler_StaticMethods_stopSleepDetectionTimer$self$$.$m$), $JSCompiler_StaticMethods_stopSleepDetectionTimer$self$$.$m$ = 0);
}
function $JSCompiler_StaticMethods_startSleepDetectionTimer$$($JSCompiler_StaticMethods_startSleepDetectionTimer$self$$) {
  $JSCompiler_StaticMethods_stopSleepDetectionTimer$$($JSCompiler_StaticMethods_startSleepDetectionTimer$self$$);
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ = (new Date()).getTime();
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$j$ = 0;
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$l$ = 0;
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$h$ = 0;
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.sleepTime = 0;
  $module$exports$rtcutils_core$output$logger$Log$$.i("{0f7a7d0}", "{d5ff5ba}");
  $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$m$ = window.setInterval(() => {
    try {
      let $currentTime$jscomp$inline_950$$ = (new Date()).getTime();
      1E4 < $currentTime$jscomp$inline_950$$ - $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ - 1E4 && ($JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$h$ = $currentTime$jscomp$inline_950$$, $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.sleepTime = $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$h$ - $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ - 1E4);
      1E4 < $currentTime$jscomp$inline_950$$ - $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ - 1E4 && 0 != $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$j$ ? $JSCompiler_StaticMethods_reportSleepEvent$$($JSCompiler_StaticMethods_startSleepDetectionTimer$self$$, 0 < $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ - $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$l$ ? "epsp" : "esp") : 36E5 < $currentTime$jscomp$inline_950$$ - $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ && 
      $JSCompiler_StaticMethods_stopSleepDetectionTimer$$($JSCompiler_StaticMethods_startSleepDetectionTimer$self$$);
      $JSCompiler_StaticMethods_startSleepDetectionTimer$self$$.$g$ = $currentTime$jscomp$inline_950$$;
    } catch ($ex$jscomp$inline_951$$) {
    }
  }, 1E4);
}
function $JSCompiler_StaticMethods_reportSleepEvent$$($JSCompiler_StaticMethods_reportSleepEvent$self$$, $event$jscomp$inline_960_sleepCaseMsg$$) {
  if ($JSCompiler_StaticMethods_reportSleepEvent$self$$.$o$ !== $JSCompiler_StaticMethods_reportSleepEvent$self$$.subSessionId) {
    var $JSCompiler_StaticMethods_emitSleepEvent$self$jscomp$inline_953$$ = $JSCompiler_StaticMethods_reportSleepEvent$self$$.$s$, $error$jscomp$inline_957$$ = $module$contents$rtcutils_core$output$utils_GetHexString$$($JSCompiler_StaticMethods_reportSleepEvent$self$$.$j$);
    $event$jscomp$inline_960_sleepCaseMsg$$ = new $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_Sleep_EventDef$$({eventSequence:$event$jscomp$inline_960_sleepCaseMsg$$, sleepTime:$JSCompiler_StaticMethods_reportSleepEvent$self$$.sleepTime, error:$error$jscomp$inline_957$$, timeToSleep:$JSCompiler_StaticMethods_reportSleepEvent$self$$.$g$ - $JSCompiler_StaticMethods_reportSleepEvent$self$$.$l$, moduleName:"RAGNAROK", cmsId:String($JSCompiler_StaticMethods_emitSleepEvent$self$jscomp$inline_953$$.cmsId), 
    sessionId:$JSCompiler_StaticMethods_reportSleepEvent$self$$.sessionId, subSessionId:$JSCompiler_StaticMethods_reportSleepEvent$self$$.subSessionId});
    $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$($JSCompiler_StaticMethods_emitSleepEvent$self$jscomp$inline_953$$, {name:$event$jscomp$inline_960_sleepCaseMsg$$.name, gdprLevel:$event$jscomp$inline_960_sleepCaseMsg$$.gdprLevel, ts:$event$jscomp$inline_960_sleepCaseMsg$$.ts, parameters:$event$jscomp$inline_960_sleepCaseMsg$$.parameters, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$});
    $JSCompiler_StaticMethods_reportSleepEvent$self$$.$o$ = $JSCompiler_StaticMethods_reportSleepEvent$self$$.subSessionId;
  }
  $JSCompiler_StaticMethods_stopSleepDetectionTimer$$($JSCompiler_StaticMethods_reportSleepEvent$self$$);
}
function $JSCompiler_StaticMethods_wasSleepExit$$($JSCompiler_StaticMethods_wasSleepExit$self$$, $errorCode$jscomp$8$$) {
  if (15868704 === $errorCode$jscomp$8$$ || 15859712 === $errorCode$jscomp$8$$) {
    return $JSCompiler_StaticMethods_stopSleepDetectionTimer$$($JSCompiler_StaticMethods_wasSleepExit$self$$), !1;
  }
  let $currentTime$jscomp$2$$ = (new Date()).getTime();
  $JSCompiler_StaticMethods_wasSleepExit$self$$.$j$ = $errorCode$jscomp$8$$;
  $JSCompiler_StaticMethods_wasSleepExit$self$$.$l$ = $currentTime$jscomp$2$$;
  $module$exports$rtcutils_core$output$logger$Log$$.i("{0f7a7d0}", "{425293a}", String($currentTime$jscomp$2$$ - $JSCompiler_StaticMethods_wasSleepExit$self$$.$g$), $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$);
  if (1E4 < $currentTime$jscomp$2$$ - $JSCompiler_StaticMethods_wasSleepExit$self$$.$g$ - 1E4) {
    $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$ = $currentTime$jscomp$2$$, $JSCompiler_StaticMethods_wasSleepExit$self$$.sleepTime = $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$ - $JSCompiler_StaticMethods_wasSleepExit$self$$.$g$ - 1E4, $JSCompiler_StaticMethods_reportSleepEvent$$($JSCompiler_StaticMethods_wasSleepExit$self$$, "pse");
  } else if (0 !== $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$ && 2E4 > $currentTime$jscomp$2$$ - $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$) {
    $JSCompiler_StaticMethods_reportSleepEvent$$($JSCompiler_StaticMethods_wasSleepExit$self$$, "pspe");
  } else if (15867909 === $errorCode$jscomp$8$$ || 15867908 === $errorCode$jscomp$8$$) {
    $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$ = $currentTime$jscomp$2$$, $JSCompiler_StaticMethods_reportSleepEvent$$($JSCompiler_StaticMethods_wasSleepExit$self$$, "other");
  }
  return 0 !== $JSCompiler_StaticMethods_wasSleepExit$self$$.$h$;
}
var $module$exports$output$util$sleepdetector$SleepDetector$$ = class {
  constructor($telemetry$jscomp$10$$) {
    this.subSessionId = this.sessionId = "";
    this.$g$ = 0;
    this.$o$ = "";
    this.sleepTime = this.$h$ = this.$m$ = this.$l$ = this.$j$ = 0;
    this.$s$ = $telemetry$jscomp$10$$;
  }
};
function $JSCompiler_StaticMethods_toggleGamepadTester$$($JSCompiler_StaticMethods_toggleGamepadTester$self$$, $videoTagElement$jscomp$4$$) {
  let $gamepadTesterElement$$ = document.getElementById($JSCompiler_StaticMethods_toggleGamepadTester$self$$.$gamepadTesterElementId$);
  $gamepadTesterElement$$ ? ($gamepadTesterElement$$.remove(), $JSCompiler_StaticMethods_toggleGamepadTester$self$$.$gamepads$ = [], $JSCompiler_StaticMethods_toggleGamepadTester$self$$.visible = !1) : ($videoTagElement$jscomp$4$$.insertAdjacentElement("afterend", $JSCompiler_StaticMethods_initGamepadTesterElement$$($JSCompiler_StaticMethods_toggleGamepadTester$self$$)), $JSCompiler_StaticMethods_toggleGamepadTester$self$$.start());
}
function $JSCompiler_StaticMethods_initGamepadTesterElement$$($JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$) {
  let $gamepadTester$jscomp$2$$ = document.createElement("div");
  $gamepadTester$jscomp$2$$.id = $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.$gamepadTesterElementId$;
  $gamepadTester$jscomp$2$$.className = "genericdiv";
  $gamepadTester$jscomp$2$$.style.display = "block";
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.visible = !0;
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$ = document.createElement("p");
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.style.color = "white";
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.style.position = "relative";
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.innerHTML = "Connected GamePads:";
  $gamepadTester$jscomp$2$$.appendChild($JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$);
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$ = document.createElement("style");
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.appendChild(document.createTextNode(".gamepad:nth-child(even) { float:left; clear: left; }"));
  $JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$.appendChild(document.createTextNode(".gamepad:nth-child(odd) { float:right; clear: right; }"));
  document.head.appendChild($JSCompiler_StaticMethods_initGamepadTesterElement$self_connectedGamepadsText_style$$);
  return $gamepadTester$jscomp$2$$;
}
var $module$exports$output$debug$gamepadtester$GamepadTester$$ = class {
  constructor() {
    this.$gamepadTesterElementId$ = "gamepadTester";
    this.visible = !1;
    this.$gamepads$ = [];
    this.$unsupportedGamepads$ = [];
    $module$exports$output$util$settings$RagnarokSettings$$.$gamepadTesterEnabled$ && (document.body.appendChild($JSCompiler_StaticMethods_initGamepadTesterElement$$(this)), this.start());
  }
  $gamepadBitmapUpdateHandler$($gamepadBitmap$jscomp$11$$) {
    for (let $gamepadIndex$$ = 0; 4 > $gamepadIndex$$; $gamepadIndex$$++) {
      0 == ($gamepadBitmap$jscomp$11$$ & 1 << $gamepadIndex$$) && (this.$gamepads$[$gamepadIndex$$] = null);
    }
  }
  $gamepadStateUpdateHandler$($count$jscomp$53$$, $index$jscomp$120$$, $buttons$jscomp$10$$, $trigger$jscomp$10$$, $axes$jscomp$11$$, $ts$jscomp$19$$, $gamepadBitmap$jscomp$12$$, $name$jscomp$91$$) {
    this.$gamepads$[$index$jscomp$120$$] = {index:$index$jscomp$120$$, buttons:$buttons$jscomp$10$$, $trigger$:$trigger$jscomp$10$$, axes:$axes$jscomp$11$$, name:$name$jscomp$91$$};
  }
  $connectUnsupportedGamepad$($gamepad$jscomp$3$$) {
    3 >= $gamepad$jscomp$3$$.index && (this.$unsupportedGamepads$[$gamepad$jscomp$3$$.index] = {index:$gamepad$jscomp$3$$.index, buttons:-1, $trigger$:-1, axes:[-1], name:$gamepad$jscomp$3$$.id});
  }
  start() {
    let $animationFrame$$, $gamepadTesterContainer$$ = document.getElementById(this.$gamepadTesterElementId$);
    if (null == $gamepadTesterContainer$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{e13a879}", "{0c955af}");
    } else {
      var $gamepadWidth$$ = 0.49 * window.innerWidth, $gamepadHeight$$ = 0.4 * window.innerHeight, $leftJoyX$$ = 0.3 * $gamepadWidth$$, $rightJoyX$$ = 0.7 * $gamepadWidth$$, $leftJoyY$$ = 0.8 * $gamepadHeight$$, $rightJoyY$$ = 0.8 * $gamepadHeight$$, $joyStickMultiplier$$ = 0.07 * $gamepadWidth$$, $getJoystickPosition$$ = $gamepad$jscomp$4$$ => $gamepad$jscomp$4$$ ? {left:{$X$:$gamepad$jscomp$4$$.axes[0], $Y$:$gamepad$jscomp$4$$.axes[1]}, right:{$X$:$gamepad$jscomp$4$$.axes[2], $Y$:$gamepad$jscomp$4$$.axes[3]}} : 
      null, $initJoystickCSS$$ = $joystick$$ => {
        $joystick$$.style.position = "absolute";
        $joystick$$.style.width = "2%";
        $joystick$$.style.height = "3.5%";
        $joystick$$.style.backgroundColor = "red";
        $joystick$$.style.borderRadius = "50%";
        $joystick$$.style.transform = "translate(-50%, -50%)";
      }, $setJoyStickPositions$$ = $gamepad$jscomp$5_joystick$jscomp$2$$ => {
        let $axes$jscomp$12$$ = $getJoystickPosition$$($gamepad$jscomp$5_joystick$jscomp$2$$);
        if (null === $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".leftStick")) {
          var $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$ = document.createElement("div");
          $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.className = "gamepadJoystickPointer leftStick";
          $initJoystickCSS$$($joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$);
          $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.left = `${$leftJoyX$$ + $axes$jscomp$12$$.left.$X$ * $joyStickMultiplier$$}px`;
          $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.top = `${$leftJoyY$$ + $axes$jscomp$12$$.left.$Y$ * $joyStickMultiplier$$}px`;
          $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".gamepadContainer").appendChild($joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$);
        } else {
          $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$ = $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".leftStick"), $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.opacity = "1", $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.left = `${$leftJoyX$$ + $joyStickMultiplier$$ * $axes$jscomp$12$$.left.$X$}px`, $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.top = `${$leftJoyY$$ + $axes$jscomp$12$$.left.$Y$ * 
          $joyStickMultiplier$$}px`;
        }
        null === $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".rightStick") ? ($joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$ = document.createElement("div"), $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.className = "gamepadJoystickPointer rightStick", $initJoystickCSS$$($joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$), $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.left = `${$rightJoyX$$ + $axes$jscomp$12$$.right.$X$ * 
        $joyStickMultiplier$$}px`, $joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$.style.top = `${$rightJoyY$$ + $axes$jscomp$12$$.right.$Y$ * $joyStickMultiplier$$}px`, $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".gamepadContainer").appendChild($joystick$jscomp$1_newJoystick_newJoystick$jscomp$1$$)) : ($gamepad$jscomp$5_joystick$jscomp$2$$ = $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$5_joystick$jscomp$2$$.index}`).querySelector(".rightStick"), 
        $gamepad$jscomp$5_joystick$jscomp$2$$.style.opacity = "1", $gamepad$jscomp$5_joystick$jscomp$2$$.style.left = ($rightJoyX$$ + $axes$jscomp$12$$.right.$X$ * $joyStickMultiplier$$).toString() + "px", $gamepad$jscomp$5_joystick$jscomp$2$$.style.top = ($rightJoyY$$ + $axes$jscomp$12$$.right.$Y$ * $joyStickMultiplier$$).toString() + "px");
      }, $renderButtons$$ = ($canvas$jscomp$3$$, $buttonIndex$$, $fill$$) => {
        var $ctx$jscomp$3$$ = $canvas$jscomp$3$$.getContext("2d");
        $ctx$jscomp$3$$.beginPath();
        $ctx$jscomp$3$$.fillStyle = $fill$$ ? "green" : "grey";
        switch($buttonIndex$$) {
          case 0:
            $ctx$jscomp$3$$.moveTo(0.14 * $canvas$jscomp$3$$.width, 0.48 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.19 * $canvas$jscomp$3$$.width, 0.48 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.165 * $canvas$jscomp$3$$.width, 0.54 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.14 * $canvas$jscomp$3$$.width, 0.48 * $canvas$jscomp$3$$.height);
            break;
          case 1:
            $ctx$jscomp$3$$.moveTo(0.14 * $canvas$jscomp$3$$.width, 0.66 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.19 * $canvas$jscomp$3$$.width, 0.66 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.165 * $canvas$jscomp$3$$.width, 0.61 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.14 * $canvas$jscomp$3$$.width, 0.66 * $canvas$jscomp$3$$.height);
            break;
          case 2:
            $ctx$jscomp$3$$.moveTo(0.09 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.09 * $canvas$jscomp$3$$.width, 0.61 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.135 * $canvas$jscomp$3$$.width, 0.57 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.09 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height);
            break;
          case 3:
            $ctx$jscomp$3$$.moveTo(0.24 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.24 * $canvas$jscomp$3$$.width, 0.61 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.195 * $canvas$jscomp$3$$.width, 0.57 * $canvas$jscomp$3$$.height);
            $ctx$jscomp$3$$.lineTo(0.24 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height);
            break;
          case 4:
            $ctx$jscomp$3$$.arc(0.7 * $canvas$jscomp$3$$.width, 0.4 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 5:
            $ctx$jscomp$3$$.arc(0.3 * $canvas$jscomp$3$$.width, 0.4 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 6:
            $ctx$jscomp$3$$.arc(0.3 * $canvas$jscomp$3$$.width, 0.8 * $canvas$jscomp$3$$.height, 0.07 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 7:
            $ctx$jscomp$3$$.arc(0.7 * $canvas$jscomp$3$$.width, 0.8 * $canvas$jscomp$3$$.height, 0.07 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 8:
            $ctx$jscomp$3$$.rect(0.13 * $canvas$jscomp$3$$.width, 0.23 * $canvas$jscomp$3$$.height, 0.07 * $canvas$jscomp$3$$.width, 0.05 * $canvas$jscomp$3$$.height);
            break;
          case 9:
            $ctx$jscomp$3$$.rect(0.815 * $canvas$jscomp$3$$.width, 0.23 * $canvas$jscomp$3$$.height, 0.07 * $canvas$jscomp$3$$.width, 0.05 * $canvas$jscomp$3$$.height);
            break;
          case 12:
            $ctx$jscomp$3$$.arc(0.85 * $canvas$jscomp$3$$.width, 0.65 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 13:
            $ctx$jscomp$3$$.arc(0.9 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 14:
            $ctx$jscomp$3$$.arc(0.8 * $canvas$jscomp$3$$.width, 0.55 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case 15:
            $ctx$jscomp$3$$.arc(0.85 * $canvas$jscomp$3$$.width, 0.45 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0, 2 * Math.PI);
            break;
          case -1:
            $ctx$jscomp$3$$.rect(0.155 * $canvas$jscomp$3$$.width, 0.07 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0.12 * $canvas$jscomp$3$$.height);
            break;
          case -2:
            $ctx$jscomp$3$$.rect(0.84 * $canvas$jscomp$3$$.width, 0.07 * $canvas$jscomp$3$$.height, 0.02 * $canvas$jscomp$3$$.width, 0.12 * $canvas$jscomp$3$$.height);
        }
        $ctx$jscomp$3$$.closePath();
        $ctx$jscomp$3$$.fill();
      }, $initGamepadDiv$$ = $gamepad$jscomp$6_gamepadContainer$$ => {
        if (null === $gamepadTesterContainer$$.querySelector(`.gamepad${$gamepad$jscomp$6_gamepadContainer$$.index}`)) {
          let $gamepadElement$$ = document.createElement("div");
          $gamepadElement$$.className = `gamepad gamepad${$gamepad$jscomp$6_gamepadContainer$$.index}`;
          var $canvas$jscomp$4_gamepadID$$ = document.createElement("p");
          $canvas$jscomp$4_gamepadID$$.className = "active";
          $canvas$jscomp$4_gamepadID$$.style.margin = "0px";
          let $gamepadIDText$$ = document.createElement("span");
          $gamepadIDText$$.className = "gamepadPlayerNumber";
          $gamepadIDText$$.style.color = "white";
          $gamepadIDText$$.style.position = "relative";
          $gamepadIDText$$.innerHTML = `P${$gamepad$jscomp$6_gamepadContainer$$.index + 1}|${$gamepad$jscomp$6_gamepadContainer$$.name}`;
          $gamepadIDText$$.style.fontSize = "1.5vw";
          $canvas$jscomp$4_gamepadID$$.appendChild($gamepadIDText$$);
          $gamepadElement$$.appendChild($canvas$jscomp$4_gamepadID$$);
          $gamepad$jscomp$6_gamepadContainer$$ = document.createElement("div");
          $gamepad$jscomp$6_gamepadContainer$$.className = "gamepadContainer";
          $gamepad$jscomp$6_gamepadContainer$$.style.position = "relative";
          $gamepad$jscomp$6_gamepadContainer$$.style.width = `${$gamepadWidth$$ + 2}px`;
          $gamepad$jscomp$6_gamepadContainer$$.style.height = `${$gamepadHeight$$}px`;
          $canvas$jscomp$4_gamepadID$$ = document.createElement("canvas");
          $canvas$jscomp$4_gamepadID$$.className = "canvas";
          $canvas$jscomp$4_gamepadID$$.style.width = `${$gamepadWidth$$}px`;
          $canvas$jscomp$4_gamepadID$$.style.height = `${$gamepadHeight$$}px`;
          $canvas$jscomp$4_gamepadID$$.style.border = "1px solid white";
          $gamepad$jscomp$6_gamepadContainer$$.appendChild($canvas$jscomp$4_gamepadID$$);
          $gamepadElement$$.appendChild($gamepad$jscomp$6_gamepadContainer$$);
          $gamepadTesterContainer$$.appendChild($gamepadElement$$);
        }
      }, $gameLoop$$ = () => {
        if (this.visible) {
          for (let $i$jscomp$44$$ = 0; $i$jscomp$44$$ < this.$gamepads$.length; $i$jscomp$44$$++) {
            var $canvas$jscomp$6_child_gamepad$jscomp$7$$ = this.$gamepads$[$i$jscomp$44$$];
            if ($canvas$jscomp$6_child_gamepad$jscomp$7$$) {
              $gamepadTesterContainer$$.querySelector(`.gamepad${$canvas$jscomp$6_child_gamepad$jscomp$7$$.index}`) || $initGamepadDiv$$($canvas$jscomp$6_child_gamepad$jscomp$7$$);
              $setJoyStickPositions$$($canvas$jscomp$6_child_gamepad$jscomp$7$$);
              var $canvas$jscomp$5_ctx$jscomp$4$$ = $gamepadTesterContainer$$.querySelector(`.gamepad${$canvas$jscomp$6_child_gamepad$jscomp$7$$.index}`).querySelector("canvas");
              for (let $buttonIndex$jscomp$1$$ = 0; 16 > $buttonIndex$jscomp$1$$; $buttonIndex$jscomp$1$$++) {
                0 != ($canvas$jscomp$6_child_gamepad$jscomp$7$$.buttons & 1 << $buttonIndex$jscomp$1$$) ? $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, $buttonIndex$jscomp$1$$, !0) : $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, $buttonIndex$jscomp$1$$, !1);
              }
              0 != ($canvas$jscomp$6_child_gamepad$jscomp$7$$.$trigger$ & 255) ? $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, -1, !0) : $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, -1, !1);
              0 != ($canvas$jscomp$6_child_gamepad$jscomp$7$$.$trigger$ & 65280) ? $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, -2, !0) : $renderButtons$$($canvas$jscomp$5_ctx$jscomp$4$$, -2, !1);
            } else {
              this.$unsupportedGamepads$[$i$jscomp$44$$] ? $gamepadTesterContainer$$.querySelector(`.gamepad${$i$jscomp$44$$}`) || ($initGamepadDiv$$(this.$unsupportedGamepads$[$i$jscomp$44$$]), $canvas$jscomp$6_child_gamepad$jscomp$7$$ = $gamepadTesterContainer$$.querySelector(`.gamepad${$i$jscomp$44$$}`).querySelector("canvas"), $canvas$jscomp$5_ctx$jscomp$4$$ = $canvas$jscomp$6_child_gamepad$jscomp$7$$.getContext("2d"), $canvas$jscomp$5_ctx$jscomp$4$$.font = "20px Arial", $canvas$jscomp$5_ctx$jscomp$4$$.fillStyle = 
              "white", $canvas$jscomp$5_ctx$jscomp$4$$.textAlign = "center", $canvas$jscomp$5_ctx$jscomp$4$$.fillText("Unsupported Gamepad", $canvas$jscomp$6_child_gamepad$jscomp$7$$.width / 2, $canvas$jscomp$6_child_gamepad$jscomp$7$$.height / 2)) : ($canvas$jscomp$6_child_gamepad$jscomp$7$$ = $gamepadTesterContainer$$.querySelector(`.gamepad${$i$jscomp$44$$}`)) && $gamepadTesterContainer$$.removeChild($canvas$jscomp$6_child_gamepad$jscomp$7$$);
            }
          }
          $animationFrame$$ = window.requestAnimationFrame($gameLoop$$);
        } else {
          window.cancelAnimationFrame($animationFrame$$);
        }
      };
      $gameLoop$$();
    }
  }
  $finalizeGamepadData$() {
  }
  $virtualGamepadUpdateHandler$() {
  }
};
var $module$exports$output$input$virtualgamepad$VirtualGamepadHandler$$ = class {
  constructor($virtualGamepad$$) {
    this.$g$ = $virtualGamepad$$;
  }
  enable() {
    this.$g$.$v_enabled$ = !0;
  }
  disable() {
    this.$g$.$v_enabled$ = !1;
  }
  updateInput($buttons$jscomp$12$$, $trigger$jscomp$12$$, $axes$jscomp$14$$) {
    this.$g$.$v_enabled$ && ($JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$()), this.$g$.$v_buttons$ = $buttons$jscomp$12$$, this.$g$.$v_trigger$ = $trigger$jscomp$12$$, this.$g$.$v_axes$ = $axes$jscomp$14$$, this.$g$.$v_updated$ = !0);
  }
};
class $module$contents$output$input$gamepadhandler_GamepadSnapshot$$ {
  constructor($controller$jscomp$3$$) {
    this.buttons = $controller$jscomp$3$$.$getButtonMapping$($controller$jscomp$3$$.$device$);
    this.axes = $controller$jscomp$3$$.$getAxesMapping$($controller$jscomp$3$$.$device$);
    this.$triggers$ = $controller$jscomp$3$$.$getTriggerMapping$($controller$jscomp$3$$.$device$);
    this.timestamp = performance.now();
  }
}
const $module$contents$output$input$gamepadhandler_EMPTY_EFFECT$$ = {startDelay:0, duration:0, weakMagnitude:0, strongMagnitude:0};
function $JSCompiler_StaticMethods_setGamepadDataSender$$($JSCompiler_StaticMethods_setGamepadDataSender$self$$, $gamepadDataSender$$) {
  $JSCompiler_StaticMethods_setGamepadDataSender$self$$.$o$ && ($JSCompiler_StaticMethods_removeGamepadDataHandler$$($JSCompiler_StaticMethods_setGamepadDataSender$self$$, $JSCompiler_StaticMethods_setGamepadDataSender$self$$.$o$), $JSCompiler_StaticMethods_resetGamepadDataHandlerState$$($JSCompiler_StaticMethods_setGamepadDataSender$self$$, $JSCompiler_StaticMethods_setGamepadDataSender$self$$.$o$));
  $JSCompiler_StaticMethods_setGamepadDataSender$self$$.$o$ = $gamepadDataSender$$;
  $JSCompiler_StaticMethods_setGamepadDataSender$self$$.$l$.push($JSCompiler_StaticMethods_setGamepadDataSender$self$$.$o$);
}
function $JSCompiler_StaticMethods_setGamepadRSDMM$$($JSCompiler_StaticMethods_setGamepadRSDMM$self$$, $rsdmmHandler$jscomp$1$$) {
  $module$exports$output$util$settings$RagnarokSettings$$.$rsdmm$ && ($JSCompiler_StaticMethods_setGamepadRSDMM$self$$.$m$ && $JSCompiler_StaticMethods_removeGamepadDataHandler$$($JSCompiler_StaticMethods_setGamepadRSDMM$self$$, $JSCompiler_StaticMethods_setGamepadRSDMM$self$$.$m$), $JSCompiler_StaticMethods_setGamepadRSDMM$self$$.$m$ = $rsdmmHandler$jscomp$1$$);
}
function $JSCompiler_StaticMethods_removeGamepadDataHandler$$($JSCompiler_StaticMethods_removeGamepadDataHandler$self$$, $gamepadDataHandler_index$jscomp$127$$) {
  $gamepadDataHandler_index$jscomp$127$$ = $JSCompiler_StaticMethods_removeGamepadDataHandler$self$$.$l$.indexOf($gamepadDataHandler_index$jscomp$127$$);
  -1 < $gamepadDataHandler_index$jscomp$127$$ && $JSCompiler_StaticMethods_removeGamepadDataHandler$self$$.$l$.splice($gamepadDataHandler_index$jscomp$127$$, 1);
}
function $JSCompiler_StaticMethods_JSC$3007_enableUserInput$$($JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$) {
  var $_a$jscomp$146$$, $_b$jscomp$63$$;
  $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.$v$ = !0;
  $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.allowHaptics = null !== ($_b$jscomp$63$$ = null !== ($_a$jscomp$146$$ = $module$exports$output$util$settings$RagnarokSettings$$.allowHaptics) && void 0 !== $_a$jscomp$146$$ ? $_a$jscomp$146$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.allowHaptics) && void 0 !== $_b$jscomp$63$$ ? $_b$jscomp$63$$ : !0;
  $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$);
  $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$ && ($JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.windowAddEventListener("gamepadconnected", $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.$U$), $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.windowAddEventListener("gamepaddisconnected", $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.$V$), $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$), 
  $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.$u$ && $JSCompiler_StaticMethods_JSC$3007_enableUserInput$self$$.$m$.start());
}
function $JSCompiler_StaticMethods_addGamepadCommon$$($JSCompiler_StaticMethods_addGamepadCommon$self$$, $index$jscomp$125_msMask$$, $xinput$$) {
  var $_a$jscomp$136$$, $_b$jscomp$54$$;
  0 == $JSCompiler_StaticMethods_addGamepadCommon$self$$.$j$ && ($JSCompiler_StaticMethods_addGamepadCommon$self$$.gamepadPollInterval = null !== ($_b$jscomp$54$$ = null !== ($_a$jscomp$136$$ = $module$exports$output$util$settings$RagnarokSettings$$.gamepadPollInterval) && void 0 !== $_a$jscomp$136$$ ? $_a$jscomp$136$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.gamepadPollInterval) && void 0 !== $_b$jscomp$54$$ ? $_b$jscomp$54$$ : 4, $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_addGamepadCommon$self$$));
  $JSCompiler_StaticMethods_addGamepadCommon$self$$.$j$ |= 1 << $index$jscomp$125_msMask$$;
  $index$jscomp$125_msMask$$ = 1 << $index$jscomp$125_msMask$$ + 8;
  $JSCompiler_StaticMethods_addGamepadCommon$self$$.$j$ = $xinput$$ ? $JSCompiler_StaticMethods_addGamepadCommon$self$$.$j$ | $index$jscomp$125_msMask$$ : $JSCompiler_StaticMethods_addGamepadCommon$self$$.$j$ & ~$index$jscomp$125_msMask$$;
}
function $JSCompiler_StaticMethods_getEventMap$$($axes$jscomp$15_data$jscomp$104$$) {
  const $buttons$jscomp$14$$ = $axes$jscomp$15_data$jscomp$104$$.buttons, $triggers$$ = $axes$jscomp$15_data$jscomp$104$$.$triggers$;
  $axes$jscomp$15_data$jscomp$104$$ = $axes$jscomp$15_data$jscomp$104$$.axes;
  return "A:" + (0 !== (4096 & $buttons$jscomp$14$$) ? "1" : "0") + "_B:" + (0 !== (8192 & $buttons$jscomp$14$$) ? "1" : "0") + "_X:" + (0 !== (16384 & $buttons$jscomp$14$$) ? "1" : "0") + "_Y:" + (0 !== (32768 & $buttons$jscomp$14$$) ? "1" : "0") + "_LB:" + (0 !== (256 & $buttons$jscomp$14$$) ? "1" : "0") + "_LSB:" + (0 !== (64 & $buttons$jscomp$14$$) ? "1" : "0") + "_RB:" + (0 !== (512 & $buttons$jscomp$14$$) ? "1" : "0") + "_RSB:" + (0 !== (128 & $buttons$jscomp$14$$) ? "1" : "0") + "_LT:" + (0 !== 
  (255 & $triggers$$) ? "1" : "0") + "_RT:" + (0 !== (65280 & $triggers$$) ? "1" : "0") + "_DU:" + (0 !== (1 & $buttons$jscomp$14$$) ? "1" : "0") + "_DD:" + (0 !== (2 & $buttons$jscomp$14$$) ? "1" : "0") + "_DL:" + (0 !== (4 & $buttons$jscomp$14$$) ? "1" : "0") + "_DR:" + (0 !== (8 & $buttons$jscomp$14$$) ? "1" : "0") + "_ST:" + (0 !== (16 & $buttons$jscomp$14$$) ? "1" : "0") + "_BA:" + (0 !== (32 & $buttons$jscomp$14$$) ? "1" : "0") + "_LS:" + (2 <= $axes$jscomp$15_data$jscomp$104$$.length && (2 === 
  $axes$jscomp$15_data$jscomp$104$$[0] || 2 === $axes$jscomp$15_data$jscomp$104$$[1]) ? "1" : "0") + "_RS:" + (4 !== $axes$jscomp$15_data$jscomp$104$$.length || 2 !== $axes$jscomp$15_data$jscomp$104$$[2] && 2 !== $axes$jscomp$15_data$jscomp$104$$[3] ? "0" : "1");
}
function $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$$($JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$) {
  var $_a$jscomp$135$$;
  $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$s$ && (null === ($_a$jscomp$135$$ = $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$I$) || void 0 === $_a$jscomp$135$$ ? void 0 : $JSCompiler_StaticMethods_emitGamepadEvent$$($_a$jscomp$135$$, $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$s$.$gamepadName$, "0", "0", 0, !1, !0, $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$s$.state, $JSCompiler_StaticMethods_getEventMap$$($JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$s$)), 
  $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$self$$.$s$ = void 0);
}
function $JSCompiler_StaticMethods_removeGamepadCommon$$($JSCompiler_StaticMethods_removeGamepadCommon$self$$, $index$jscomp$126$$) {
  if ($index$jscomp$126$$ === $JSCompiler_StaticMethods_removeGamepadCommon$self$$.$g$.$v_index$) {
    let $details$jscomp$6$$ = !!$JSCompiler_StaticMethods_removeGamepadCommon$self$$.$h$[$index$jscomp$126$$];
    if ($JSCompiler_StaticMethods_removeGamepadCommon$self$$.$g$.$v_connected$ || $details$jscomp$6$$) {
      return !1;
    }
  }
  $JSCompiler_StaticMethods_removeGamepadCommon$self$$.$j$ &= ~(1 << $index$jscomp$126$$);
  $JSCompiler_StaticMethods_removeGamepadCommon$self$$.$j$ &= ~(1 << $index$jscomp$126$$ + 8);
  0 == $JSCompiler_StaticMethods_removeGamepadCommon$self$$.$j$ && ($JSCompiler_StaticMethods_removeGamepadCommon$self$$.gamepadPollInterval = 100, $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_removeGamepadCommon$self$$));
  return !0;
}
function $JSCompiler_StaticMethods_resetGamepadTimer$$($JSCompiler_StaticMethods_resetGamepadTimer$self$$) {
  0 != $JSCompiler_StaticMethods_resetGamepadTimer$self$$.$C$ && (clearInterval($JSCompiler_StaticMethods_resetGamepadTimer$self$$.$C$), $JSCompiler_StaticMethods_resetGamepadTimer$self$$.$C$ = 0);
  $JSCompiler_StaticMethods_resetGamepadTimer$self$$.$C$ = $JSCompiler_StaticMethods_resetGamepadTimer$self$$.$v$ && !$module$exports$output$util$settings$RagnarokSettings$$.$gamepadRaf$ ? window.setInterval($JSCompiler_StaticMethods_resetGamepadTimer$self$$.$ia$, $JSCompiler_StaticMethods_resetGamepadTimer$self$$.gamepadPollInterval) : 0;
}
function $JSCompiler_StaticMethods_isSuitableGamepad$$($JSCompiler_StaticMethods_isSuitableGamepad$self$$, $gamepad$jscomp$8$$) {
  return "standard" == $gamepad$jscomp$8$$.mapping || $JSCompiler_StaticMethods_isSuitableGamepad$self$$.$P$ || $JSCompiler_StaticMethods_isSuitableGamepad$self$$.$O$ || $JSCompiler_StaticMethods_isDualSenseGamepad$$($JSCompiler_StaticMethods_isSuitableGamepad$self$$, $gamepad$jscomp$8$$) || $JSCompiler_StaticMethods_isXboxSeries$$($gamepad$jscomp$8$$) || $JSCompiler_StaticMethods_isXboxSeriesWired$$($JSCompiler_StaticMethods_isSuitableGamepad$self$$, $gamepad$jscomp$8$$) ? !0 : !1;
}
function $JSCompiler_StaticMethods_resetGamepadDataHandlerState$$($JSCompiler_StaticMethods_resetGamepadDataHandlerState$self$$, $gamepadDataHandler$jscomp$2$$) {
  for (let $details$jscomp$7$$ of $JSCompiler_StaticMethods_resetGamepadDataHandlerState$self$$.$h$) {
    if (!$details$jscomp$7$$) {
      continue;
    }
    let $controller$jscomp$4$$ = $details$jscomp$7$$.$device$;
    $JSCompiler_StaticMethods_isSuitableGamepad$$($JSCompiler_StaticMethods_resetGamepadDataHandlerState$self$$, $controller$jscomp$4$$) && ($gamepadDataHandler$jscomp$2$$.$gamepadStateUpdateHandler$(0, $controller$jscomp$4$$.index, 0, 0, [0, 0, 0, 0], performance.now(), $JSCompiler_StaticMethods_resetGamepadDataHandlerState$self$$.$j$, $controller$jscomp$4$$.id), $gamepadDataHandler$jscomp$2$$.$finalizeGamepadData$(1));
  }
}
function $JSCompiler_StaticMethods_toggleRsdmmMode$$($JSCompiler_StaticMethods_toggleRsdmmMode$self$$, $enable$jscomp$10$$) {
  const $alreadyActive$$ = $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$u$;
  $enable$jscomp$10$$ != $alreadyActive$$ && ($alreadyActive$$ ? ($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$ && ($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$.stop(), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$.reset(), $JSCompiler_StaticMethods_removeGamepadDataHandler$$($JSCompiler_StaticMethods_toggleRsdmmMode$self$$, $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$u$ = !1), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$o$ && 
  $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$l$.push($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$o$)) : ($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$o$ && ($JSCompiler_StaticMethods_removeGamepadDataHandler$$($JSCompiler_StaticMethods_toggleRsdmmMode$self$$, $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$o$), $JSCompiler_StaticMethods_resetGamepadDataHandlerState$$($JSCompiler_StaticMethods_toggleRsdmmMode$self$$, $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$o$)), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$ && 
  ($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$l$.push($JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$v$ && $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$m$.start(), $JSCompiler_StaticMethods_toggleRsdmmMode$self$$.$u$ = !0)));
}
function $JSCompiler_StaticMethods_getPlugState$$($JSCompiler_StaticMethods_getPlugState$self$$, $state$jscomp$7$$, $onEnd$$ = !1) {
  $JSCompiler_StaticMethods_getPlugState$self$$.$J$ || ($state$jscomp$7$$ |= 2);
  $onEnd$$ && ($state$jscomp$7$$ |= 1);
  return $state$jscomp$7$$;
}
function $JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getTelemetryData$self$$, $controller$jscomp$5$$, $gamepadName$jscomp$1$$) {
  return {$gamepadName$:$gamepadName$jscomp$1$$, state:$JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index] ? $JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index].$telemetryData$.state : $JSCompiler_StaticMethods_getPlugState$$($JSCompiler_StaticMethods_getTelemetryData$self$$, 0), buttons:$JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index] ? $JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index].$telemetryData$.buttons : 
  0, $triggers$:$JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index] ? $JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index].$telemetryData$.$triggers$ : 0, axes:$JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index] ? $JSCompiler_StaticMethods_getTelemetryData$self$$.$h$[$controller$jscomp$5$$.index].$telemetryData$.axes : []};
}
function $JSCompiler_StaticMethods_getStandardGamepadDetail$$($JSCompiler_StaticMethods_getStandardGamepadDetail$self$$, $controller$jscomp$6$$) {
  return {$device$:$controller$jscomp$6$$, $standard$:!0, $getButtonMapping$:$JSCompiler_StaticMethods_getStandardGamepadDetail$self$$.$M$, $getTriggerMapping$:$JSCompiler_StaticMethods_getStandardGamepadDetail$self$$.$N$, $getAxesMapping$:$JSCompiler_StaticMethods_getStandardGamepadDetail$self$$.$L$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getStandardGamepadDetail$self$$, $controller$jscomp$6$$, "Standard Gamepad")};
}
function $JSCompiler_StaticMethods_isDualSenseGamepad$$($JSCompiler_StaticMethods_isDualSenseGamepad$self$$, $gamepad$jscomp$12$$) {
  return !$JSCompiler_StaticMethods_isDualSenseGamepad$self$$.$aa$ && "standard" != $gamepad$jscomp$12$$.mapping && $gamepad$jscomp$12$$.id.includes("Vendor: 054c") && $gamepad$jscomp$12$$.id.includes("Product: 0ce6");
}
function $JSCompiler_StaticMethods_isXboxSeries$$($gamepad$jscomp$13$$) {
  return "standard" != $gamepad$jscomp$13$$.mapping && $gamepad$jscomp$13$$.id.includes("Vendor: 045e") && $gamepad$jscomp$13$$.id.includes("Product: 0b13");
}
function $JSCompiler_StaticMethods_isXboxSeriesWired$$($JSCompiler_StaticMethods_isXboxSeriesWired$self$$, $gamepad$jscomp$14$$) {
  return $JSCompiler_StaticMethods_isXboxSeriesWired$self$$.$H$ && "standard" != $gamepad$jscomp$14$$.mapping && $gamepad$jscomp$14$$.id.includes("Vendor: 045e") && $gamepad$jscomp$14$$.id.includes("Product: 0b12");
}
function $JSCompiler_StaticMethods_getGamepadDetail$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$) {
  if ($JSCompiler_StaticMethods_getGamepadDetail$self$$.$P$) {
    return $JSCompiler_StaticMethods_getStandardGamepadDetail$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$);
  }
  if ($JSCompiler_StaticMethods_getGamepadDetail$self$$.$O$) {
    return {$device$:$controller$jscomp$13$$, $standard$:!0, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$ma$, $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$N$, $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$la$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$, "Standard Gamepad")};
  }
  if ($JSCompiler_StaticMethods_getGamepadDetail$self$$.$ba$) {
    return null;
  }
  if ("standard" != $controller$jscomp$13$$.mapping || !$controller$jscomp$13$$.id.includes("Vendor: 0955") || $JSCompiler_StaticMethods_getGamepadDetail$self$$.$da$ || $JSCompiler_StaticMethods_getGamepadDetail$self$$.$ca$) {
    if ($controller$jscomp$13$$.id.includes("Vendor: 045e") && ($controller$jscomp$13$$.id.includes("Product: 0b13") || $controller$jscomp$13$$.id.includes("Product: 0b20") || $controller$jscomp$13$$.id.includes("Product: 0b05") || $controller$jscomp$13$$.id.includes("Product: 02e0") || $controller$jscomp$13$$.id.includes("Product: 02fd"))) {
      return {$device$:$controller$jscomp$13$$, $standard$:!0, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$M$, $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$N$, $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$L$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$, "Standard Gamepad"), $simplifiedHaptics$:!0};
    }
    if ("standard" == $controller$jscomp$13$$.mapping) {
      return $JSCompiler_StaticMethods_getStandardGamepadDetail$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$);
    }
    if ($JSCompiler_StaticMethods_isDualSenseGamepad$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$)) {
      return {$device$:$controller$jscomp$13$$, $standard$:!1, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$ka$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$), $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$K$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$, 3, 4), $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$Z$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, 
      $controller$jscomp$13$$, "Dual Sense Gamepad")};
    }
    if ($JSCompiler_StaticMethods_isXboxSeries$$($controller$jscomp$13$$)) {
      return {$device$:$controller$jscomp$13$$, $standard$:!1, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$oa$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$), $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$K$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$, 3, 4), $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$Z$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, 
      $controller$jscomp$13$$, "Xbox Series Gamepad")};
    }
    if ($JSCompiler_StaticMethods_isXboxSeriesWired$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$)) {
      return {$device$:$controller$jscomp$13$$, $standard$:!1, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$pa$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$), $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$K$.bind($JSCompiler_StaticMethods_getGamepadDetail$self$$, 2, 5), $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$ja$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, 
      $controller$jscomp$13$$, "Xbox Series Wired Gamepad")};
    }
    $module$exports$rtcutils_core$output$logger$Log$$.e("{515a922}", "{be4bfd9}", $controller$jscomp$13$$);
    return null;
  }
  return {$device$:$controller$jscomp$13$$, $standard$:!0, $getButtonMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$M$, $getTriggerMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$na$, $getAxesMapping$:$JSCompiler_StaticMethods_getGamepadDetail$self$$.$L$, $telemetryData$:$JSCompiler_StaticMethods_getTelemetryData$$($JSCompiler_StaticMethods_getGamepadDetail$self$$, $controller$jscomp$13$$, "Nvidia Shield Gamepad")};
}
function $JSCompiler_StaticMethods_addGamepad$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$, $index$jscomp$128$$) {
  if ($JSCompiler_StaticMethods_isSuitableGamepad$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$)) {
    var $gamepadDataHandler$jscomp$5_gamepadDetail$$ = $JSCompiler_StaticMethods_getGamepadDetail$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$);
    if ($gamepadDataHandler$jscomp$5_gamepadDetail$$) {
      $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.hapticsSupported = $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.hapticsSupported || $JSCompiler_StaticMethods_hasHaptics$$($gamepadDataHandler$jscomp$5_gamepadDetail$$.$device$);
      $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$);
      const $oldBitmap$$ = $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$j$;
      var $gamepadDataHandler$jscomp$4_prevGpValid$$ = !!$JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$h$[$index$jscomp$128$$];
      $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$h$[$index$jscomp$128$$] = $gamepadDataHandler$jscomp$5_gamepadDetail$$;
      void 0 === $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$A$[$index$jscomp$128$$] && ($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$A$[$index$jscomp$128$$] = 0);
      $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$ = $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$.id.includes("Xbox") || $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$.id.includes("xinput");
      $JSCompiler_StaticMethods_addGamepadCommon$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $index$jscomp$128$$, $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$);
      ($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$ = $oldBitmap$$ !== $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$j$) && $module$exports$rtcutils_core$output$logger$Log$$.i("{515a922}", "{96051ae}", $gamepadDataHandler$jscomp$4_prevGpValid$$ ? "Changing" : "Adding", $index$jscomp$128$$, $JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$, $gamepadDataHandler$jscomp$5_gamepadDetail$$.$device$.id);
      return $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$;
    }
    for ($gamepadDataHandler$jscomp$4_prevGpValid$$ of $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$l$) {
      $gamepadDataHandler$jscomp$4_prevGpValid$$.$connectUnsupportedGamepad$($JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$);
    }
    return $JSCompiler_StaticMethods_deleteGamepad$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $index$jscomp$128$$);
  }
  for ($gamepadDataHandler$jscomp$5_gamepadDetail$$ of $JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$.$l$) {
    $gamepadDataHandler$jscomp$5_gamepadDetail$$.$connectUnsupportedGamepad$($JSCompiler_inline_result$jscomp$128_gamepad$jscomp$16$$);
  }
  return $JSCompiler_StaticMethods_deleteGamepad$$($JSCompiler_StaticMethods_addGamepad$self_bitmapChanged$$, $index$jscomp$128$$);
}
function $JSCompiler_StaticMethods_deleteGamepad$$($JSCompiler_StaticMethods_deleteGamepad$self$$, $index$jscomp$131$$, $reportTelemetry$$ = !1, $isPrimary$jscomp$1$$) {
  var $_a$jscomp$137$$, $_b$jscomp$55$$;
  let $details$jscomp$10$$ = $JSCompiler_StaticMethods_deleteGamepad$self$$.$h$[$index$jscomp$131$$];
  if ($details$jscomp$10$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{515a922}", "{1b26b8a}", $index$jscomp$131$$, $details$jscomp$10$$.$device$.id);
    const $lastSnapshot$$ = $JSCompiler_StaticMethods_deleteGamepad$self$$.$B$[$index$jscomp$131$$];
    if ($lastSnapshot$$) {
      const $timeSinceUpdate$$ = performance.now() - $lastSnapshot$$.timestamp;
      3000 <= $timeSinceUpdate$$ && $lastSnapshot$$.axes.some($x$jscomp$140$$ => 0.5 < Math.abs($x$jscomp$140$$)) && ($module$exports$rtcutils_core$output$logger$Log$$.w("{515a922}", "{fde5612}", $timeSinceUpdate$$, $lastSnapshot$$.axes.join()), null === ($_a$jscomp$137$$ = $JSCompiler_StaticMethods_deleteGamepad$self$$.$I$) || void 0 === $_a$jscomp$137$$ ? void 0 : $_a$jscomp$137$$.$emitDebugEvent$("GamepadStuck", $details$jscomp$10$$.$device$.id, $timeSinceUpdate$$.toString(), $lastSnapshot$$.axes.join()));
    }
    if ($reportTelemetry$$) {
      const [$vid__tsickle_destructured_1$$, $pid__tsickle_destructured_2$$] = $JSCompiler_StaticMethods_getDeviceIds$$($details$jscomp$10$$.$device$.id);
      null === ($_b$jscomp$55$$ = $JSCompiler_StaticMethods_deleteGamepad$self$$.$I$) || void 0 === $_b$jscomp$55$$ ? void 0 : $JSCompiler_StaticMethods_emitGamepadEvent$$($_b$jscomp$55$$, $details$jscomp$10$$.$telemetryData$.$gamepadName$, $vid__tsickle_destructured_1$$, $pid__tsickle_destructured_2$$, $details$jscomp$10$$.$device$.index, $details$jscomp$10$$.$device$.$g$ ? 0 < $details$jscomp$10$$.$device$.$g$.length : !1, null !== $isPrimary$jscomp$1$$ && void 0 !== $isPrimary$jscomp$1$$ ? $isPrimary$jscomp$1$$ : 
      $JSCompiler_StaticMethods_isPrimaryGamepad$$($JSCompiler_StaticMethods_deleteGamepad$self$$, $details$jscomp$10$$.$device$.index), $details$jscomp$10$$.$telemetryData$.state, $JSCompiler_StaticMethods_getEventMap$$($details$jscomp$10$$.$telemetryData$));
    }
    delete $JSCompiler_StaticMethods_deleteGamepad$self$$.$h$[$index$jscomp$131$$];
    delete $JSCompiler_StaticMethods_deleteGamepad$self$$.$A$[$index$jscomp$131$$];
    delete $JSCompiler_StaticMethods_deleteGamepad$self$$.$B$[$index$jscomp$131$$];
    $JSCompiler_StaticMethods_deleteGamepad$self$$.hapticsSupported = $JSCompiler_StaticMethods_isHapticsSupported$$($JSCompiler_StaticMethods_deleteGamepad$self$$);
    $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_deleteGamepad$self$$);
    return $JSCompiler_StaticMethods_removeGamepadCommon$$($JSCompiler_StaticMethods_deleteGamepad$self$$, $index$jscomp$131$$);
  }
  return !1;
}
function $JSCompiler_StaticMethods_getDeviceIds$$($deviceId_groups$jscomp$1$$) {
  let $result$jscomp$19$$ = ["-1", "-1"];
  ($deviceId_groups$jscomp$1$$ = /Vendor:[ ]+([\w\d]+).+Product:[ ]+([\w\d]+)/.exec($deviceId_groups$jscomp$1$$)) && 3 <= $deviceId_groups$jscomp$1$$.length && ($result$jscomp$19$$ = [$deviceId_groups$jscomp$1$$[1], $deviceId_groups$jscomp$1$$[2]]);
  return $result$jscomp$19$$;
}
function $JSCompiler_StaticMethods_hasHaptics$$($controller$jscomp$27$$) {
  var $_a$jscomp$148$$;
  return "dual-rumble" == (null === ($_a$jscomp$148$$ = $controller$jscomp$27$$.vibrationActuator) || void 0 === $_a$jscomp$148$$ ? void 0 : $_a$jscomp$148$$.type);
}
function $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$) {
  var $_a$jscomp$147$$, $_b$jscomp$64$$;
  $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$D$ = $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$v$ && $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.hapticsSupported;
  var $enable$jscomp$inline_978_gamepads$jscomp$1$$ = $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$D$, $_a$jscomp$inline_979$$;
  if ($JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$$$ != $enable$jscomp$inline_978_gamepads$jscomp$1$$ && ($JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$$$ = $enable$jscomp$inline_978_gamepads$jscomp$1$$, $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.allowHaptics)) {
    for (const $gamepadDataHandler$jscomp$inline_980$$ of $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$l$) {
      null === ($_a$jscomp$inline_979$$ = $gamepadDataHandler$jscomp$inline_980$$.$sendGamepadHapticsControl$) || void 0 === $_a$jscomp$inline_979$$ ? void 0 : $_a$jscomp$inline_979$$.call($gamepadDataHandler$jscomp$inline_980$$, $enable$jscomp$inline_978_gamepads$jscomp$1$$);
    }
  }
  if (!$JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$D$) {
    $enable$jscomp$inline_978_gamepads$jscomp$1$$ = navigator.getGamepads();
    for (let $gamepad$jscomp$19$$ of $enable$jscomp$inline_978_gamepads$jscomp$1$$) {
      $gamepad$jscomp$19$$ && ($JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$F$[$gamepad$jscomp$19$$.index] = 0, $JSCompiler_StaticMethods_setAndSendHapticsEnabled$self$$.$G$[$gamepad$jscomp$19$$.index] = 0, null === ($_b$jscomp$64$$ = null === ($_a$jscomp$147$$ = $gamepad$jscomp$19$$.vibrationActuator) || void 0 === $_a$jscomp$147$$ ? void 0 : $_a$jscomp$147$$.playEffect) || void 0 === $_b$jscomp$64$$ ? void 0 : $_b$jscomp$64$$.call($_a$jscomp$147$$, "dual-rumble", $module$contents$output$input$gamepadhandler_EMPTY_EFFECT$$));
    }
  }
}
function $JSCompiler_StaticMethods_isPrimaryGamepad$$($JSCompiler_StaticMethods_isPrimaryGamepad$self$$, $index$jscomp$130$$) {
  let $result$jscomp$20$$ = !1;
  for (const $details$jscomp$9$$ of $JSCompiler_StaticMethods_isPrimaryGamepad$self$$.$h$) {
    if ($details$jscomp$9$$) {
      $index$jscomp$130$$ === $details$jscomp$9$$.$device$.index && ($result$jscomp$20$$ = !0);
      break;
    }
  }
  return $result$jscomp$20$$;
}
function $JSCompiler_StaticMethods_isHapticsSupported$$($JSCompiler_StaticMethods_isHapticsSupported$self$$) {
  let $supported$jscomp$1$$ = !1;
  for (let $details$jscomp$12$$ of $JSCompiler_StaticMethods_isHapticsSupported$self$$.$h$) {
    $details$jscomp$12$$ && ($supported$jscomp$1$$ = $supported$jscomp$1$$ || $JSCompiler_StaticMethods_hasHaptics$$($details$jscomp$12$$.$device$));
  }
  return $supported$jscomp$1$$;
}
function $JSCompiler_StaticMethods_scangamepads$$($JSCompiler_StaticMethods_scangamepads$self$$) {
  let $sendUpdate$$ = !1;
  $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_enabled$ && !$JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ ? $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ ? $sendUpdate$$ = !1 : ($module$exports$rtcutils_core$output$logger$Log$$.i("{515a922}", "{132d93a}", $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_index$), $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ = !0, $JSCompiler_StaticMethods_scangamepads$self$$.$s$ = {$gamepadName$:"Nvidia Virtual Gamepad", 
  state:0, buttons:0, $triggers$:0, axes:[]}, $JSCompiler_StaticMethods_addGamepadCommon$$($JSCompiler_StaticMethods_scangamepads$self$$, $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_index$, !1), $sendUpdate$$ = !0) : !$JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_enabled$ && $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ && ($JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ ? ($module$exports$rtcutils_core$output$logger$Log$$.i("{515a922}", "{98ac7c2}", 
  $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_index$), $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_connected$ = !1, $JSCompiler_StaticMethods_sendVirtualGamepadTelemetry$$($JSCompiler_StaticMethods_scangamepads$self$$), $sendUpdate$$ = $JSCompiler_StaticMethods_removeGamepadCommon$$($JSCompiler_StaticMethods_scangamepads$self$$, $JSCompiler_StaticMethods_scangamepads$self$$.$g$.$v_index$)) : $sendUpdate$$ = !1);
  let $gamepads$$ = navigator.getGamepads();
  for (var $i$jscomp$46$$ = 0; $i$jscomp$46$$ < $gamepads$$.length; $i$jscomp$46$$++) {
    if ($gamepad$jscomp$inline_993_gp$$ = $gamepads$$[$i$jscomp$46$$]) {
      var $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$ = void 0, $_a$jscomp$inline_989$$ = void 0;
      if (void 0 != $gamepad$jscomp$inline_993_gp$$.id && $gamepad$jscomp$inline_993_gp$$.id == (null === ($JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$ = null === ($_a$jscomp$inline_989$$ = $JSCompiler_StaticMethods_scangamepads$self$$.$h$[$i$jscomp$46$$]) || void 0 === $_a$jscomp$inline_989$$ ? void 0 : $_a$jscomp$inline_989$$.$device$) || void 0 === $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$ ? void 0 : $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$.id)) {
        $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$ = $JSCompiler_StaticMethods_scangamepads$self$$;
        var $gamepad$jscomp$inline_993_gp$$ = $gamepad$jscomp$inline_993_gp$$;
        $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$.$h$[$i$jscomp$46$$].$device$ = $gamepad$jscomp$inline_993_gp$$;
        $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$.hapticsSupported = $JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$.hapticsSupported || $JSCompiler_StaticMethods_hasHaptics$$($gamepad$jscomp$inline_993_gp$$);
        $JSCompiler_StaticMethods_setAndSendHapticsEnabled$$($JSCompiler_StaticMethods_updateGamepad$self$jscomp$inline_992__b$jscomp$inline_990$$);
      } else {
        $JSCompiler_StaticMethods_addGamepad$$($JSCompiler_StaticMethods_scangamepads$self$$, $gamepad$jscomp$inline_993_gp$$, $i$jscomp$46$$) && ($sendUpdate$$ = !0);
      }
    } else {
      $JSCompiler_StaticMethods_deleteGamepad$$($JSCompiler_StaticMethods_scangamepads$self$$, $i$jscomp$46$$, !0) && ($sendUpdate$$ = !0);
    }
  }
  $sendUpdate$$ && $JSCompiler_StaticMethods_scangamepads$self$$.$gamepadBitmapUpdateHandler$();
  $JSCompiler_StaticMethods_scangamepads$self$$.$J$ = !0;
}
function $JSCompiler_StaticMethods_getDpadFromAxis$$($axisValue$$) {
  switch(Number.parseFloat((null !== $axisValue$$ && void 0 !== $axisValue$$ ? $axisValue$$ : 0).toFixed(5))) {
    case 0.71429:
      return 4;
    case -0.42857:
      return 8;
    case -1.0:
      return 1;
    case 0.14286:
      return 2;
    case 1.28571:
      return 0;
    case 1.0:
      return 5;
    case -0.71429:
      return 9;
    case 0.42857:
      return 6;
    case -0.14286:
      return 10;
    default:
      return 0;
  }
}
function $JSCompiler_StaticMethods_getDpadFromTwoAxes$$($horiz$jscomp$1$$, $vert$jscomp$1$$) {
  return (0 > $vert$jscomp$1$$ ? 1 : 0) | (0 < $vert$jscomp$1$$ ? 2 : 0) | (0 > $horiz$jscomp$1$$ ? 4 : 0) | (0 < $horiz$jscomp$1$$ ? 8 : 0) | 0;
}
function $JSCompiler_StaticMethods_updateGamepadTelemetry$$($telemetry$jscomp$12$$, $buttons$jscomp$22$$, $trigger$jscomp$14$$, $axes$jscomp$18$$) {
  $telemetry$jscomp$12$$.buttons |= $buttons$jscomp$22$$;
  $telemetry$jscomp$12$$.$triggers$ |= $trigger$jscomp$14$$;
  0 === $telemetry$jscomp$12$$.axes.length ? $telemetry$jscomp$12$$.axes = [$axes$jscomp$18$$[0], $axes$jscomp$18$$[1], $axes$jscomp$18$$[2], $axes$jscomp$18$$[3]] : ($telemetry$jscomp$12$$.axes[0] = 2 == $telemetry$jscomp$12$$.axes[0] ? 2 : $telemetry$jscomp$12$$.axes[0] !== $axes$jscomp$18$$[0] ? 2 : $telemetry$jscomp$12$$.axes[0], $telemetry$jscomp$12$$.axes[1] = 2 == $telemetry$jscomp$12$$.axes[1] ? 2 : $telemetry$jscomp$12$$.axes[1] !== $axes$jscomp$18$$[1] ? 2 : $telemetry$jscomp$12$$.axes[1], 
  $telemetry$jscomp$12$$.axes[2] = 2 == $telemetry$jscomp$12$$.axes[2] ? 2 : $telemetry$jscomp$12$$.axes[2] !== $axes$jscomp$18$$[2] ? 2 : $telemetry$jscomp$12$$.axes[2], $telemetry$jscomp$12$$.axes[3] = 2 == $telemetry$jscomp$12$$.axes[3] ? 2 : $telemetry$jscomp$12$$.axes[3] !== $axes$jscomp$18$$[3] ? 2 : $telemetry$jscomp$12$$.axes[3]);
}
function $JSCompiler_StaticMethods_getBitmap$$($JSCompiler_StaticMethods_getBitmap$self$$) {
  $JSCompiler_StaticMethods_scangamepads$$($JSCompiler_StaticMethods_getBitmap$self$$);
  return $JSCompiler_StaticMethods_getBitmap$self$$.$j$;
}
var $module$exports$output$input$gamepadhandler$GamepadHandler$$ = class {
  constructor($isSafari_platformDetails$jscomp$47$$, $osName_zoneless$jscomp$4$$) {
    var $_a$jscomp$134$$, $_b$jscomp$53$$;
    this.$C$ = this.$j$ = 0;
    this.$F$ = [];
    this.$G$ = [];
    this.$R$ = [];
    this.$u$ = this.$v$ = this.$$$ = this.$D$ = this.hapticsSupported = !1;
    this.$S$ = 0;
    this.$J$ = this.$aa$ = this.$ca$ = this.$da$ = this.$H$ = this.$P$ = this.$O$ = this.$ba$ = this.$T$ = !1;
    this.maxSchedulingDelay = 0;
    this.windowAddEventListener = $osName_zoneless$jscomp$4$$ && $osName_zoneless$jscomp$4$$.windowAddEventListener ? $osName_zoneless$jscomp$4$$.windowAddEventListener.bind(window) : window.addEventListener.bind(window);
    this.windowRemoveEventListener = $osName_zoneless$jscomp$4$$ && $osName_zoneless$jscomp$4$$.windowRemoveEventListener ? $osName_zoneless$jscomp$4$$.windowRemoveEventListener.bind(window) : window.removeEventListener.bind(window);
    this.$U$ = this.$fa$.bind(this);
    this.$V$ = this.$ga$.bind(this);
    this.$ia$ = this.$W$.bind(this);
    this.$h$ = [];
    this.gamepadPollInterval = 100;
    this.$B$ = [];
    this.$A$ = [];
    this.$l$ = [];
    this.$platformDetails$ = $isSafari_platformDetails$jscomp$47$$;
    $osName_zoneless$jscomp$4$$ = $isSafari_platformDetails$jscomp$47$$.os;
    const $osVersion$jscomp$1$$ = $isSafari_platformDetails$jscomp$47$$.osVer;
    this.$O$ = ($isSafari_platformDetails$jscomp$47$$ = ("iOS" == $osName_zoneless$jscomp$4$$ || "iPadOS" == $osName_zoneless$jscomp$4$$) && "Safari" == $isSafari_platformDetails$jscomp$47$$.browser) && $osVersion$jscomp$1$$.startsWith("13");
    this.$P$ = $isSafari_platformDetails$jscomp$47$$ && $osVersion$jscomp$1$$.startsWith("14");
    this.$ba$ = $isSafari_platformDetails$jscomp$47$$ && "12-" == $osVersion$jscomp$1$$;
    this.$H$ = "ChromeOS" == $osName_zoneless$jscomp$4$$;
    this.$da$ = "WebOS" == $osName_zoneless$jscomp$4$$;
    this.$ca$ = "Tizen" == $osName_zoneless$jscomp$4$$;
    this.$aa$ = "Android" == $osName_zoneless$jscomp$4$$;
    this.$g$ = {$v_index$:0, $v_enabled$:!1, $v_connected$:!1, $v_buttons$:0, $v_trigger$:0, $v_axes$:[], $v_updated$:!1};
    this.$qa$ = new $module$exports$output$input$virtualgamepad$VirtualGamepadHandler$$(this.$g$);
    this.allowHaptics = null !== ($_b$jscomp$53$$ = null !== ($_a$jscomp$134$$ = $module$exports$output$util$settings$RagnarokSettings$$.allowHaptics) && void 0 !== $_a$jscomp$134$$ ? $_a$jscomp$134$$ : $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.allowHaptics) && void 0 !== $_b$jscomp$53$$ ? $_b$jscomp$53$$ : !0;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{515a922}", "{b0c674b}");
  }
  $isRsdmmActive$() {
    return this.$u$;
  }
  $gamepadBitmapUpdateHandler$() {
    for (const $gamepadDataHandler$jscomp$3$$ of this.$l$) {
      $gamepadDataHandler$jscomp$3$$.$gamepadBitmapUpdateHandler$(this.$j$);
    }
  }
  $fa$($evt$jscomp$82$$) {
    $JSCompiler_StaticMethods_addGamepad$$(this, $evt$jscomp$82$$.gamepad, $evt$jscomp$82$$.gamepad.index) && this.$gamepadBitmapUpdateHandler$();
  }
  $ga$($evt$jscomp$83$$) {
    $JSCompiler_StaticMethods_deleteGamepad$$(this, $evt$jscomp$83$$.gamepad.index, !0) && this.$gamepadBitmapUpdateHandler$();
  }
  $M$($buttons$jscomp$13_controller$jscomp$14$$) {
    $buttons$jscomp$13_controller$jscomp$14$$ = $buttons$jscomp$13_controller$jscomp$14$$.buttons;
    return ($buttons$jscomp$13_controller$jscomp$14$$[0].value ? 4096 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[1].value ? 8192 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[2].value ? 16384 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[3].value ? 32768 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[4].value ? 256 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[5].value ? 512 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[8] && $buttons$jscomp$13_controller$jscomp$14$$[8].value ? 
    32 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[9] && $buttons$jscomp$13_controller$jscomp$14$$[9].value ? 16 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[10] && $buttons$jscomp$13_controller$jscomp$14$$[10].value ? 64 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[11] && $buttons$jscomp$13_controller$jscomp$14$$[11].value ? 128 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[12] && $buttons$jscomp$13_controller$jscomp$14$$[12].value ? 1 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[13] && 
    $buttons$jscomp$13_controller$jscomp$14$$[13].value ? 2 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[14] && $buttons$jscomp$13_controller$jscomp$14$$[14].value ? 4 : 0) | ($buttons$jscomp$13_controller$jscomp$14$$[15] && $buttons$jscomp$13_controller$jscomp$14$$[15].value ? 8 : 0) | 0;
  }
  $N$($buttons$jscomp$15_controller$jscomp$15$$) {
    var $_a$jscomp$139$$, $_b$jscomp$57$$;
    $buttons$jscomp$15_controller$jscomp$15$$ = $buttons$jscomp$15_controller$jscomp$15$$.buttons;
    let $triggerL$$ = Math.round(255 * (null === ($_a$jscomp$139$$ = $buttons$jscomp$15_controller$jscomp$15$$[6]) || void 0 === $_a$jscomp$139$$ ? NaN : $_a$jscomp$139$$.value));
    return (Math.round(255 * (null === ($_b$jscomp$57$$ = $buttons$jscomp$15_controller$jscomp$15$$[7]) || void 0 === $_b$jscomp$57$$ ? NaN : $_b$jscomp$57$$.value)) & 255) << 8 | $triggerL$$ & 255;
  }
  $na$($buttons$jscomp$16_controller$jscomp$16$$) {
    var $_a$jscomp$140$$, $_b$jscomp$58$$;
    $buttons$jscomp$16_controller$jscomp$16$$ = $buttons$jscomp$16_controller$jscomp$16$$.buttons;
    let $triggerL$jscomp$1$$ = Math.round(255 * (null === ($_a$jscomp$140$$ = $buttons$jscomp$16_controller$jscomp$16$$[7]) || void 0 === $_a$jscomp$140$$ ? NaN : $_a$jscomp$140$$.value));
    return (Math.round(255 * (null === ($_b$jscomp$58$$ = $buttons$jscomp$16_controller$jscomp$16$$[6]) || void 0 === $_b$jscomp$58$$ ? NaN : $_b$jscomp$58$$.value)) & 255) << 8 | $triggerL$jscomp$1$$ & 255;
  }
  $K$($hIndex$$, $vIndex$$, $controller$jscomp$17$$) {
    return (Math.round(127.5 * ($controller$jscomp$17$$.axes[$vIndex$$] + 1.0)) & 255) << 8 | Math.round(127.5 * ($controller$jscomp$17$$.axes[$hIndex$$] + 1.0)) & 255;
  }
  $L$($controller$jscomp$18$$) {
    return $controller$jscomp$18$$.axes;
  }
  $la$($controller$jscomp$19$$) {
    return [$controller$jscomp$19$$.axes[0], -$controller$jscomp$19$$.axes[1], $controller$jscomp$19$$.axes[2], -$controller$jscomp$19$$.axes[3]];
  }
  $Z$($controller$jscomp$20$$) {
    return [$controller$jscomp$20$$.axes[0], $controller$jscomp$20$$.axes[1], $controller$jscomp$20$$.axes[2], $controller$jscomp$20$$.axes[5]];
  }
  $ja$($controller$jscomp$21$$) {
    return [$controller$jscomp$21$$.axes[0], $controller$jscomp$21$$.axes[1], $controller$jscomp$21$$.axes[3], $controller$jscomp$21$$.axes[4]];
  }
  $ma$($axes$jscomp$16_controller$jscomp$22$$) {
    var $_a$jscomp$141$$, $_b$jscomp$59$$, $_c$jscomp$33$$, $_d$jscomp$25$$, $_e$jscomp$15$$, $_f$jscomp$12$$;
    let $buttons$jscomp$17$$ = $axes$jscomp$16_controller$jscomp$22$$.buttons;
    $axes$jscomp$16_controller$jscomp$22$$ = $axes$jscomp$16_controller$jscomp$22$$.axes;
    return ((null === ($_a$jscomp$141$$ = $buttons$jscomp$17$$[0]) || void 0 === $_a$jscomp$141$$ ? 0 : $_a$jscomp$141$$.value) ? 4096 : 0) | ((null === ($_b$jscomp$59$$ = $buttons$jscomp$17$$[1]) || void 0 === $_b$jscomp$59$$ ? 0 : $_b$jscomp$59$$.value) ? 8192 : 0) | ((null === ($_c$jscomp$33$$ = $buttons$jscomp$17$$[2]) || void 0 === $_c$jscomp$33$$ ? 0 : $_c$jscomp$33$$.value) ? 16384 : 0) | ((null === ($_d$jscomp$25$$ = $buttons$jscomp$17$$[3]) || void 0 === $_d$jscomp$25$$ ? 0 : $_d$jscomp$25$$.value) ? 
    32768 : 0) | ((null === ($_e$jscomp$15$$ = $buttons$jscomp$17$$[4]) || void 0 === $_e$jscomp$15$$ ? 0 : $_e$jscomp$15$$.value) ? 256 : 0) | ((null === ($_f$jscomp$12$$ = $buttons$jscomp$17$$[5]) || void 0 === $_f$jscomp$12$$ ? 0 : $_f$jscomp$12$$.value) ? 512 : 0) | (0 < $axes$jscomp$16_controller$jscomp$22$$[5] ? 1 : 0) | (0 > $axes$jscomp$16_controller$jscomp$22$$[5] ? 2 : 0) | (0 > $axes$jscomp$16_controller$jscomp$22$$[4] ? 4 : 0) | (0 < $axes$jscomp$16_controller$jscomp$22$$[4] ? 8 : 0) | 
    0;
  }
  $ka$($controller$jscomp$23_dPad$$) {
    var $_a$jscomp$142$$, $_b$jscomp$60$$, $_c$jscomp$34$$, $_d$jscomp$26$$, $_e$jscomp$16$$, $_f$jscomp$13$$, $_g$jscomp$9$$, $_h$jscomp$8$$, $_j$jscomp$8$$, $_k$jscomp$7$$;
    let $buttons$jscomp$18$$ = $controller$jscomp$23_dPad$$.buttons;
    $controller$jscomp$23_dPad$$ = this.$H$ ? $JSCompiler_StaticMethods_getDpadFromTwoAxes$$($controller$jscomp$23_dPad$$.axes[6], $controller$jscomp$23_dPad$$.axes[7]) : $JSCompiler_StaticMethods_getDpadFromAxis$$($controller$jscomp$23_dPad$$.axes[9]);
    return ((null === ($_a$jscomp$142$$ = $buttons$jscomp$18$$[1]) || void 0 === $_a$jscomp$142$$ ? 0 : $_a$jscomp$142$$.value) ? 4096 : 0) | ((null === ($_b$jscomp$60$$ = $buttons$jscomp$18$$[2]) || void 0 === $_b$jscomp$60$$ ? 0 : $_b$jscomp$60$$.value) ? 8192 : 0) | ((null === ($_c$jscomp$34$$ = $buttons$jscomp$18$$[0]) || void 0 === $_c$jscomp$34$$ ? 0 : $_c$jscomp$34$$.value) ? 16384 : 0) | ((null === ($_d$jscomp$26$$ = $buttons$jscomp$18$$[3]) || void 0 === $_d$jscomp$26$$ ? 0 : $_d$jscomp$26$$.value) ? 
    32768 : 0) | ((null === ($_e$jscomp$16$$ = $buttons$jscomp$18$$[4]) || void 0 === $_e$jscomp$16$$ ? 0 : $_e$jscomp$16$$.value) ? 256 : 0) | ((null === ($_f$jscomp$13$$ = $buttons$jscomp$18$$[5]) || void 0 === $_f$jscomp$13$$ ? 0 : $_f$jscomp$13$$.value) ? 512 : 0) | ((null === ($_g$jscomp$9$$ = $buttons$jscomp$18$$[8]) || void 0 === $_g$jscomp$9$$ ? 0 : $_g$jscomp$9$$.value) ? 32 : 0) | ((null === ($_h$jscomp$8$$ = $buttons$jscomp$18$$[9]) || void 0 === $_h$jscomp$8$$ ? 0 : $_h$jscomp$8$$.value) ? 
    16 : 0) | ((null === ($_j$jscomp$8$$ = $buttons$jscomp$18$$[10]) || void 0 === $_j$jscomp$8$$ ? 0 : $_j$jscomp$8$$.value) ? 64 : 0) | ((null === ($_k$jscomp$7$$ = $buttons$jscomp$18$$[11]) || void 0 === $_k$jscomp$7$$ ? 0 : $_k$jscomp$7$$.value) ? 128 : 0) | $controller$jscomp$23_dPad$$;
  }
  $oa$($controller$jscomp$24_dPad$jscomp$1$$) {
    var $_a$jscomp$143$$, $_b$jscomp$61$$, $_c$jscomp$35$$, $_d$jscomp$27$$, $_e$jscomp$17$$, $_f$jscomp$14$$, $_g$jscomp$10$$, $_h$jscomp$9$$, $_j$jscomp$9$$, $_k$jscomp$8$$;
    let $buttons$jscomp$19$$ = $controller$jscomp$24_dPad$jscomp$1$$.buttons;
    $controller$jscomp$24_dPad$jscomp$1$$ = $JSCompiler_StaticMethods_getDpadFromAxis$$($controller$jscomp$24_dPad$jscomp$1$$.axes[9]);
    return ((null === ($_a$jscomp$143$$ = $buttons$jscomp$19$$[0]) || void 0 === $_a$jscomp$143$$ ? 0 : $_a$jscomp$143$$.value) ? 4096 : 0) | ((null === ($_b$jscomp$61$$ = $buttons$jscomp$19$$[1]) || void 0 === $_b$jscomp$61$$ ? 0 : $_b$jscomp$61$$.value) ? 8192 : 0) | ((null === ($_c$jscomp$35$$ = $buttons$jscomp$19$$[3]) || void 0 === $_c$jscomp$35$$ ? 0 : $_c$jscomp$35$$.value) ? 16384 : 0) | ((null === ($_d$jscomp$27$$ = $buttons$jscomp$19$$[4]) || void 0 === $_d$jscomp$27$$ ? 0 : $_d$jscomp$27$$.value) ? 
    32768 : 0) | ((null === ($_e$jscomp$17$$ = $buttons$jscomp$19$$[6]) || void 0 === $_e$jscomp$17$$ ? 0 : $_e$jscomp$17$$.value) ? 256 : 0) | ((null === ($_f$jscomp$14$$ = $buttons$jscomp$19$$[7]) || void 0 === $_f$jscomp$14$$ ? 0 : $_f$jscomp$14$$.value) ? 512 : 0) | ((null === ($_g$jscomp$10$$ = $buttons$jscomp$19$$[10]) || void 0 === $_g$jscomp$10$$ ? 0 : $_g$jscomp$10$$.value) ? 32 : 0) | ((null === ($_h$jscomp$9$$ = $buttons$jscomp$19$$[11]) || void 0 === $_h$jscomp$9$$ ? 0 : $_h$jscomp$9$$.value) ? 
    16 : 0) | ((null === ($_j$jscomp$9$$ = $buttons$jscomp$19$$[13]) || void 0 === $_j$jscomp$9$$ ? 0 : $_j$jscomp$9$$.value) ? 64 : 0) | ((null === ($_k$jscomp$8$$ = $buttons$jscomp$19$$[14]) || void 0 === $_k$jscomp$8$$ ? 0 : $_k$jscomp$8$$.value) ? 128 : 0) | $controller$jscomp$24_dPad$jscomp$1$$;
  }
  $pa$($controller$jscomp$25_dPad$jscomp$2$$) {
    var $_a$jscomp$144$$, $_b$jscomp$62$$, $_c$jscomp$36$$, $_d$jscomp$28$$, $_e$jscomp$18$$, $_f$jscomp$15$$, $_g$jscomp$11$$, $_h$jscomp$10$$, $_j$jscomp$10$$, $_k$jscomp$9$$;
    let $buttons$jscomp$20$$ = $controller$jscomp$25_dPad$jscomp$2$$.buttons;
    $controller$jscomp$25_dPad$jscomp$2$$ = $JSCompiler_StaticMethods_getDpadFromTwoAxes$$($controller$jscomp$25_dPad$jscomp$2$$.axes[6], $controller$jscomp$25_dPad$jscomp$2$$.axes[7]);
    return ((null === ($_a$jscomp$144$$ = $buttons$jscomp$20$$[0]) || void 0 === $_a$jscomp$144$$ ? 0 : $_a$jscomp$144$$.value) ? 4096 : 0) | ((null === ($_b$jscomp$62$$ = $buttons$jscomp$20$$[1]) || void 0 === $_b$jscomp$62$$ ? 0 : $_b$jscomp$62$$.value) ? 8192 : 0) | ((null === ($_c$jscomp$36$$ = $buttons$jscomp$20$$[2]) || void 0 === $_c$jscomp$36$$ ? 0 : $_c$jscomp$36$$.value) ? 16384 : 0) | ((null === ($_d$jscomp$28$$ = $buttons$jscomp$20$$[3]) || void 0 === $_d$jscomp$28$$ ? 0 : $_d$jscomp$28$$.value) ? 
    32768 : 0) | ((null === ($_e$jscomp$18$$ = $buttons$jscomp$20$$[4]) || void 0 === $_e$jscomp$18$$ ? 0 : $_e$jscomp$18$$.value) ? 256 : 0) | ((null === ($_f$jscomp$15$$ = $buttons$jscomp$20$$[5]) || void 0 === $_f$jscomp$15$$ ? 0 : $_f$jscomp$15$$.value) ? 512 : 0) | ((null === ($_g$jscomp$11$$ = $buttons$jscomp$20$$[6]) || void 0 === $_g$jscomp$11$$ ? 0 : $_g$jscomp$11$$.value) ? 32 : 0) | ((null === ($_h$jscomp$10$$ = $buttons$jscomp$20$$[7]) || void 0 === $_h$jscomp$10$$ ? 0 : $_h$jscomp$10$$.value) ? 
    16 : 0) | ((null === ($_j$jscomp$10$$ = $buttons$jscomp$20$$[9]) || void 0 === $_j$jscomp$10$$ ? 0 : $_j$jscomp$10$$.value) ? 64 : 0) | ((null === ($_k$jscomp$9$$ = $buttons$jscomp$20$$[10]) || void 0 === $_k$jscomp$9$$ ? 0 : $_k$jscomp$9$$.value) ? 128 : 0) | $controller$jscomp$25_dPad$jscomp$2$$;
  }
  $virtualGamepadUpdateHandler$() {
    for (const $gamepadDataHandler$jscomp$6$$ of this.$l$) {
      $gamepadDataHandler$jscomp$6$$.$virtualGamepadUpdateHandler$(this.$g$.$v_buttons$, this.$g$.$v_trigger$, this.$g$.$v_index$, this.$g$.$v_axes$, this.$j$);
    }
  }
  $W$() {
    var $currentGamepadTickTs$jscomp$inline_997_packetCount$$ = performance.now();
    this.$ea$ && (this.maxSchedulingDelay = Math.max(this.maxSchedulingDelay, $currentGamepadTickTs$jscomp$inline_997_packetCount$$ - this.$ea$ - this.gamepadPollInterval));
    this.$ea$ = $currentGamepadTickTs$jscomp$inline_997_packetCount$$;
    $JSCompiler_StaticMethods_scangamepads$$(this);
    $currentGamepadTickTs$jscomp$inline_997_packetCount$$ = 0;
    for (let $details$jscomp$11$$ of this.$h$) {
      if (!$details$jscomp$11$$) {
        continue;
      }
      const $timestamp$jscomp$10$$ = $module$contents$output$util$utils_GetCaptureTimestamp$$($details$jscomp$11$$.$device$.timestamp);
      let $controller$jscomp$26$$ = $details$jscomp$11$$.$device$;
      if ($JSCompiler_StaticMethods_isSuitableGamepad$$(this, $controller$jscomp$26$$)) {
        if ($details$jscomp$11$$.$device$.timestamp <= this.$A$[$controller$jscomp$26$$.index]) {
          this.$ha$ && 5E3 <= performance.now() - $details$jscomp$11$$.$device$.timestamp && this.$ha$();
        } else {
          this.$A$[$controller$jscomp$26$$.index] = $details$jscomp$11$$.$device$.timestamp;
          var $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ = this.$B$[$controller$jscomp$26$$.index];
          var $curSnapshot_trigger$jscomp$13$$ = new $module$contents$output$input$gamepadhandler_GamepadSnapshot$$($details$jscomp$11$$), $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$;
          if ($JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ = $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$) {
            if ($JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ = $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$.buttons == $curSnapshot_trigger$jscomp$13$$.buttons && $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$.$triggers$ == $curSnapshot_trigger$jscomp$13$$.$triggers$) {
              a: {
                $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ = $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$.axes;
                for ($JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ = 0; $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ < $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$.length; $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$++) {
                  if (0.01 < Math.abs($JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$[$JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$] - $curSnapshot_trigger$jscomp$13$$.axes[$JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$])) {
                    $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ = !0;
                    break a;
                  }
                }
                $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ = !1;
              }
              $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ = !$JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$;
            }
          }
          if (!$JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$) {
            this.$B$[$controller$jscomp$26$$.index] = $curSnapshot_trigger$jscomp$13$$;
            $curSnapshot_trigger$jscomp$13$$ = $details$jscomp$11$$.$getTriggerMapping$($controller$jscomp$26$$);
            $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ = $details$jscomp$11$$.$getButtonMapping$($controller$jscomp$26$$);
            $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$ = $details$jscomp$11$$.$getAxesMapping$($controller$jscomp$26$$);
            if ($module$exports$output$util$settings$RagnarokSettings$$.$rsdmmThumbstickToggle$) {
              if ($JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$ & ($module$contents$rtcutils_core$output$utils_IsXboxEdge$$(this.$platformDetails$) ? 64 : 128)) {
                if (this.$T$) {
                  this.$T$ = !1;
                  const $thumbNow$$ = performance.now();
                  $thumbNow$$ < this.$S$ + 500 ? ($JSCompiler_StaticMethods_toggleRsdmmMode$$(this), this.$S$ = 0) : this.$S$ = $thumbNow$$;
                }
              } else {
                this.$T$ = !0;
              }
            }
            for (const $gamepadDataHandler$jscomp$7$$ of this.$l$) {
              $gamepadDataHandler$jscomp$7$$.$gamepadStateUpdateHandler$($currentGamepadTickTs$jscomp$inline_997_packetCount$$, $controller$jscomp$26$$.index, $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$, $curSnapshot_trigger$jscomp$13$$, $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$, $timestamp$jscomp$10$$, this.$j$, $controller$jscomp$26$$.id);
            }
            $currentGamepadTickTs$jscomp$inline_997_packetCount$$++;
            $JSCompiler_StaticMethods_updateGamepadTelemetry$$($details$jscomp$11$$.$telemetryData$, $JSCompiler_inline_result$jscomp$1126_buttons$jscomp$21_prevSnapshot_previous$jscomp$inline_1363$$, $curSnapshot_trigger$jscomp$13$$, $JSCompiler_temp$jscomp$1124_JSCompiler_temp$jscomp$1125_axes$jscomp$17_i$jscomp$inline_1365$$);
          }
        }
      }
    }
    if ($currentGamepadTickTs$jscomp$inline_997_packetCount$$) {
      $JSCompiler_StaticMethods_toggleIndicator$$($module$exports$output$debug$latencyindicator$LatencyIndicator$getInstance$$());
      for (const $gamepadDataHandler$jscomp$8$$ of this.$l$) {
        $gamepadDataHandler$jscomp$8$$.$finalizeGamepadData$($currentGamepadTickTs$jscomp$inline_997_packetCount$$);
      }
    }
    this.$g$.$v_connected$ && this.$g$.$v_updated$ && (this.$virtualGamepadUpdateHandler$(), this.$g$.$v_updated$ = !1, this.$s$ && $JSCompiler_StaticMethods_updateGamepadTelemetry$$(this.$s$, this.$g$.$v_buttons$, this.$g$.$v_trigger$, this.$g$.$v_axes$));
  }
  getVirtualGamepadHandler() {
    return this.$qa$;
  }
};
function $JSCompiler_StaticMethods_createRecorder$$($JSCompiler_StaticMethods_createRecorder$self$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{b11cb24}");
  if ($JSCompiler_StaticMethods_createRecorder$self$$.$l$) {
    try {
      $JSCompiler_StaticMethods_createRecorder$self$$.$h$ = new MediaRecorder($JSCompiler_StaticMethods_createRecorder$self$$.$l$);
    } catch ($error$jscomp$25$$) {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{4c846ba}", "{0d1420e}", $error$jscomp$25$$);
      return;
    }
    $JSCompiler_StaticMethods_createRecorder$self$$.$h$ && ($JSCompiler_StaticMethods_createRecorder$self$$.$h$.onstart = () => {
    }, $JSCompiler_StaticMethods_createRecorder$self$$.$h$.onstop = () => {
      $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{7a944b4}");
    }, $JSCompiler_StaticMethods_createRecorder$self$$.$h$.ondataavailable = $msg$jscomp$38$$ => {
      $msg$jscomp$38$$.data && 0 < $msg$jscomp$38$$.data.size && ($JSCompiler_StaticMethods_createRecorder$self$$.$s$.push($msg$jscomp$38$$.data), $JSCompiler_StaticMethods_createRecorder$self$$.$u$.push($JSCompiler_StaticMethods_createRecorder$self$$.$s$), ++$JSCompiler_StaticMethods_createRecorder$self$$.$m$, $JSCompiler_StaticMethods_createRecorder$self$$.$s$ = []);
    }, $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{ffb713f}", $JSCompiler_StaticMethods_createRecorder$self$$.$h$));
    $JSCompiler_StaticMethods_createRecorder$self$$.$o$ = !1;
  } else {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{4c846ba}", "{74475ae}");
  }
}
function $JSCompiler_StaticMethods_destroyRecorder$$($JSCompiler_StaticMethods_destroyRecorder$self$$) {
  var $_a$jscomp$151$$;
  null === ($_a$jscomp$151$$ = $JSCompiler_StaticMethods_destroyRecorder$self$$.$h$) || void 0 === $_a$jscomp$151$$ ? void 0 : $_a$jscomp$151$$.stop();
  $JSCompiler_StaticMethods_destroyRecorder$self$$.$h$ = void 0;
  0 !== $JSCompiler_StaticMethods_destroyRecorder$self$$.$j$ && (window.clearTimeout($JSCompiler_StaticMethods_destroyRecorder$self$$.$j$), $JSCompiler_StaticMethods_destroyRecorder$self$$.$j$ = 0);
}
function $JSCompiler_StaticMethods_startRecord$$($JSCompiler_StaticMethods_startRecord$self$$) {
  let $timeoutMSec$$;
  if (1 == $JSCompiler_StaticMethods_startRecord$self$$.$g$) {
    $timeoutMSec$$ = 18E5;
  } else if (2 == $JSCompiler_StaticMethods_startRecord$self$$.$g$) {
    $timeoutMSec$$ = 3E3;
  } else {
    return;
  }
  $JSCompiler_StaticMethods_startRecord$self$$.$h$ && !$JSCompiler_StaticMethods_startRecord$self$$.$o$ && ($JSCompiler_StaticMethods_startRecord$self$$.$h$.start(), $JSCompiler_StaticMethods_startRecord$self$$.$o$ = !0, $JSCompiler_StaticMethods_startRecord$self$$.$j$ = window.setTimeout(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{2282d21}");
    $JSCompiler_StaticMethods_destroyRecorder$$($JSCompiler_StaticMethods_startRecord$self$$);
  }, $timeoutMSec$$), $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{4f438e3}"));
}
var $module$exports$output$debug$audiorecorder$AudioRecorder$$ = class {
  constructor() {
    this.$o$ = !1;
    this.$s$ = [];
    this.$u$ = [];
    this.$g$ = this.$m$ = this.$j$ = 0;
  }
  initialize($stream$jscomp$26$$) {
    this.$l$ = $stream$jscomp$26$$;
  }
  uninitialize() {
    $JSCompiler_StaticMethods_destroyRecorder$$(this);
    this.downloadAudio();
    this.$l$ = void 0;
    this.$g$ = 0;
  }
  downloadAudio() {
    if (0 != this.$g$) {
      for (let $i$jscomp$47$$ = 0; $i$jscomp$47$$ < this.$m$; ++$i$jscomp$47$$) {
        $module$contents$output$util$utils_Download$$(this.$u$[$i$jscomp$47$$], "audioCapture_" + $i$jscomp$47$$ + ".wmv", "audio/webm") && $module$exports$rtcutils_core$output$logger$Log$$.i("{4c846ba}", "{c24ed3b}");
      }
      this.$m$ = 0;
      this.$u$ = [];
    }
  }
};
function $JSCompiler_StaticMethods_createDbInstance$$($JSCompiler_StaticMethods_createDbInstance$self$$, $instance$$) {
  $JSCompiler_StaticMethods_createDbInstance$self$$.$h$ = !1;
  $JSCompiler_StaticMethods_createDbInstance$self$$.$j$ = !1;
  $JSCompiler_StaticMethods_createDbInstance$self$$.$g$ = $instance$$;
  $JSCompiler_StaticMethods_createDbInstance$self$$.$g$.onversionchange = () => {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{10dc2cc}", "{65276d8}");
    $JSCompiler_StaticMethods_createDbInstance$self$$.close();
    $JSCompiler_StaticMethods_createDbInstance$self$$.$g$ = void 0;
  };
  $JSCompiler_StaticMethods_createDbInstance$self$$.$g$.onclose = () => {
    $module$exports$rtcutils_core$output$logger$Log$$.w("{10dc2cc}", "{342f7f8}");
    $JSCompiler_StaticMethods_createDbInstance$self$$.$h$ = !0;
    $JSCompiler_StaticMethods_createDbInstance$self$$.$j$ = !0;
  };
}
function $JSCompiler_StaticMethods_getDbStateError$$($JSCompiler_StaticMethods_getDbStateError$self$$) {
  if ($JSCompiler_StaticMethods_getDbStateError$self$$.$l$) {
    if (!$JSCompiler_StaticMethods_getDbStateError$self$$.$g$) {
      return $module$contents$rtcutils_core$output$utils_getRErrorDetails$$(1, "Db not yet open");
    }
    if ($JSCompiler_StaticMethods_getDbStateError$self$$.$h$) {
      return $module$contents$rtcutils_core$output$utils_getRErrorDetails$$(2, "Db is closing, unexpectedly: " + $JSCompiler_StaticMethods_getDbStateError$self$$.$j$ + ", visibility state hidden: " + ("hidden" === document.visibilityState));
    }
  } else {
    return $module$contents$rtcutils_core$output$utils_getRErrorDetails$$(17, "Indexdb object not found");
  }
}
function $JSCompiler_StaticMethods_JSC$3023_clear$$($JSCompiler_StaticMethods_JSC$3023_clear$self$$, $storeName$jscomp$3$$) {
  const $error$jscomp$29$$ = $JSCompiler_StaticMethods_getDbStateError$$($JSCompiler_StaticMethods_JSC$3023_clear$self$$);
  return $error$jscomp$29$$ ? Promise.reject($error$jscomp$29$$) : new Promise(($resolve$jscomp$22$$, $reject$jscomp$20$$) => {
    try {
      const $tx$jscomp$6$$ = $JSCompiler_StaticMethods_JSC$3023_clear$self$$.$g$.transaction($storeName$jscomp$3$$, "readwrite"), $store$jscomp$3$$ = $tx$jscomp$6$$.objectStore($storeName$jscomp$3$$);
      $tx$jscomp$6$$.oncomplete = () => {
        $module$exports$rtcutils_core$output$logger$Log$$.i("{10dc2cc}", "{30f23d1}");
      };
      const $result$jscomp$23$$ = $store$jscomp$3$$.clear();
      $result$jscomp$23$$.onsuccess = () => {
        $resolve$jscomp$22$$();
      };
      $result$jscomp$23$$.onerror = () => {
        $reject$jscomp$20$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(80, "clear method failed)", $tx$jscomp$6$$.error));
      };
    } catch ($err$jscomp$40$$) {
      $reject$jscomp$20$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(81, "Unexpected Exception happened in clear", $err$jscomp$40$$));
    }
  });
}
function $JSCompiler_StaticMethods_JSC$3023_getAll$$($JSCompiler_StaticMethods_JSC$3023_getAll$self$$, $storeName$jscomp$4$$) {
  const $error$jscomp$30$$ = $JSCompiler_StaticMethods_getDbStateError$$($JSCompiler_StaticMethods_JSC$3023_getAll$self$$);
  return $error$jscomp$30$$ ? Promise.reject($error$jscomp$30$$) : new Promise(($resolve$jscomp$23$$, $reject$jscomp$21$$) => {
    try {
      const $tx$jscomp$7$$ = $JSCompiler_StaticMethods_JSC$3023_getAll$self$$.$g$.transaction($storeName$jscomp$4$$, "readonly"), $store$jscomp$4$$ = $tx$jscomp$7$$.objectStore($storeName$jscomp$4$$);
      $tx$jscomp$7$$.oncomplete = () => {
        $module$exports$rtcutils_core$output$logger$Log$$.i("{10dc2cc}", "{59d1f78}");
      };
      const $queriedObject$jscomp$1$$ = $store$jscomp$4$$.getAll();
      $queriedObject$jscomp$1$$.onsuccess = () => {
        $resolve$jscomp$23$$($queriedObject$jscomp$1$$.result);
      };
      $queriedObject$jscomp$1$$.onerror = () => {
        $reject$jscomp$21$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(96, "getAll method failed", $tx$jscomp$7$$.error));
      };
    } catch ($err$jscomp$41$$) {
      $reject$jscomp$21$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(97, "Unexpected Exception in getAll", $err$jscomp$41$$));
    }
  });
}
var $module$exports$output$util$indexdb$IndexedDb$$ = class {
  constructor() {
    this.$l$ = window.indexedDB;
    this.version = 2;
    this.$j$ = this.$h$ = !1;
    this.name = "ragnarok";
    this.$m$ = [{$storeName$:"exit-events", $storeOptions$:{keyPath:["userId", "sessionId", "name"]}, $storeIndexName$:"exit-event-index"}, {$storeName$:"telemetry-events", $storeOptions$:{keyPath:["userId", "sessionId", "name", "eventPayload.ts"]}, $storeIndexName$:"telemetry-event-index"}];
  }
  open() {
    return new Promise(($resolve$jscomp$18$$, $reject$jscomp$16$$) => {
      try {
        if (this.$l$) {
          let $request$jscomp$10$$ = this.$l$.open(this.name, this.version);
          $request$jscomp$10$$.onerror = () => {
            $reject$jscomp$16$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(18, `${this.name} db opening failed`, $request$jscomp$10$$.error));
          };
          $request$jscomp$10$$.onsuccess = () => {
            $JSCompiler_StaticMethods_createDbInstance$$(this, $request$jscomp$10$$.result);
            $resolve$jscomp$18$$();
          };
          $request$jscomp$10$$.onupgradeneeded = $event$jscomp$46$$ => {
            $module$exports$rtcutils_core$output$logger$Log$$.i("{10dc2cc}", "{1f70767}", $event$jscomp$46$$.oldVersion, $event$jscomp$46$$.newVersion);
            $JSCompiler_StaticMethods_createDbInstance$$(this, $request$jscomp$10$$.result);
            const $createObjectStoreFunc$$ = $storeDetails$jscomp$1$$ => {
              var $_a$jscomp$152$$;
              const $objectStore$$ = null === ($_a$jscomp$152$$ = this.$g$) || void 0 === $_a$jscomp$152$$ ? void 0 : $_a$jscomp$152$$.createObjectStore($storeDetails$jscomp$1$$.$storeName$, $storeDetails$jscomp$1$$.$storeOptions$);
              $storeDetails$jscomp$1$$.$storeOptions$.keyPath && (null === $objectStore$$ || void 0 === $objectStore$$ ? void 0 : $objectStore$$.createIndex($storeDetails$jscomp$1$$.$storeIndexName$, $storeDetails$jscomp$1$$.$storeOptions$.keyPath, {unique:!0}));
            };
            switch($event$jscomp$46$$.oldVersion) {
              case 0:
                $createObjectStoreFunc$$(this.$m$[0]);
              case 1:
                $createObjectStoreFunc$$(this.$m$[1]);
            }
          };
          $request$jscomp$10$$.onblocked = () => {
            $reject$jscomp$16$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(19, `${this.name} db blocked during opening`, $request$jscomp$10$$.error));
          };
        } else {
          $reject$jscomp$16$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(17, "Indexdb object not found"));
        }
      } catch ($err$jscomp$36$$) {
        $reject$jscomp$16$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(20, "Unexpected Exception in open", $err$jscomp$36$$));
      }
    });
  }
  get($storeName$$, $key$jscomp$60$$) {
    const $error$jscomp$26$$ = $JSCompiler_StaticMethods_getDbStateError$$(this);
    return $error$jscomp$26$$ ? Promise.reject($error$jscomp$26$$) : new Promise(($resolve$jscomp$19$$, $reject$jscomp$17$$) => {
      try {
        const $tx$jscomp$3$$ = this.$g$.transaction($storeName$$, "readonly"), $store$$ = $tx$jscomp$3$$.objectStore($storeName$$);
        $tx$jscomp$3$$.oncomplete = () => {
          $module$exports$rtcutils_core$output$logger$Log$$.i("{10dc2cc}", "{82638ba}");
        };
        const $queriedObject$$ = $store$$.get($key$jscomp$60$$);
        $queriedObject$$.onsuccess = () => {
          $resolve$jscomp$19$$($queriedObject$$.result);
        };
        $queriedObject$$.onerror = () => {
          $reject$jscomp$17$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(32, "get method failed", $tx$jscomp$3$$.error));
        };
      } catch ($err$jscomp$37$$) {
        $reject$jscomp$17$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(33, "Unexpected Exception happened in get", $err$jscomp$37$$));
      }
    });
  }
  set($storeName$jscomp$1$$, $data$jscomp$105$$) {
    const $error$jscomp$27$$ = $JSCompiler_StaticMethods_getDbStateError$$(this);
    return $error$jscomp$27$$ ? Promise.reject($error$jscomp$27$$) : new Promise(($resolve$jscomp$20$$, $reject$jscomp$18$$) => {
      try {
        const $tx$jscomp$4$$ = this.$g$.transaction($storeName$jscomp$1$$, "readwrite"), $store$jscomp$1$$ = $tx$jscomp$4$$.objectStore($storeName$jscomp$1$$);
        $tx$jscomp$4$$.oncomplete = () => {
          $module$exports$rtcutils_core$output$logger$Log$$.i("{10dc2cc}", "{f993875}");
        };
        const $result$jscomp$21$$ = $store$jscomp$1$$.put($data$jscomp$105$$);
        $result$jscomp$21$$.onsuccess = () => {
          $resolve$jscomp$20$$();
        };
        $result$jscomp$21$$.onerror = () => {
          $reject$jscomp$18$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(48, "put method failed", $tx$jscomp$4$$.error));
        };
      } catch ($err$jscomp$38$$) {
        $reject$jscomp$18$$($module$contents$rtcutils_core$output$utils_getRErrorDetails$$(49, "Unexpected Exception happened in set", $err$jscomp$38$$));
      }
    });
  }
  close() {
    var $_a$jscomp$153$$;
    this.$h$ = !0;
    null === ($_a$jscomp$153$$ = this.$g$) || void 0 === $_a$jscomp$153$$ ? void 0 : $_a$jscomp$153$$.close();
  }
};
function $JSCompiler_StaticMethods_sendTelemetryEvent$$($JSCompiler_StaticMethods_sendTelemetryEvent$self$$, $event$jscomp$60$$) {
  if ($JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData) {
    var $consent$jscomp$inline_1002$$ = $event$jscomp$60$$.gdprLevel;
    let $canSend$jscomp$inline_1003$$ = !1;
    $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData && ("functional" !== $consent$jscomp$inline_1002$$ || "Full" !== $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.deviceGdprFuncOptIn && "Temp" !== $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.deviceGdprFuncOptIn ? "technical" === $consent$jscomp$inline_1002$$ && "Full" === $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.gdprTechOptIn ? $canSend$jscomp$inline_1003$$ = 
    !0 : "behavioral" === $consent$jscomp$inline_1002$$ && "Full" === $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.gdprBehOptIn && ($canSend$jscomp$inline_1003$$ = !0) : $canSend$jscomp$inline_1003$$ = !0);
    $canSend$jscomp$inline_1003$$ && (window.navigator.onLine ? $JSCompiler_StaticMethods_sendHttpTelemetryRequest$$($JSCompiler_StaticMethods_constructEventDataElements$$($JSCompiler_StaticMethods_sendTelemetryEvent$self$$, $event$jscomp$60$$)) : $JSCompiler_StaticMethods_cacheTelemetryEventInDb$$($JSCompiler_StaticMethods_sendTelemetryEvent$self$$, {userId:$JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.userId, sessionId:$JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$g$.commonData.sessionId, 
    name:$event$jscomp$60$$.name, eventPayload:$event$jscomp$60$$}));
  } else {
    $JSCompiler_StaticMethods_sendTelemetryEvent$self$$.$u$.push($event$jscomp$60$$);
  }
}
function $JSCompiler_StaticMethods_getStreamingProfileGuid$$($JSCompiler_StaticMethods_getStreamingProfileGuid$self$$) {
  var $_a$jscomp$163$$, $_b$jscomp$74$$, $_c$jscomp$43$$;
  return null !== ($_c$jscomp$43$$ = null === ($_b$jscomp$74$$ = null === ($_a$jscomp$163$$ = $JSCompiler_StaticMethods_getStreamingProfileGuid$self$$.$g$) || void 0 === $_a$jscomp$163$$ ? void 0 : $_a$jscomp$163$$.telemetryEventIds) || void 0 === $_b$jscomp$74$$ ? void 0 : $_b$jscomp$74$$.streamingProfileGuid) && void 0 !== $_c$jscomp$43$$ ? $_c$jscomp$43$$ : "";
}
function $JSCompiler_StaticMethods_getSystemInfoGuid$$($JSCompiler_StaticMethods_getSystemInfoGuid$self$$) {
  var $_a$jscomp$164$$, $_b$jscomp$75$$, $_c$jscomp$44$$;
  return null !== ($_c$jscomp$44$$ = null === ($_b$jscomp$75$$ = null === ($_a$jscomp$164$$ = $JSCompiler_StaticMethods_getSystemInfoGuid$self$$.$g$) || void 0 === $_a$jscomp$164$$ ? void 0 : $_a$jscomp$164$$.telemetryEventIds) || void 0 === $_b$jscomp$75$$ ? void 0 : $_b$jscomp$75$$.systemInfoGuid) && void 0 !== $_c$jscomp$44$$ ? $_c$jscomp$44$$ : "";
}
function $JSCompiler_StaticMethods_getStreamerExitEventPayload$$($JSCompiler_StaticMethods_getStreamerExitEventPayload$self$$, $exitData$jscomp$1$$) {
  var $_a$jscomp$158_event$jscomp$64$$, $_b$jscomp$69$$, $_c$jscomp$39$$, $_d$jscomp$30$$;
  let $exitReason$$ = null !== ($_a$jscomp$158_event$jscomp$64$$ = $exitData$jscomp$1$$.exitErrorCode) && void 0 !== $_a$jscomp$158_event$jscomp$64$$ ? $_a$jscomp$158_event$jscomp$64$$ : "";
  if ($exitData$jscomp$1$$.sleep) {
    $exitReason$$ = "SleepExit";
  } else if (null === ($_b$jscomp$69$$ = $exitData$jscomp$1$$.connectivity) || void 0 === $_b$jscomp$69$$ ? 0 : $_b$jscomp$69$$.startsWith("online")) {
    $exitReason$$ = null !== ($_c$jscomp$39$$ = $exitData$jscomp$1$$.connectivity) && void 0 !== $_c$jscomp$39$$ ? $_c$jscomp$39$$ : "";
  }
  $_a$jscomp$158_event$jscomp$64$$ = new $module$exports$output$telemetry$telemetryinterfaces$Streamer_ExitDef$$({zoneAddress:$exitData$jscomp$1$$.zoneAddress, networkSessionId:null !== ($_d$jscomp$30$$ = $exitData$jscomp$1$$.networkTestSessionId) && void 0 !== $_d$jscomp$30$$ ? $_d$jscomp$30$$ : "", sessionId:$exitData$jscomp$1$$.sessionId, subSessionId:$exitData$jscomp$1$$.subSessionId, resumeType:$exitData$jscomp$1$$.isResume ? "MANUAL" : "NONE", overrideConfigType:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.type, 
  overrideConfigVersion:$module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$.version, exitReason:$exitReason$$, result:$exitData$jscomp$1$$.exitErrorCode, frameCount:$exitData$jscomp$1$$.frameCount, codec:$module$contents$output$util$utils_GetCodecType$$($exitData$jscomp$1$$.codec), ipVersion:"UNKNOWN", streamDuration:Math.round($exitData$jscomp$1$$.streamDuration), networkType:$module$exports$output$util$networkdetector$NetworkDetector$$.$g$, streamingProfileGuid:$JSCompiler_StaticMethods_getStreamingProfileGuid$$($JSCompiler_StaticMethods_getStreamerExitEventPayload$self$$), 
  systemInfoGuid:$JSCompiler_StaticMethods_getSystemInfoGuid$$($JSCompiler_StaticMethods_getStreamerExitEventPayload$self$$), cmsId:String($JSCompiler_StaticMethods_getStreamerExitEventPayload$self$$.$B$)});
  return {name:$_a$jscomp$158_event$jscomp$64$$.name, gdprLevel:$_a$jscomp$158_event$jscomp$64$$.gdprLevel, parameters:$_a$jscomp$158_event$jscomp$64$$.parameters, ts:$_a$jscomp$158_event$jscomp$64$$.ts, clientConfig:$module$exports$output$telemetry$telemetryinterfaces$RagnarokTelemetryConfig$$};
}
function $JSCompiler_StaticMethods_clearExitEventStore$$($JSCompiler_StaticMethods_clearExitEventStore$self$$) {
  $module$exports$rtcutils_core$output$logger$Log$$.d("{f7c1592}", "{badefed}", !0);
  $JSCompiler_StaticMethods_clearExitEventStoreInDb$$($JSCompiler_StaticMethods_clearExitEventStore$self$$);
  $JSCompiler_StaticMethods_clearExitEventStore$self$$.$h$.eventPayload = void 0;
}
function $JSCompiler_StaticMethods_getCachedExitEvents$$($JSCompiler_StaticMethods_getCachedExitEvents$self$$) {
  return $JSCompiler_StaticMethods_getCachedExitEvents$self$$.$l$.then(() => $JSCompiler_StaticMethods_JSC$3023_getAll$$($JSCompiler_StaticMethods_getCachedExitEvents$self$$.$j$, "exit-events")).then($exitEvents$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{d938300}", $exitEvents$$.length);
    let $eventPayloads$$ = [];
    if (0 < $exitEvents$$.length) {
      for (const $telemetryEvent$jscomp$1$$ of $exitEvents$$) {
        $telemetryEvent$jscomp$1$$.eventPayload && $eventPayloads$$.push($telemetryEvent$jscomp$1$$.eventPayload);
      }
    }
    return $eventPayloads$$;
  }).catch($err$jscomp$47$$ => {
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_getCachedExitEvents$self$$, $err$jscomp$47$$, "getCachedExitEvents", !0);
    return Promise.reject();
  });
}
function $JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$$($JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$) {
  return $JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$.$l$.then(() => $JSCompiler_StaticMethods_JSC$3023_getAll$$($JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$.$j$, "exit-events")).then($exitEvents$jscomp$1$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{ca568ff}", $exitEvents$jscomp$1$$.length);
    if (0 < $exitEvents$jscomp$1$$.length) {
      for (const $telemetryEvent$jscomp$2$$ of $exitEvents$jscomp$1$$) {
        $telemetryEvent$jscomp$2$$.eventPayload && $JSCompiler_StaticMethods_sendExitEventUsingBeacon$$($JSCompiler_StaticMethods_constructEventDataElements$$($JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$, $telemetryEvent$jscomp$2$$.eventPayload));
      }
      $JSCompiler_StaticMethods_clearExitEventStore$$($JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$);
    }
  }).catch($err$jscomp$48$$ => {
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_JSC$3038_sendCachedExitEvent$self$$, $err$jscomp$48$$, "sendCachedExitEvent", !0);
  });
}
function $JSCompiler_StaticMethods_sendHttpTelemetryRequest$$($telemetryEventData$$) {
  var $_a$jscomp$154_options$jscomp$65$$, $_b$jscomp$67$$, $_c$jscomp$37$$, $_d$jscomp$29$$;
  (null === ($_a$jscomp$154_options$jscomp$65$$ = $telemetryEventData$$.config) || void 0 === $_a$jscomp$154_options$jscomp$65$$ ? 0 : $_a$jscomp$154_options$jscomp$65$$.server) && (null === ($_b$jscomp$67$$ = $telemetryEventData$$.config) || void 0 === $_b$jscomp$67$$ ? 0 : $_b$jscomp$67$$.version) && ($_a$jscomp$154_options$jscomp$65$$ = {method:"POST", headers:{"Content-Type":"application/json", "X-Event-Protocol":null !== ($_d$jscomp$29$$ = null === ($_c$jscomp$37$$ = $telemetryEventData$$.commonData) || 
  void 0 === $_c$jscomp$37$$ ? void 0 : $_c$jscomp$37$$.eventProtocol) && void 0 !== $_d$jscomp$29$$ ? $_d$jscomp$29$$ : "1.4"}, body:JSON.stringify($telemetryEventData$$.commonData), $retryCount$:3, timeout:2000}, $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{4d9b16c}", $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$, $_a$jscomp$154_options$jscomp$65$$.body), $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$ && $module$contents$rtcutils_core$output$utils_performHttpRequest$$($JSCompiler_StaticMethods_getTelemetryServerUrl$$($telemetryEventData$$.config), 
  $_a$jscomp$154_options$jscomp$65$$).then(() => {
  }).catch(() => {
  }));
}
function $JSCompiler_StaticMethods_constructEventDataElements$$($JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$, $event$jscomp$61$$) {
  let $localEventObj$$ = {};
  if (!$JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.$g$.commonData) {
    return $localEventObj$$;
  }
  const $formattedEventDetail$$ = {name:$event$jscomp$61$$.name, ts:$event$jscomp$61$$.ts, parameters:$event$jscomp$61$$.parameters, experiments:$JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.$g$.experiments};
  $JSCompiler_StaticMethods_copyCommonEventDataElements$$($localEventObj$$, $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.$g$);
  $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$ = $localEventObj$$.commonData;
  $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.clientId = $event$jscomp$61$$.clientConfig.clientId;
  $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.eventSchemaVer = $event$jscomp$61$$.clientConfig.eventSchemaVer;
  $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.sentTs = (new Date()).toISOString();
  $JSCompiler_StaticMethods_constructEventDataElements$self_commonData$$.events = [$formattedEventDetail$$];
  return $localEventObj$$;
}
function $JSCompiler_StaticMethods_cacheTelemetryEventInDb$$($JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$, $cachedTelemetryEvent$$) {
  $JSCompiler_StaticMethods_isPrimaryKeyValid$$($cachedTelemetryEvent$$) && $JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$.$l$.then(() => $JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$.$j$.set("telemetry-events", $cachedTelemetryEvent$$)).then(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{f03d70b}");
  }).catch($err$jscomp$44$$ => {
    const $shouldHandleException$$ = !$JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$.$v$;
    $JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$.$v$ = !0;
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_cacheTelemetryEventInDb$self$$, $err$jscomp$44$$, "cacheTelemetryEventInDb", $shouldHandleException$$);
  });
}
function $JSCompiler_StaticMethods_copyCommonEventDataElements$$($target$jscomp$115$$, $source$jscomp$22$$) {
  $target$jscomp$115$$.commonData = $source$jscomp$22$$.commonData ? Object.assign({}, $source$jscomp$22$$.commonData) : void 0;
  $target$jscomp$115$$.experiments = [];
  $target$jscomp$115$$.config = $source$jscomp$22$$.config;
  $target$jscomp$115$$.telemetryEventIds = $source$jscomp$22$$.telemetryEventIds;
}
function $JSCompiler_StaticMethods_getTelemetryServerUrl$$($config$jscomp$8$$) {
  return $config$jscomp$8$$.server + "/" + $config$jscomp$8$$.version + "/events/json";
}
function $JSCompiler_StaticMethods_updateCachedExitEventData$$($JSCompiler_StaticMethods_updateCachedExitEventData$self$$, $event$jscomp$63$$) {
  var $_a$jscomp$157$$, $_b$jscomp$68$$, $_c$jscomp$38$$;
  $JSCompiler_StaticMethods_updateCachedExitEventData$self$$.$h$.userId = null !== ($_b$jscomp$68$$ = null === ($_a$jscomp$157$$ = $JSCompiler_StaticMethods_updateCachedExitEventData$self$$.$g$.commonData) || void 0 === $_a$jscomp$157$$ ? void 0 : $_a$jscomp$157$$.userId) && void 0 !== $_b$jscomp$68$$ ? $_b$jscomp$68$$ : "";
  $JSCompiler_StaticMethods_updateCachedExitEventData$self$$.$h$.sessionId = null !== ($_c$jscomp$38$$ = $event$jscomp$63$$.parameters.sessionId) && void 0 !== $_c$jscomp$38$$ ? $_c$jscomp$38$$ : "";
  $JSCompiler_StaticMethods_updateCachedExitEventData$self$$.$h$.name = $event$jscomp$63$$.name;
  $JSCompiler_StaticMethods_updateCachedExitEventData$self$$.$h$.eventPayload = $event$jscomp$63$$;
}
function $JSCompiler_StaticMethods_sendExitEventUsingBeacon$$($eventDataElements$jscomp$3$$) {
  var $_a$jscomp$160_blobData$$, $_b$jscomp$71_formData$$;
  if ((null === ($_a$jscomp$160_blobData$$ = $eventDataElements$jscomp$3$$.config) || void 0 === $_a$jscomp$160_blobData$$ ? 0 : $_a$jscomp$160_blobData$$.server) && (null === ($_b$jscomp$71_formData$$ = $eventDataElements$jscomp$3$$.config) || void 0 === $_b$jscomp$71_formData$$ ? 0 : $_b$jscomp$71_formData$$.version) && $eventDataElements$jscomp$3$$.experiments) {
    $eventDataElements$jscomp$3$$.commonData && ($eventDataElements$jscomp$3$$.commonData.sentTs = (new Date()).toISOString());
    $_a$jscomp$160_blobData$$ = JSON.stringify($eventDataElements$jscomp$3$$.commonData);
    $_b$jscomp$71_formData$$ = new Blob([$_a$jscomp$160_blobData$$], {type:"text/plain"});
    let $result$jscomp$24$$ = !1;
    $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$ && ($result$jscomp$24$$ = navigator.sendBeacon($JSCompiler_StaticMethods_getTelemetryServerUrl$$($eventDataElements$jscomp$3$$.config), $_b$jscomp$71_formData$$));
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{f797b28}", $result$jscomp$24$$, $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$, $_a$jscomp$160_blobData$$);
  }
}
function $JSCompiler_StaticMethods_clearExitEventStoreInDb$$($JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$) {
  $JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$.$l$.then(() => $JSCompiler_StaticMethods_JSC$3023_clear$$($JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$.$j$, "exit-events")).then(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{1b8f127}");
  }).catch($err$jscomp$46$$ => {
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$, $err$jscomp$46$$, "clearExitEventStoreInDb", !$JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$.$o$);
    $JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$.$o$ || ($JSCompiler_StaticMethods_clearExitEventStoreInDb$self$$.$o$ = !0);
  });
}
function $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_handleCatch$self$$, $err$jscomp$43$$, $funcName$$, $msg$jscomp$39_shouldSendException$$) {
  var $_a$jscomp$159$$, $_b$jscomp$70$$, $_c$jscomp$40$$, $_d$jscomp$31$$;
  $module$exports$rtcutils_core$output$logger$Log$$.e("{f7c1592}", "{146ec91}", $funcName$$, $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$43$$.code), $err$jscomp$43$$.description);
  $msg$jscomp$39_shouldSendException$$ && ($msg$jscomp$39_shouldSendException$$ = null !== ($_c$jscomp$40$$ = null !== ($_b$jscomp$70$$ = null === ($_a$jscomp$159$$ = $err$jscomp$43$$.error) || void 0 === $_a$jscomp$159$$ ? void 0 : $_a$jscomp$159$$.message) && void 0 !== $_b$jscomp$70$$ ? $_b$jscomp$70$$ : $err$jscomp$43$$.description) && void 0 !== $_c$jscomp$40$$ ? $_c$jscomp$40$$ : `Exception in ${$funcName$$}`, $JSCompiler_StaticMethods_handleCatch$self$$.$A$ ? $JSCompiler_StaticMethods_handleCatch$self$$.$A$($err$jscomp$43$$.error, 
  $msg$jscomp$39_shouldSendException$$, "telemetryeventprocessor.ts", $err$jscomp$43$$.code, 0, !0, null === ($_d$jscomp$31$$ = $err$jscomp$43$$.error) || void 0 === $_d$jscomp$31$$ ? void 0 : $_d$jscomp$31$$.name) : $module$exports$rtcutils_core$output$logger$Log$$.w("{f7c1592}", "{12e0846}"));
}
function $JSCompiler_StaticMethods_isPrimaryKeyValid$$($telemetryEvent$$) {
  return !!$telemetryEvent$$.userId && !!$telemetryEvent$$.sessionId && !!$telemetryEvent$$.name;
}
function $JSCompiler_StaticMethods_cacheExitEventInDb$$($JSCompiler_StaticMethods_cacheExitEventInDb$self$$) {
  return $JSCompiler_StaticMethods_isPrimaryKeyValid$$($JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$h$) ? $JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$l$.then(() => $JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$j$.set("exit-events", $JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$h$)).then(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{5d026f8}");
  }).catch($err$jscomp$45$$ => {
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_cacheExitEventInDb$self$$, $err$jscomp$45$$, "cacheExitEventInDb", !$JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$m$);
    $JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$m$ || ($JSCompiler_StaticMethods_cacheExitEventInDb$self$$.$m$ = !0);
  }) : Promise.resolve();
}
function $JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$$($JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$) {
  $JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$.$l$.then(() => $JSCompiler_StaticMethods_JSC$3023_clear$$($JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$.$j$, "telemetry-events")).then(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{8f62936}");
  }).catch($err$jscomp$49$$ => {
    $JSCompiler_StaticMethods_handleCatch$$($JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$, $err$jscomp$49$$, "clearEventStoreInDb", !$JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$.$s$);
    $JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$.$s$ || ($JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$self$$.$s$ = !0);
  });
}
function $JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$$($JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$self$$) {
  window.navigator.onLine && $JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$self$$.$l$.then(() => $JSCompiler_StaticMethods_JSC$3023_getAll$$($JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$self$$.$j$, "telemetry-events")).then($telemetryEvents$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{f7c1592}", "{d4e574c}", $telemetryEvents$$.length);
    if (0 < $telemetryEvents$$.length) {
      $JSCompiler_StaticMethods_clearTelemetryEventStoreInDb$$($JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$self$$);
      for (const $telemetryEvent$jscomp$3$$ of $telemetryEvents$$) {
        $telemetryEvent$jscomp$3$$.eventPayload && $JSCompiler_StaticMethods_sendTelemetryEvent$$($JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$self$$, $telemetryEvent$jscomp$3$$.eventPayload);
      }
    }
  }).catch($err$jscomp$50$$ => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{f7c1592}", "{aaaa3de}", $err$jscomp$50$$.code, $err$jscomp$50$$.description);
  });
}
var $module$exports$output$telemetry$telemetryeventprocessor$TelemetryEventProcessor$$ = class {
  constructor() {
    this.$h$ = {userId:"", sessionId:"", eventPayload:void 0, name:""};
    this.$g$ = {};
    this.$s$ = this.$v$ = this.$o$ = this.$m$ = !1;
    this.$B$ = "";
    this.$u$ = [];
    this.$j$ = new $module$exports$output$util$indexdb$IndexedDb$$();
    this.$l$ = this.$j$.open();
  }
  updateEventDataElements($eventDataElements$jscomp$2$$) {
    var $_a$jscomp$156$$;
    $JSCompiler_StaticMethods_copyCommonEventDataElements$$(this.$g$, $eventDataElements$jscomp$2$$);
    if (this.$g$.commonData) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{f7c1592}", "{66f209c}");
      for (let $event$jscomp$62$$ of this.$u$) {
        $JSCompiler_StaticMethods_sendTelemetryEvent$$(this, $event$jscomp$62$$);
      }
      this.$u$ = [];
    }
    this.$h$.userId = null === ($_a$jscomp$156$$ = this.$g$.commonData) || void 0 === $_a$jscomp$156$$ ? void 0 : $_a$jscomp$156$$.userId;
  }
};
var $module$exports$output$util$mockpmgridserver$MockPMGridServer$$ = class extends $module$exports$gridserver_core$output$gridserver$GridServer$$ {
  constructor() {
    super();
    this.$A$ = !1;
  }
  initialize($initParams$jscomp$4$$) {
    super.initialize($initParams$jscomp$4$$);
    this.protocol = "http://";
  }
};
performance.mark("GfnRBegin");
function $JSCompiler_StaticMethods_onStreamStop$$($JSCompiler_StaticMethods_onStreamStop$self$$, $data$jscomp$109$$) {
  var $_a$jscomp$187$$, $_b$jscomp$91$$, $_c$jscomp$56$$;
  $JSCompiler_StaticMethods_shutdown$$($JSCompiler_StaticMethods_onStreamStop$self$$.$m$);
  $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{a94b484}");
  let $sleep$jscomp$1$$ = $JSCompiler_StaticMethods_wasSleepExit$$($JSCompiler_StaticMethods_onStreamStop$self$$.$C$, $data$jscomp$109$$.error.code);
  $sleep$jscomp$1$$ && ($data$jscomp$109$$.error.code = $module$contents$output$util$utils_ConvertErrorOnSleep$$($data$jscomp$109$$.error.code, $JSCompiler_StaticMethods_onStreamStop$self$$.$platformDetails$));
  $JSCompiler_StaticMethods_onStreamStop$self$$.framesDecoded = null !== ($_b$jscomp$91$$ = null === ($_a$jscomp$187$$ = $JSCompiler_StaticMethods_onStreamStop$self$$.$h$) || void 0 === $_a$jscomp$187$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($_a$jscomp$187$$)) && void 0 !== $_b$jscomp$91$$ ? $_b$jscomp$91$$ : 0;
  $data$jscomp$109$$.zoneAddress || ($data$jscomp$109$$.zoneAddress = $JSCompiler_StaticMethods_onStreamStop$self$$.$j$.serverAddress);
  $JSCompiler_StaticMethods_getConnectivityStatus$$($JSCompiler_StaticMethods_onStreamStop$self$$, null === ($_c$jscomp$56$$ = $data$jscomp$109$$.error) || void 0 === $_c$jscomp$56$$ ? void 0 : $_c$jscomp$56$$.code).then($connectivityStatus$jscomp$2_exitAnalyticsEvent$jscomp$3$$ => {
    var $_a$jscomp$188$$;
    $data$jscomp$109$$.error.code = $connectivityStatus$jscomp$2_exitAnalyticsEvent$jscomp$3$$.errorCode;
    $connectivityStatus$jscomp$2_exitAnalyticsEvent$jscomp$3$$ = $JSCompiler_StaticMethods_getStreamExitEventData$$($JSCompiler_StaticMethods_onStreamStop$self$$, $data$jscomp$109$$, performance.now() - $JSCompiler_StaticMethods_onStreamStop$self$$.startTime, $connectivityStatus$jscomp$2_exitAnalyticsEvent$jscomp$3$$.connectivity, $sleep$jscomp$1$$);
    $JSCompiler_StaticMethods_onStreamStop$self$$.$I$ = null === ($_a$jscomp$188$$ = $data$jscomp$109$$.error) || void 0 === $_a$jscomp$188$$ ? void 0 : $_a$jscomp$188$$.code;
    $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_onStreamStop$self$$.$l$, "HotPlug", "", 0, $JSCompiler_StaticMethods_onStreamStop$self$$.$H$, 0, 0);
    $JSCompiler_StaticMethods_onStreamStop$self$$.$H$ = 0;
    $JSCompiler_StaticMethods_notifyClientWithError$$($JSCompiler_StaticMethods_onStreamStop$self$$, $data$jscomp$109$$, !1, $connectivityStatus$jscomp$2_exitAnalyticsEvent$jscomp$3$$);
  });
}
function $JSCompiler_StaticMethods_onSessionStart$$($JSCompiler_StaticMethods_onSessionStart$self$$, $data$jscomp$108$$, $sessionSetupFailed$$) {
  var $_a$jscomp$185$$, $_b$jscomp$89$$, $_c$jscomp$54$$, $_d$jscomp$40$$, $_e$jscomp$24$$, $_f$jscomp$21$$, $_g$jscomp$16$$;
  if ($data$jscomp$108$$.error) {
    const $wasSleepExit$$ = $JSCompiler_StaticMethods_wasSleepExit$$($JSCompiler_StaticMethods_onSessionStart$self$$.$C$, $data$jscomp$108$$.error.code);
    $wasSleepExit$$ && ($data$jscomp$108$$.error.code = $module$contents$output$util$utils_ConvertErrorOnSleep$$($data$jscomp$108$$.error.code, $JSCompiler_StaticMethods_onSessionStart$self$$.$platformDetails$));
    $JSCompiler_StaticMethods_getConnectivityStatus$$($JSCompiler_StaticMethods_onSessionStart$self$$, null === ($_a$jscomp$185$$ = $data$jscomp$108$$.error) || void 0 === $_a$jscomp$185$$ ? void 0 : $_a$jscomp$185$$.code).then($connectivityStatus$jscomp$1$$ => {
      var $_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$, $_b$jscomp$90$$, $_c$jscomp$55$$;
      $JSCompiler_StaticMethods_onSessionStart$self$$.framesDecoded = null !== ($_b$jscomp$90$$ = null === ($_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$ = $JSCompiler_StaticMethods_onSessionStart$self$$.$h$) || void 0 === $_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$)) && void 0 !== $_b$jscomp$90$$ ? $_b$jscomp$90$$ : 0;
      $data$jscomp$108$$.zoneAddress || ($data$jscomp$108$$.zoneAddress = $JSCompiler_StaticMethods_onSessionStart$self$$.$j$.serverAddress);
      $data$jscomp$108$$.error && ($data$jscomp$108$$.error.code = $connectivityStatus$jscomp$1$$.errorCode);
      $_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$ = void 0;
      $sessionSetupFailed$$ || ($_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$ = $JSCompiler_StaticMethods_getStreamExitEventData$$($JSCompiler_StaticMethods_onSessionStart$self$$, $data$jscomp$108$$, 0, $connectivityStatus$jscomp$1$$.connectivity, $wasSleepExit$$), $JSCompiler_StaticMethods_onSessionStart$self$$.$I$ = null === ($_c$jscomp$55$$ = $data$jscomp$108$$.error) || void 0 === $_c$jscomp$55$$ ? void 0 : $_c$jscomp$55$$.code);
      $JSCompiler_StaticMethods_notifyClientWithError$$($JSCompiler_StaticMethods_onSessionStart$self$$, $data$jscomp$108$$, !0, $_a$jscomp$186_exitAnalyticsEvent$jscomp$2$$);
    });
  } else {
    $JSCompiler_StaticMethods_emitLaunchEvent$$($JSCompiler_StaticMethods_onSessionStart$self$$.$l$, $data$jscomp$108$$.sessionId, $data$jscomp$108$$.subSessionId, $JSCompiler_StaticMethods_onSessionStart$self$$.isResume, $data$jscomp$108$$.zoneAddress || $JSCompiler_StaticMethods_onSessionStart$self$$.$j$.serverAddress, Math.round(performance.now() - $JSCompiler_StaticMethods_onSessionStart$self$$.startTime), $module$contents$rtcutils_core$output$utils_GetHexString$$(15859712), null !== ($_c$jscomp$54$$ = 
    null === ($_b$jscomp$89$$ = $JSCompiler_StaticMethods_onSessionStart$self$$.$h$) || void 0 === $_b$jscomp$89$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$$($_b$jscomp$89$$)) && void 0 !== $_c$jscomp$54$$ ? $_c$jscomp$54$$ : "UNKNOWN", $JSCompiler_StaticMethods_onSessionStart$self$$.$s$ ? String(null === ($_d$jscomp$40$$ = $JSCompiler_StaticMethods_onSessionStart$self$$.$s$) || void 0 === $_d$jscomp$40$$ ? void 0 : $_d$jscomp$40$$.$sessionParams$.appId) : "", null !== ($_f$jscomp$21$$ = 
    null === ($_e$jscomp$24$$ = $JSCompiler_StaticMethods_onSessionStart$self$$.$s$) || void 0 === $_e$jscomp$24$$ ? void 0 : $_e$jscomp$24$$.$sessionParams$.networkSessionId) && void 0 !== $_f$jscomp$21$$ ? $_f$jscomp$21$$ : ""), $JSCompiler_StaticMethods_onSessionStart$self$$.startTime = performance.now(), $JSCompiler_StaticMethods_onSessionStart$self$$.isResume && $JSCompiler_StaticMethods_onSessionStart$self$$.$micEnabled$ && $JSCompiler_StaticMethods_onSessionStart$self$$.setMicRecordingEnabled(!0), 
    $JSCompiler_StaticMethods_notifyClientStartResult$$($JSCompiler_StaticMethods_onSessionStart$self$$, $data$jscomp$108$$), $JSCompiler_StaticMethods_onSessionStart$self$$.$M$ && (null === ($_g$jscomp$16$$ = $JSCompiler_StaticMethods_onSessionStart$self$$.$h$) || void 0 === $_g$jscomp$16$$ ? void 0 : $_g$jscomp$16$$.toggleUserInput(!0, $JSCompiler_StaticMethods_onSessionStart$self$$.$aa$)), $module$contents$rtcutils_core$output$utils_IsWebOS$$($JSCompiler_StaticMethods_onSessionStart$self$$.$platformDetails$) && 
    document.addEventListener("SystemIdle", $JSCompiler_StaticMethods_onSessionStart$self$$.$V$);
  }
}
function $JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$$($JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$self$$) {
  var $_a$jscomp$178_platformBeginTime$$, $_b$jscomp$82_navigationEntry$$, $_c$jscomp$50$$;
  if ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sendNonEssentialMetricEvents) {
    var $jsInitEntry_jsInitTime$$ = performance.getEntriesByName("GfnJsInitStart")[0];
    const $platformBeginEntry$$ = performance.getEntriesByName("platformBegin")[0], $ragnarokBeginEntry$$ = performance.getEntriesByName("GfnRBegin")[0], $navigationEntries$$ = performance.getEntriesByType("navigation");
    $jsInitEntry_jsInitTime$$ = Math.round(null !== ($_a$jscomp$178_platformBeginTime$$ = null === $jsInitEntry_jsInitTime$$ || void 0 === $jsInitEntry_jsInitTime$$ ? void 0 : $jsInitEntry_jsInitTime$$.startTime) && void 0 !== $_a$jscomp$178_platformBeginTime$$ ? $_a$jscomp$178_platformBeginTime$$ : -1);
    $_a$jscomp$178_platformBeginTime$$ = Math.round(null !== ($_b$jscomp$82_navigationEntry$$ = null === $platformBeginEntry$$ || void 0 === $platformBeginEntry$$ ? void 0 : $platformBeginEntry$$.startTime) && void 0 !== $_b$jscomp$82_navigationEntry$$ ? $_b$jscomp$82_navigationEntry$$ : -1);
    $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$self$$.$l$, "PerformanceTiming", "application timings", $jsInitEntry_jsInitTime$$, $_a$jscomp$178_platformBeginTime$$, Math.round(null !== ($_c$jscomp$50$$ = null === $ragnarokBeginEntry$$ || void 0 === $ragnarokBeginEntry$$ ? void 0 : $ragnarokBeginEntry$$.startTime) && void 0 !== $_c$jscomp$50$$ ? $_c$jscomp$50$$ : -1), $_a$jscomp$178_platformBeginTime$$ - $jsInitEntry_jsInitTime$$);
    $navigationEntries$$.length ? ($_b$jscomp$82_navigationEntry$$ = $navigationEntries$$[$navigationEntries$$.length - 1], $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$self$$.$l$, "PerformanceTiming", "load timings", Math.round($_b$jscomp$82_navigationEntry$$.loadEventStart), Math.round($_b$jscomp$82_navigationEntry$$.loadEventEnd), Math.round($_b$jscomp$82_navigationEntry$$.domContentLoadedEventStart), Math.round($_b$jscomp$82_navigationEntry$$.domContentLoadedEventEnd))) : 
    $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$self$$.$l$, "PerformanceTiming", "navigation timings unsupported", 0, 0, 0, 0);
  }
}
function $JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$$($JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$self$$) {
  if (navigator.mediaCapabilities) {
    var $startTime$jscomp$12$$ = performance.now();
    $JSCompiler_StaticMethods_getDecodeCapability$$("h264").then(async $baseCapability_highProfilePromise_highProfileResult$$ => {
      if ($baseCapability_highProfilePromise_highProfileResult$$) {
        $baseCapability_highProfilePromise_highProfileResult$$ = $JSCompiler_StaticMethods_getDecodeCapability$$("h264; profile-level-id=640033", 2560, 1440, 60);
        var $constrainedProfilePromise_constrainedProfileResult$$ = $JSCompiler_StaticMethods_getDecodeCapability$$("h264; profile-level-id=64e033", 2560, 1440, 60);
        $baseCapability_highProfilePromise_highProfileResult$$ = $module$contents$output$util$devicecapabilities_ConvertCapabilityToNumber$$(await $baseCapability_highProfilePromise_highProfileResult$$);
        $constrainedProfilePromise_constrainedProfileResult$$ = $module$contents$output$util$devicecapabilities_ConvertCapabilityToNumber$$(await $constrainedProfilePromise_constrainedProfileResult$$);
        const $highProfileCheckTime$$ = performance.now() - $startTime$jscomp$12$$;
        var $av1Promise_av1Result$$ = $JSCompiler_StaticMethods_getAv1Capabilities$$(), $highFpsPromise_highFpsResult$$ = $JSCompiler_StaticMethods_getDecodeCapability$$("h264", 1920, 1080, 120);
        $av1Promise_av1Result$$ = $module$contents$output$util$devicecapabilities_ConvertCapabilityToNumber$$(await $av1Promise_av1Result$$);
        $highFpsPromise_highFpsResult$$ = $module$contents$output$util$devicecapabilities_ConvertCapabilityToNumber$$(await $highFpsPromise_highFpsResult$$);
        const $refreshRate$jscomp$6$$ = await $JSCompiler_StaticMethods_getRefreshRate$$($module$exports$output$util$devicecapabilities$CapabilitiesHelper$$), $is120FpsSupported$$ = await $JSCompiler_StaticMethods_is120FpsSupported$$();
        $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{1efbc27}", $refreshRate$jscomp$6$$, $is120FpsSupported$$);
        $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$self$$.$l$, "DisplayCaps", "Is120FpsSupported: " + $is120FpsSupported$$, $refreshRate$jscomp$6$$, 0, 0, 0);
        $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$self$$.$l$, "MediaCapabilities", "codec 5.1: " + $baseCapability_highProfilePromise_highProfileResult$$ + " 5.1 constrained: " + $constrainedProfilePromise_constrainedProfileResult$$ + " AV1: " + $av1Promise_av1Result$$, $highProfileCheckTime$$, $highFpsPromise_highFpsResult$$, $baseCapability_highProfilePromise_highProfileResult$$ | $constrainedProfilePromise_constrainedProfileResult$$, 
        Math.round(window.screen.height));
      } else {
        $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$self$$.$l$, "MediaCapabilities", "webrtc unsupported", performance.now() - $startTime$jscomp$12$$, -1, -1, -1);
      }
    });
  } else {
    $JSCompiler_StaticMethods_emitMetricEvent$$($JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$self$$.$l$, "MediaCapabilities", "API unsupported", -1, -1, -1, -1);
  }
}
function $JSCompiler_StaticMethods_resetSessionIds$$($JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$) {
  if ($JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$g$) {
    const $sessionId$jscomp$35$$ = $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$g$.getSessionId(), $subSessionId$jscomp$9$$ = $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$g$.getSubSessionId();
    $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{2fd42df}", $sessionId$jscomp$35$$, $subSessionId$jscomp$9$$);
    var $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$ = $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$l$;
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$.subSessionId = $subSessionId$jscomp$9$$;
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$.$j$.clear();
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$.$l$ = 0;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$C$.subSessionId = $subSessionId$jscomp$9$$;
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$ = $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$l$;
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$.sessionId = $sessionId$jscomp$35$$;
    $JSCompiler_StaticMethods_JSC$2953_setSessionId$self$jscomp$inline_1011_JSCompiler_StaticMethods_JSC$2953_setSubSessionId$self$jscomp$inline_1005$$.$m$ = 0;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$C$.sessionId = $sessionId$jscomp$35$$;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$ = $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$o$;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$m$ = !1;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$o$ = !1;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$v$ = !1;
    $JSCompiler_StaticMethods_resetDataOnNewSubSession$self$jscomp$inline_1017_JSCompiler_StaticMethods_resetSessionIds$self$$.$s$ = !1;
  }
}
function $JSCompiler_StaticMethods_terminateOrAbortStreaming$$($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$, $errorCode$jscomp$10$$) {
  var $_a$jscomp$205_streamingTerminatedEvent$$, $_b$jscomp$93$$, $_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$, $_d$jscomp$41$$, $_e$jscomp$25$$, $_f$jscomp$22$$, $_g$jscomp$17$$, $_h$jscomp$13$$, $_j$jscomp$13$$, $_k$jscomp$11$$;
  $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$B$ && ($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$B$ = !1, $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.framesDecoded = null !== ($_b$jscomp$93$$ = null === ($_a$jscomp$205_streamingTerminatedEvent$$ = $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$h$) || void 0 === $_a$jscomp$205_streamingTerminatedEvent$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($_a$jscomp$205_streamingTerminatedEvent$$)) && 
  void 0 !== $_b$jscomp$93$$ ? $_b$jscomp$93$$ : 0, $_a$jscomp$205_streamingTerminatedEvent$$ = {sessionId:null !== ($_d$jscomp$41$$ = null === ($_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$ = $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$g$) || void 0 === $_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$ ? void 0 : $_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$.getSessionId()) && void 0 !== $_d$jscomp$41$$ ? $_d$jscomp$41$$ : "", subSessionId:null !== ($_f$jscomp$22$$ = null === ($_e$jscomp$25$$ = 
  $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$g$) || void 0 === $_e$jscomp$25$$ ? void 0 : $_e$jscomp$25$$.getSubSessionId()) && void 0 !== $_f$jscomp$22$$ ? $_f$jscomp$22$$ : "", zoneName:null !== ($_h$jscomp$13$$ = null === ($_g$jscomp$17$$ = $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$g$) || void 0 === $_g$jscomp$17$$ ? void 0 : $_g$jscomp$17$$.getZoneName()) && void 0 !== $_h$jscomp$13$$ ? $_h$jscomp$13$$ : "", zoneAddress:(null === ($_j$jscomp$13$$ = $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$g$) || 
  void 0 === $_j$jscomp$13$$ ? void 0 : $_j$jscomp$13$$.getZoneAddress()) || $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$j$.serverAddress, error:{code:$errorCode$jscomp$10$$}}, $_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$ = $JSCompiler_StaticMethods_getStreamExitEventData$$($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$, $_a$jscomp$205_streamingTerminatedEvent$$, performance.now() - $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.startTime), $JSCompiler_StaticMethods_shutdown$$($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$m$), 
  (!$JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$h$ || (null === ($_k$jscomp$11$$ = $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.$h$) || void 0 === $_k$jscomp$11$$ ? 0 : $_k$jscomp$11$$.$C$)) && $JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$$($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$, $_c$jscomp$58_exitAnalyticsEvent$jscomp$4$$), $JSCompiler_StaticMethods_stopStreamClient$$($JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$, $errorCode$jscomp$10$$), 
  $JSCompiler_StaticMethods_terminateOrAbortStreaming$self$$.cancelSessionSetup());
}
function $JSCompiler_StaticMethods_clearExitEventCacheTimeout$$($JSCompiler_StaticMethods_clearExitEventCacheTimeout$self$$) {
  0 !== $JSCompiler_StaticMethods_clearExitEventCacheTimeout$self$$.$A$ && (window.clearTimeout($JSCompiler_StaticMethods_clearExitEventCacheTimeout$self$$.$A$), $JSCompiler_StaticMethods_clearExitEventCacheTimeout$self$$.$A$ = 0);
}
function $JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$$($JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$, $eventPayload$jscomp$inline_1022_exitAnalyticsEventData$$) {
  $JSCompiler_StaticMethods_clearExitEventCacheTimeout$$($JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$);
  $JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$ = $JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$.$l$;
  $eventPayload$jscomp$inline_1022_exitAnalyticsEventData$$ = $JSCompiler_StaticMethods_getStreamerExitEventPayload$$($JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$.$h$, $eventPayload$jscomp$inline_1022_exitAnalyticsEventData$$);
  $JSCompiler_StaticMethods_processExitEvent$$($JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$, $eventPayload$jscomp$inline_1022_exitAnalyticsEventData$$);
  $JSCompiler_StaticMethods_clearExitEventStore$$($JSCompiler_StaticMethods_JSC$2953_sendExitAnalyticsEvent$self$jscomp$inline_1019_JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$self$$.$h$);
}
function $JSCompiler_StaticMethods_getStreamExitEventData$$($JSCompiler_StaticMethods_getStreamExitEventData$self$$, $data$jscomp$106$$, $streamDuration$jscomp$1$$, $connectivity$$, $sleep$$) {
  var $_a$jscomp$167$$, $_b$jscomp$76$$, $_c$jscomp$45$$, $_d$jscomp$32$$;
  return {exitErrorCode:$data$jscomp$106$$.error ? $module$contents$rtcutils_core$output$utils_GetHexString$$($data$jscomp$106$$.error.code) : $module$contents$rtcutils_core$output$utils_GetHexString$$(15859712), sessionId:$data$jscomp$106$$.sessionId, subSessionId:$data$jscomp$106$$.subSessionId, zoneAddress:$data$jscomp$106$$.zoneAddress, streamDuration:$streamDuration$jscomp$1$$, frameCount:$JSCompiler_StaticMethods_getStreamExitEventData$self$$.framesDecoded, codec:null !== ($_b$jscomp$76$$ = 
  null === ($_a$jscomp$167$$ = $JSCompiler_StaticMethods_getStreamExitEventData$self$$.$h$) || void 0 === $_a$jscomp$167$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$$($_a$jscomp$167$$)) && void 0 !== $_b$jscomp$76$$ ? $_b$jscomp$76$$ : "UNKNOWN", isResume:$JSCompiler_StaticMethods_getStreamExitEventData$self$$.isResume, connectivity:null !== $connectivity$$ && void 0 !== $connectivity$$ ? $connectivity$$ : "undefined", sleep:null !== $sleep$$ && void 0 !== $sleep$$ ? $sleep$$ : 
  !1, networkTestSessionId:null !== ($_d$jscomp$32$$ = null === ($_c$jscomp$45$$ = $JSCompiler_StaticMethods_getStreamExitEventData$self$$.$s$) || void 0 === $_c$jscomp$45$$ ? void 0 : $_c$jscomp$45$$.$sessionParams$.networkSessionId) && void 0 !== $_d$jscomp$32$$ ? $_d$jscomp$32$$ : ""};
}
function $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$$($JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$) {
  var $_a$jscomp$177$$;
  $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$$($JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$, $module$contents$rtcutils_core$output$utils_GetHexString$$(null !== ($_a$jscomp$177$$ = $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$.$I$) && void 0 !== $_a$jscomp$177$$ ? $_a$jscomp$177$$ : 15867911));
  const $currentTimeoutId$$ = $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$.$A$;
  $JSCompiler_StaticMethods_cacheExitEventInDb$$($JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$.$o$).then(() => {
    $currentTimeoutId$$ === $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$.$A$ && $JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$$($JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$self$$);
  }).catch(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{204a7ac}");
  });
}
function $JSCompiler_StaticMethods_getGridAppUninitializedError$$($apiName$$) {
  return {code:3237093380, description:$apiName$$ + " called before initialize"};
}
function $JSCompiler_StaticMethods_onSessionStartException$$($JSCompiler_StaticMethods_onSessionStartException$self$$, $exp$jscomp$22$$) {
  var $_a$jscomp$173$$, $_b$jscomp$79$$, $_c$jscomp$47$$, $_d$jscomp$34$$, $_e$jscomp$20$$, $_f$jscomp$17$$, $_g$jscomp$13$$, $_h$jscomp$11$$, $_j$jscomp$11$$, $_k$jscomp$10$$, $_l$jscomp$7$$;
  let $result$jscomp$26$$ = {sessionId:null !== ($_b$jscomp$79$$ = null === ($_a$jscomp$173$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$g$) || void 0 === $_a$jscomp$173$$ ? void 0 : $_a$jscomp$173$$.getSessionId()) && void 0 !== $_b$jscomp$79$$ ? $_b$jscomp$79$$ : "", subSessionId:null !== ($_d$jscomp$34$$ = null === ($_c$jscomp$47$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$g$) || void 0 === $_c$jscomp$47$$ ? void 0 : $_c$jscomp$47$$.getSubSessionId()) && void 0 !== 
  $_d$jscomp$34$$ ? $_d$jscomp$34$$ : "", error:{code:3237089284, description:"Quitting due to exception"}, streamInfo:null === ($_e$jscomp$20$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$v$) || void 0 === $_e$jscomp$20$$ ? void 0 : $_e$jscomp$20$$.streamInfo, zoneName:null !== ($_g$jscomp$13$$ = null === ($_f$jscomp$17$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$g$) || void 0 === $_f$jscomp$17$$ ? void 0 : $_f$jscomp$17$$.getZoneName()) && void 0 !== $_g$jscomp$13$$ ? 
  $_g$jscomp$13$$ : "", zoneAddress:null !== ($_j$jscomp$11$$ = null === ($_h$jscomp$11$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$g$) || void 0 === $_h$jscomp$11$$ ? void 0 : $_h$jscomp$11$$.getZoneAddress()) && void 0 !== $_j$jscomp$11$$ ? $_j$jscomp$11$$ : "", gpuType:null !== ($_l$jscomp$7$$ = null === ($_k$jscomp$10$$ = $JSCompiler_StaticMethods_onSessionStartException$self$$.$g$) || void 0 === $_k$jscomp$10$$ ? void 0 : $_k$jscomp$10$$.getGpuType()) && void 0 !== $_l$jscomp$7$$ ? 
  $_l$jscomp$7$$ : "", isResume:$JSCompiler_StaticMethods_onSessionStartException$self$$.isResume};
  $JSCompiler_StaticMethods_onSessionStart$$($JSCompiler_StaticMethods_onSessionStartException$self$$, $result$jscomp$26$$, !0);
  $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{90f98fb}", $exp$jscomp$22$$);
  $JSCompiler_StaticMethods_onSessionStartException$self$$.$l$.$g$($exp$jscomp$22$$, "Exception happened in session call", "{9d1820c}.ts", 0, 0, !0);
}
function $JSCompiler_StaticMethods_onSessionStartError$$($JSCompiler_StaticMethods_onSessionStartError$self$$, $error$jscomp$31$$) {
  var $subSessionId$jscomp$10$$ = $module$contents$rtcutils_core$output$utils_getNewGuid$$();
  $JSCompiler_StaticMethods_onSessionStart$$($JSCompiler_StaticMethods_onSessionStartError$self$$, {sessionId:"", subSessionId:$subSessionId$jscomp$10$$, error:$error$jscomp$31$$, zoneName:"", zoneAddress:"", gpuType:"", isResume:$JSCompiler_StaticMethods_onSessionStartError$self$$.isResume}, !0);
}
function $JSCompiler_StaticMethods_startStreaming$$($JSCompiler_StaticMethods_startStreaming$self$$, $sessionStartParams$jscomp$4$$) {
  var $_a$jscomp$182_region$$, $_b$jscomp$86$$, $_c$jscomp$52$$, $_d$jscomp$38$$;
  let $progressData$$ = {sessionId:null !== ($_b$jscomp$86$$ = null === ($_a$jscomp$182_region$$ = $JSCompiler_StaticMethods_startStreaming$self$$.$g$) || void 0 === $_a$jscomp$182_region$$ ? void 0 : $_a$jscomp$182_region$$.getSessionId()) && void 0 !== $_b$jscomp$86$$ ? $_b$jscomp$86$$ : "", subSessionId:null !== ($_d$jscomp$38$$ = null === ($_c$jscomp$52$$ = $JSCompiler_StaticMethods_startStreaming$self$$.$g$) || void 0 === $_c$jscomp$52$$ ? void 0 : $_c$jscomp$52$$.getSubSessionId()) && void 0 !== 
  $_d$jscomp$38$$ ? $_d$jscomp$38$$ : "", queuePosition:0, eta:0, state:"StartingStreamer"};
  $JSCompiler_StaticMethods_startStreaming$self$$.emit("ProgressUpdate", $progressData$$);
  $_a$jscomp$182_region$$ = $module$contents$rtcutils_core$output$utils_IsValidIPv4$$($JSCompiler_StaticMethods_startStreaming$self$$.$j$.serverAddress) ? "" : $JSCompiler_StaticMethods_startStreaming$self$$.$j$.serverAddress.split(".")[0];
  const {$videoElement$:$videoElement$jscomp$13$$, $audioElement$:$audioElement$jscomp$3$$} = $sessionStartParams$jscomp$4$$.$validatedStreamParams$[0];
  if ($module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_startStreaming$self$$.$platformDetails$, !1, 15)) {
    $videoElement$jscomp$13$$.ragnarokOldPlay || ($videoElement$jscomp$13$$.ragnarokOldPlay = $videoElement$jscomp$13$$.play);
    const $shouldResetSrc$$ = $module$exports$output$util$settings$RagnarokSettings$$.$allowSourceReset$ && $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_startStreaming$self$$.$platformDetails$, !0, 15, 1);
    $videoElement$jscomp$13$$.play = () => {
      $module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$ && ($module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{4a5b360}"), $JSCompiler_StaticMethods_removeContextFix$$($JSCompiler_StaticMethods_startStreaming$self$$), $JSCompiler_StaticMethods_applyContextFix$$($JSCompiler_StaticMethods_startStreaming$self$$), $JSCompiler_StaticMethods_startStreaming$self$$.$m$.$o$());
      if ($shouldResetSrc$$) {
        $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{8f5cd77}");
        const $src$jscomp$4$$ = $videoElement$jscomp$13$$.srcObject;
        $videoElement$jscomp$13$$.srcObject = null;
        $videoElement$jscomp$13$$.srcObject = $src$jscomp$4$$;
      }
      return $videoElement$jscomp$13$$.ragnarokOldPlay.apply($videoElement$jscomp$13$$);
    };
  }
  $module$exports$output$util$settings$RagnarokSettings$$.$allowAutoplayChange$ && ($module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_startStreaming$self$$.$platformDetails$, !0, 15, 0) || $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_StaticMethods_startStreaming$self$$.$platformDetails$, !0, 15, 1)) && ($videoElement$jscomp$13$$.hasAttribute("data-shouldautoplay") ? $videoElement$jscomp$13$$.setAttribute("autoplay", "") : ($videoElement$jscomp$13$$.setAttribute("data-shouldautoplay", 
  ""), $videoElement$jscomp$13$$.removeAttribute("autoplay")));
  $JSCompiler_StaticMethods_startStreaming$self$$.$h$ = new $module$exports$output$streamclient$StreamClient$$($JSCompiler_StaticMethods_startStreaming$self$$, $videoElement$jscomp$13$$, $audioElement$jscomp$3$$, $JSCompiler_StaticMethods_startStreaming$self$$.$m$, $JSCompiler_StaticMethods_startStreaming$self$$.$S$, $JSCompiler_StaticMethods_startStreaming$self$$.$R$, $JSCompiler_StaticMethods_startStreaming$self$$.$D$, $JSCompiler_StaticMethods_startStreaming$self$$.$l$, $JSCompiler_StaticMethods_startStreaming$self$$.$platformDetails$, 
  $JSCompiler_StaticMethods_startStreaming$self$$.$v$, $sessionStartParams$jscomp$4$$.$sessionParams$.accessToken || "", $sessionStartParams$jscomp$4$$.$sessionParams$.streamParams[0], $JSCompiler_StaticMethods_startStreaming$self$$.$P$, $JSCompiler_StaticMethods_startStreaming$self$$.$j$.textInputElement, $JSCompiler_StaticMethods_startStreaming$self$$.$j$.clientAppVersion, $JSCompiler_StaticMethods_startStreaming$self$$.isResume, $_a$jscomp$182_region$$);
  $JSCompiler_StaticMethods_startStreaming$self$$.$h$.start();
  $sessionStartParams$jscomp$4$$.$sessionParams$.keyboardLayout && $JSCompiler_StaticMethods_startStreaming$self$$.$h$.setKeyboardLayout($sessionStartParams$jscomp$4$$.$sessionParams$.keyboardLayout);
  $JSCompiler_StaticMethods_JSC$2953_sendCachedExitEvent$$($JSCompiler_StaticMethods_startStreaming$self$$.$l$).then(() => {
    $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$$($JSCompiler_StaticMethods_startStreaming$self$$);
  }).catch(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{c761bfd}");
  });
}
function $JSCompiler_StaticMethods_runSession$$($JSCompiler_StaticMethods_runSession$self$$, $action$jscomp$7$$, $sessionStartParams$jscomp$2$$, $sessionId$jscomp$37$$) {
  var $_a$jscomp$174$$;
  $JSCompiler_StaticMethods_runSession$self$$.$v$ = void 0;
  $JSCompiler_StaticMethods_runSession$self$$.$O$ = !1;
  if ($JSCompiler_StaticMethods_runSession$self$$.$g$) {
    $sessionStartParams$jscomp$2$$.$sessionParams$.remoteControllersBitmap = $JSCompiler_StaticMethods_getBitmap$$($JSCompiler_StaticMethods_runSession$self$$.$D$);
    try {
      $JSCompiler_StaticMethods_JSC$2953_setGameDetails$$($JSCompiler_StaticMethods_runSession$self$$.$l$, $sessionStartParams$jscomp$2$$.$sessionParams$.appId, null !== ($_a$jscomp$174$$ = $sessionStartParams$jscomp$2$$.$sessionParams$.shortName) && void 0 !== $_a$jscomp$174$$ ? $_a$jscomp$174$$ : "");
      $JSCompiler_StaticMethods_runSession$self$$.startTime = performance.now();
      $JSCompiler_StaticMethods_startSleepDetectionTimer$$($JSCompiler_StaticMethods_runSession$self$$.$C$);
      $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{892168d}", $module$exports$rtcutils_core$output$logger$Log$$.sanitize(JSON.stringify($sessionStartParams$jscomp$2$$.$sessionParams$)));
      const $gridServer$jscomp$1$$ = $JSCompiler_StaticMethods_runSession$self$$.$g$;
      $gridServer$jscomp$1$$.putOrPostSession($sessionStartParams$jscomp$2$$.$sessionParams$, $action$jscomp$7$$, $sessionId$jscomp$37$$).then($session$jscomp$6$$ => {
        $JSCompiler_StaticMethods_resetSessionIds$$($JSCompiler_StaticMethods_runSession$self$$);
        $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{92a2573}", null === $session$jscomp$6$$ || void 0 === $session$jscomp$6$$ ? void 0 : $session$jscomp$6$$.sessionId, null === $session$jscomp$6$$ || void 0 === $session$jscomp$6$$ ? void 0 : $session$jscomp$6$$.subSessionId);
        return "ready_for_connection" === (null === $session$jscomp$6$$ || void 0 === $session$jscomp$6$$ ? void 0 : $session$jscomp$6$$.state) ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{2042e0a}"), $JSCompiler_StaticMethods_runSession$self$$.$v$ = $session$jscomp$6$$, new Promise($resolve$jscomp$25$$ => {
          $resolve$jscomp$25$$($session$jscomp$6$$);
        })) : $gridServer$jscomp$1$$.getSession($session$jscomp$6$$.sessionId, !0);
      }).then($session$jscomp$7$$ => {
        $JSCompiler_StaticMethods_runSession$self$$.$v$ = $session$jscomp$7$$;
        $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{315afdc}", null === $session$jscomp$7$$ || void 0 === $session$jscomp$7$$ ? void 0 : $session$jscomp$7$$.sessionId);
        $JSCompiler_StaticMethods_startStreaming$$($JSCompiler_StaticMethods_runSession$self$$, $sessionStartParams$jscomp$2$$);
      }).catch($error$jscomp$32$$ => {
        var $_a$jscomp$175$$, $_b$jscomp$80$$, $_c$jscomp$48$$, $_d$jscomp$35$$, $_e$jscomp$21$$, $_f$jscomp$18$$;
        $JSCompiler_StaticMethods_resetSessionIds$$($JSCompiler_StaticMethods_runSession$self$$);
        if ($error$jscomp$32$$.code) {
          if (15867905 == $error$jscomp$32$$.code || 15867906 == $error$jscomp$32$$.code) {
            !$gridServer$jscomp$1$$.getSessionId() || $JSCompiler_StaticMethods_runSession$self$$.$O$ && $JSCompiler_StaticMethods_runSession$self$$.isResume || $JSCompiler_StaticMethods_runSession$self$$.sendDeleteRequest($gridServer$jscomp$1$$.getSessionId(), $gridServer$jscomp$1$$);
          }
          $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{09efe49}", $module$contents$rtcutils_core$output$utils_GetHexString$$($error$jscomp$32$$.code));
          let $result$jscomp$29$$ = {sessionId:null !== ($_a$jscomp$175$$ = $gridServer$jscomp$1$$.getSessionId()) && void 0 !== $_a$jscomp$175$$ ? $_a$jscomp$175$$ : "", subSessionId:null !== ($_b$jscomp$80$$ = $gridServer$jscomp$1$$.getSubSessionId()) && void 0 !== $_b$jscomp$80$$ ? $_b$jscomp$80$$ : "", error:$error$jscomp$32$$, sessionList:$error$jscomp$32$$.sessionList, streamInfo:null === ($_c$jscomp$48$$ = $JSCompiler_StaticMethods_runSession$self$$.$v$) || void 0 === $_c$jscomp$48$$ ? void 0 : 
          $_c$jscomp$48$$.streamInfo, zoneName:null !== ($_d$jscomp$35$$ = $gridServer$jscomp$1$$.getZoneName()) && void 0 !== $_d$jscomp$35$$ ? $_d$jscomp$35$$ : "", zoneAddress:null !== ($_e$jscomp$21$$ = $gridServer$jscomp$1$$.getZoneAddress()) && void 0 !== $_e$jscomp$21$$ ? $_e$jscomp$21$$ : "", gpuType:null !== ($_f$jscomp$18$$ = $gridServer$jscomp$1$$.getGpuType()) && void 0 !== $_f$jscomp$18$$ ? $_f$jscomp$18$$ : "", isResume:$JSCompiler_StaticMethods_runSession$self$$.isResume};
          $JSCompiler_StaticMethods_onSessionStart$$($JSCompiler_StaticMethods_runSession$self$$, $result$jscomp$29$$, !0);
        } else {
          $JSCompiler_StaticMethods_onSessionStartException$$($JSCompiler_StaticMethods_runSession$self$$, $error$jscomp$32$$);
        }
      });
    } catch ($exp$jscomp$23$$) {
      $JSCompiler_StaticMethods_onSessionStartException$$($JSCompiler_StaticMethods_runSession$self$$, $exp$jscomp$23$$);
    }
  } else {
    $JSCompiler_StaticMethods_runSession$self$$.emit("SessionStartResult", {sessionId:"", subSessionId:"", zoneName:"", zoneAddress:"", gpuType:"", isResume:$JSCompiler_StaticMethods_runSession$self$$.isResume, error:$JSCompiler_StaticMethods_getGridAppUninitializedError$$($JSCompiler_StaticMethods_runSession$self$$.isResume ? "Resume" : "Start")});
  }
}
function $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$$($JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$, $exitErrorCode$jscomp$1$$) {
  var $_a$jscomp$176_subSessionId$jscomp$inline_1027$$, $_b$jscomp$81$$, $_c$jscomp$49_zoneAddress$jscomp$inline_1028$$, $_d$jscomp$36$$, $_e$jscomp$22_frameCount$jscomp$inline_1030$$, $_f$jscomp$19_codec$jscomp$inline_1031$$, $_g$jscomp$14$$, $_h$jscomp$12$$, $_j$jscomp$12$$, $JSCompiler_StaticMethods_updateCachedExitEvent$self$jscomp$inline_1024$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$o$, $sessionId$jscomp$inline_1026$$ = null !== 
  ($_b$jscomp$81$$ = null === ($_a$jscomp$176_subSessionId$jscomp$inline_1027$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$g$) || void 0 === $_a$jscomp$176_subSessionId$jscomp$inline_1027$$ ? void 0 : $_a$jscomp$176_subSessionId$jscomp$inline_1027$$.getSessionId()) && void 0 !== $_b$jscomp$81$$ ? $_b$jscomp$81$$ : "";
  $_a$jscomp$176_subSessionId$jscomp$inline_1027$$ = null !== ($_d$jscomp$36$$ = null === ($_c$jscomp$49_zoneAddress$jscomp$inline_1028$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$g$) || void 0 === $_c$jscomp$49_zoneAddress$jscomp$inline_1028$$ ? void 0 : $_c$jscomp$49_zoneAddress$jscomp$inline_1028$$.getSubSessionId()) && void 0 !== $_d$jscomp$36$$ ? $_d$jscomp$36$$ : "";
  $_c$jscomp$49_zoneAddress$jscomp$inline_1028$$ = (null === ($_e$jscomp$22_frameCount$jscomp$inline_1030$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$g$) || void 0 === $_e$jscomp$22_frameCount$jscomp$inline_1030$$ ? void 0 : $_e$jscomp$22_frameCount$jscomp$inline_1030$$.getZoneAddress()) || $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$j$.serverAddress;
  $_e$jscomp$22_frameCount$jscomp$inline_1030$$ = null !== ($_g$jscomp$14$$ = null === ($_f$jscomp$19_codec$jscomp$inline_1031$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$h$) || void 0 === $_f$jscomp$19_codec$jscomp$inline_1031$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($_f$jscomp$19_codec$jscomp$inline_1031$$)) && void 0 !== $_g$jscomp$14$$ ? $_g$jscomp$14$$ : 0;
  $_f$jscomp$19_codec$jscomp$inline_1031$$ = null !== ($_j$jscomp$12$$ = null === ($_h$jscomp$12$$ = $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.$h$) || void 0 === $_h$jscomp$12$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getVideoCodec$$($_h$jscomp$12$$)) && void 0 !== $_j$jscomp$12$$ ? $_j$jscomp$12$$ : "UNKNOWN";
  $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$ = $JSCompiler_StaticMethods_getStreamerExitEventPayload$$($JSCompiler_StaticMethods_updateCachedExitEvent$self$jscomp$inline_1024$$, {exitErrorCode:$exitErrorCode$jscomp$1$$, sessionId:$sessionId$jscomp$inline_1026$$, subSessionId:$_a$jscomp$176_subSessionId$jscomp$inline_1027$$, zoneAddress:$_c$jscomp$49_zoneAddress$jscomp$inline_1028$$, streamDuration:performance.now() - $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.startTime, 
  frameCount:$_e$jscomp$22_frameCount$jscomp$inline_1030$$, codec:$_f$jscomp$19_codec$jscomp$inline_1031$$, isResume:$JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$.isResume, connectivity:"", sleep:!1, networkTestSessionId:""});
  $JSCompiler_StaticMethods_updateCachedExitEventData$$($JSCompiler_StaticMethods_updateCachedExitEvent$self$jscomp$inline_1024$$, $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$self_eventPayload$jscomp$inline_1033$$);
}
function $JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$$($JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$self$$) {
  $JSCompiler_StaticMethods_clearExitEventCacheTimeout$$($JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$self$$);
  $JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$self$$.$A$ = window.setTimeout(() => $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$$($JSCompiler_StaticMethods_setPeriodicExitEventCacheTimeout$self$$), 12E4);
}
function $JSCompiler_StaticMethods_clearSystemIdleTimeout$$($JSCompiler_StaticMethods_clearSystemIdleTimeout$self$$) {
  $JSCompiler_StaticMethods_clearSystemIdleTimeout$self$$.$K$ && (window.clearTimeout($JSCompiler_StaticMethods_clearSystemIdleTimeout$self$$.$K$), $JSCompiler_StaticMethods_clearSystemIdleTimeout$self$$.$K$ = 0);
}
function $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$$($JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$) {
  window.removeEventListener("pagehide", $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$W$);
  window.removeEventListener("online", $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$T$);
  document.removeEventListener("visibilitychange", $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$$$);
  navigator.mediaDevices && navigator.mediaDevices.removeEventListener("devicechange", $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$L$);
  $module$contents$rtcutils_core$output$utils_IsWebOS$$($JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$platformDetails$) && (document.removeEventListener("SystemIdle", $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$.$V$), $JSCompiler_StaticMethods_clearSystemIdleTimeout$$($JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$self$$));
}
function $JSCompiler_StaticMethods_prepareSession$$($JSCompiler_StaticMethods_prepareSession$self$$, $isResume$jscomp$7$$) {
  $JSCompiler_StaticMethods_prepareSession$self$$.$I$ = void 0;
  $JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$$($JSCompiler_StaticMethods_prepareSession$self$$.$o$);
  $JSCompiler_StaticMethods_prepareSession$self$$.$B$ = !0;
  window.addEventListener("pagehide", $JSCompiler_StaticMethods_prepareSession$self$$.$W$);
  window.addEventListener("online", $JSCompiler_StaticMethods_prepareSession$self$$.$T$);
  document.addEventListener("visibilitychange", $JSCompiler_StaticMethods_prepareSession$self$$.$$$);
  navigator.mediaDevices && navigator.mediaDevices.addEventListener("devicechange", $JSCompiler_StaticMethods_prepareSession$self$$.$L$);
  $JSCompiler_StaticMethods_prepareSession$self$$.isResume = $isResume$jscomp$7$$;
  $JSCompiler_StaticMethods_prepareSession$self$$.$G$ && $JSCompiler_StaticMethods_prepareSession$self$$.$l$.$emitDebugEvent$("SessionSetupInProgressError", $JSCompiler_StaticMethods_prepareSession$self$$.isResume ? "resume" : "start");
  $JSCompiler_StaticMethods_prepareSession$self$$.$G$ = !0;
}
function $JSCompiler_StaticMethods_updateSessionParams$$($JSCompiler_StaticMethods_updateSessionParams$self$$, $params$jscomp$5_validated$$) {
  var $_a$jscomp$189$$, $_b$jscomp$92$$, $_c$jscomp$57$$;
  $params$jscomp$5_validated$$ = {$sessionParams$:Object.assign({}, $params$jscomp$5_validated$$), $validatedStreamParams$:[]};
  if ($params$jscomp$5_validated$$.$sessionParams$.streamParams) {
    for (const $stream$jscomp$27$$ of $params$jscomp$5_validated$$.$sessionParams$.streamParams) {
      const $videoElement$jscomp$14$$ = document.getElementById($stream$jscomp$27$$.videoTagId);
      if (null == $videoElement$jscomp$14$$ || !($videoElement$jscomp$14$$ instanceof HTMLVideoElement)) {
        $JSCompiler_StaticMethods_onSessionStartError$$($JSCompiler_StaticMethods_updateSessionParams$self$$, {code:3237094400, description:"Didn't find video element for videoTagId: " + $stream$jscomp$27$$.videoTagId});
        return;
      }
      const $audioElement$jscomp$4$$ = document.getElementById($stream$jscomp$27$$.audioTagId);
      if (null == $audioElement$jscomp$4$$ || !($audioElement$jscomp$4$$ instanceof HTMLAudioElement)) {
        $JSCompiler_StaticMethods_onSessionStartError$$($JSCompiler_StaticMethods_updateSessionParams$self$$, {code:3237094401, description:"Didn't find audio element for audioTagId: " + $stream$jscomp$27$$.audioTagId});
        return;
      }
      $params$jscomp$5_validated$$.$validatedStreamParams$.push({$videoElement$:$videoElement$jscomp$14$$, $audioElement$:$audioElement$jscomp$4$$});
    }
  }
  $params$jscomp$5_validated$$.$sessionParams$.keyboardLayout = null !== ($_a$jscomp$189$$ = $params$jscomp$5_validated$$.$sessionParams$.keyboardLayout) && void 0 !== $_a$jscomp$189$$ ? $_a$jscomp$189$$ : $module$contents$rtcutils_core$output$utils_IsMacOS$$($JSCompiler_StaticMethods_updateSessionParams$self$$.$platformDetails$) ? "m-us" : "en_US";
  if (void 0 === $params$jscomp$5_validated$$.$sessionParams$.appLaunchMode || 0 === $params$jscomp$5_validated$$.$sessionParams$.appLaunchMode) {
    $params$jscomp$5_validated$$.$sessionParams$.appLaunchMode = $module$contents$rtcutils_core$output$utils_IsTouchDevice$$() || $module$contents$rtcutils_core$output$utils_IsTV$$($JSCompiler_StaticMethods_updateSessionParams$self$$.$platformDetails$) || "Xbox" === $JSCompiler_StaticMethods_updateSessionParams$self$$.$platformDetails$.os ? 1 : 0;
  }
  if ($module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$) {
    if ($params$jscomp$5_validated$$.$sessionParams$.metaData) {
      for (const $key$jscomp$62$$ in $module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$) {
        $params$jscomp$5_validated$$.$sessionParams$.metaData[$key$jscomp$62$$] = $module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$[$key$jscomp$62$$];
      }
    } else {
      $params$jscomp$5_validated$$.$sessionParams$.metaData = $module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$;
    }
  }
  void 0 !== $module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode && ($params$jscomp$5_validated$$.$sessionParams$.appLaunchMode = $module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode, $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{c4969b1}", $module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode));
  const $shouldOverrideResolution$$ = !!$module$exports$output$util$settings$RagnarokSettings$$.$resWidth$ && !!$module$exports$output$util$settings$RagnarokSettings$$.$resHeight$, $shouldOverrideFps$$ = !!$module$exports$output$util$settings$RagnarokSettings$$.fps;
  if ($shouldOverrideResolution$$ || $shouldOverrideFps$$) {
    null === ($_b$jscomp$92$$ = $params$jscomp$5_validated$$.$sessionParams$.streamParams) || void 0 === $_b$jscomp$92$$ ? void 0 : $_b$jscomp$92$$.forEach($item$jscomp$23$$ => {
      $shouldOverrideResolution$$ && ($item$jscomp$23$$.width = $module$exports$output$util$settings$RagnarokSettings$$.$resWidth$, $item$jscomp$23$$.height = $module$exports$output$util$settings$RagnarokSettings$$.$resHeight$);
      $shouldOverrideFps$$ && ($item$jscomp$23$$.fps = $module$exports$output$util$settings$RagnarokSettings$$.fps);
    }), null === ($_c$jscomp$57$$ = $params$jscomp$5_validated$$.$sessionParams$.monitorSettings) || void 0 === $_c$jscomp$57$$ ? void 0 : $_c$jscomp$57$$.forEach($item$jscomp$24$$ => {
      $shouldOverrideResolution$$ && ($item$jscomp$24$$.widthInPixels = $module$exports$output$util$settings$RagnarokSettings$$.$resWidth$, $item$jscomp$24$$.heightInPixels = $module$exports$output$util$settings$RagnarokSettings$$.$resHeight$);
      $shouldOverrideFps$$ && ($item$jscomp$24$$.framesPerSecond = $module$exports$output$util$settings$RagnarokSettings$$.fps);
    }), $shouldOverrideResolution$$ && $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{92a6b38}", $module$exports$output$util$settings$RagnarokSettings$$.$resWidth$, $module$exports$output$util$settings$RagnarokSettings$$.$resHeight$), $shouldOverrideFps$$ && $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{6618bcd}", $module$exports$output$util$settings$RagnarokSettings$$.fps);
  }
  $JSCompiler_StaticMethods_updateSessionParams$self$$.$s$ = $params$jscomp$5_validated$$;
  return $JSCompiler_StaticMethods_updateSessionParams$self$$.$s$;
}
function $JSCompiler_StaticMethods_stopStreamClient$$($JSCompiler_StaticMethods_stopStreamClient$self$$, $code$jscomp$10$$) {
  $JSCompiler_StaticMethods_stopStreamClient$self$$.$h$ && ($JSCompiler_StaticMethods_stopStreamClient$self$$.$h$.stop($code$jscomp$10$$), $JSCompiler_StaticMethods_stopStreamClient$self$$.$h$ = void 0);
}
function $JSCompiler_StaticMethods_notifyClientOfStop$$($JSCompiler_StaticMethods_notifyClientOfStop$self$$, $result$jscomp$34_sessionId$jscomp$42$$, $error$jscomp$34$$) {
  var $_a$jscomp$184$$, $_b$jscomp$88$$;
  $result$jscomp$34_sessionId$jscomp$42$$ = {sessionId:$result$jscomp$34_sessionId$jscomp$42$$, subSessionId:null !== ($_b$jscomp$88$$ = null === ($_a$jscomp$184$$ = $JSCompiler_StaticMethods_notifyClientOfStop$self$$.$g$) || void 0 === $_a$jscomp$184$$ ? void 0 : $_a$jscomp$184$$.getSubSessionId()) && void 0 !== $_b$jscomp$88$$ ? $_b$jscomp$88$$ : "", framesDecoded:$JSCompiler_StaticMethods_notifyClientOfStop$self$$.framesDecoded, error:$error$jscomp$34$$};
  $JSCompiler_StaticMethods_removeContextFix$$($JSCompiler_StaticMethods_notifyClientOfStop$self$$);
  $module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_StaticMethods_notifyClientOfStop$self$$.$platformDetails$) && $JSCompiler_StaticMethods_notifyClientOfStop$self$$.$micEnabled$ && ($module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{b9b1288}"), $JSCompiler_StaticMethods_notifyClientOfStop$self$$.setMicRecordingEnabled(!1));
  $JSCompiler_StaticMethods_notifyClientOfStop$self$$.emit("SessionStopResult", $result$jscomp$34_sessionId$jscomp$42$$);
}
function $JSCompiler_StaticMethods_removeContextFix$$($JSCompiler_StaticMethods_removeContextFix$self$$) {
  $module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$ && (window.ios15AudioContext && (window.ios15AudioContext.close(), window.ios15AudioContext = void 0, $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{0ac2a42}")), window.ios15AudioStream = void 0, navigator.mediaDevices && $JSCompiler_StaticMethods_removeContextFix$self$$.$F$ && navigator.mediaDevices.removeEventListener("devicechange", $JSCompiler_StaticMethods_removeContextFix$self$$.$F$));
}
function $JSCompiler_StaticMethods_applyContextFix$$($JSCompiler_StaticMethods_applyContextFix$self$$) {
  if ($module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$) {
    if (window.ios15AudioContext) {
      $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{e2aba64}");
    } else {
      var $context$jscomp$5$$ = new (window.AudioContext || window.webkitAudioContext)({latencyHint:"interactive", sampleRate:48000});
      $context$jscomp$5$$.onstatechange = () => {
        "suspended" === $context$jscomp$5$$.state && ($context$jscomp$5$$.resume(), $JSCompiler_StaticMethods_applyContextFix$self$$.$m$.$o$(), $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{faee684}"));
      };
      window.ios15AudioContext = $context$jscomp$5$$;
      window.ios15AudioStream = $context$jscomp$5$$.createMediaStreamDestination();
      navigator.mediaDevices && $JSCompiler_StaticMethods_applyContextFix$self$$.$F$ && navigator.mediaDevices.addEventListener("devicechange", $JSCompiler_StaticMethods_applyContextFix$self$$.$F$);
      $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{b5f7b9b}");
    }
  }
}
function $JSCompiler_StaticMethods_notifyClientStartResult$$($JSCompiler_StaticMethods_notifyClientStartResult$self$$, $data$jscomp$107$$) {
  $JSCompiler_StaticMethods_notifyClientStartResult$self$$.$G$ = !1;
  $data$jscomp$107$$.error && ($JSCompiler_StaticMethods_notifyClientStartResult$self$$.$B$ = !1, $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$$($JSCompiler_StaticMethods_notifyClientStartResult$self$$));
  $JSCompiler_StaticMethods_notifyClientStartResult$self$$.emit("SessionStartResult", $data$jscomp$107$$);
}
function $JSCompiler_StaticMethods_notifyClientWithError$$($JSCompiler_StaticMethods_notifyClientWithError$self$$, $errorData$$, $isLaunchResult_isResumable$$, $exitAnalyticsEvent$jscomp$1$$) {
  var $_a$jscomp$183$$, $_b$jscomp$87$$, $_c$jscomp$53$$, $_d$jscomp$39$$;
  $JSCompiler_StaticMethods_removeContextFix$$($JSCompiler_StaticMethods_notifyClientWithError$self$$);
  $exitAnalyticsEvent$jscomp$1$$ && ((null === ($_a$jscomp$183$$ = $exitAnalyticsEvent$jscomp$1$$.connectivity) || void 0 === $_a$jscomp$183$$ ? 0 : $_a$jscomp$183$$.startsWith("offline")) || (null === ($_b$jscomp$87$$ = $exitAnalyticsEvent$jscomp$1$$.connectivity) || void 0 === $_b$jscomp$87$$ ? 0 : $_b$jscomp$87$$.startsWith("timeout")) ? ($JSCompiler_StaticMethods_clearExitEventCacheTimeout$$($JSCompiler_StaticMethods_notifyClientWithError$self$$), $JSCompiler_StaticMethods_updateExitEventCacheWithNewParams$$($JSCompiler_StaticMethods_notifyClientWithError$self$$, 
  $module$contents$rtcutils_core$output$utils_GetHexString$$(null !== ($_d$jscomp$39$$ = null === ($_c$jscomp$53$$ = $errorData$$.error) || void 0 === $_c$jscomp$53$$ ? void 0 : $_c$jscomp$53$$.code) && void 0 !== $_d$jscomp$39$$ ? $_d$jscomp$39$$ : 15867911)), $JSCompiler_StaticMethods_cacheExitEventInDb$$($JSCompiler_StaticMethods_notifyClientWithError$self$$.$o$).catch(() => {
    $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{0c2de99}");
  })) : $JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$$($JSCompiler_StaticMethods_notifyClientWithError$self$$, $exitAnalyticsEvent$jscomp$1$$));
  $JSCompiler_StaticMethods_stopStreamClient$$($JSCompiler_StaticMethods_notifyClientWithError$self$$, $errorData$$.error ? $errorData$$.error.code : 15859712);
  $isLaunchResult_isResumable$$ ? $JSCompiler_StaticMethods_notifyClientStartResult$$($JSCompiler_StaticMethods_notifyClientWithError$self$$, $errorData$$) : ($errorData$$.error && ($isLaunchResult_isResumable$$ = $module$contents$output$util$utils_CanResume$$($errorData$$.error.code, $JSCompiler_StaticMethods_notifyClientWithError$self$$.$platformDetails$), $errorData$$.isResumable = $isLaunchResult_isResumable$$, $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{723f7be}", $isLaunchResult_isResumable$$)), 
  $JSCompiler_StaticMethods_notifyClientWithError$self$$.$B$ = !1, $JSCompiler_StaticMethods_notifyClientWithError$self$$.$G$ = !1, $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$$($JSCompiler_StaticMethods_notifyClientWithError$self$$), $JSCompiler_StaticMethods_notifyClientWithError$self$$.emit("StreamStopped", $errorData$$));
}
function $JSCompiler_StaticMethods_getConnectivityStatus$$($JSCompiler_StaticMethods_getConnectivityStatus$self_connectivityUrl$$, $errorCode$jscomp$9$$) {
  let $connectivityStatus$$ = {errorCode:null !== $errorCode$jscomp$9$$ && void 0 !== $errorCode$jscomp$9$$ ? $errorCode$jscomp$9$$ : 15859712, connectivity:"online"};
  if ($errorCode$jscomp$9$$ && (0 === (3237093888 ^ $errorCode$jscomp$9$$) >> 8 || 3237089282 === $errorCode$jscomp$9$$)) {
    let $timeout$jscomp$3$$ = 1500;
    $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.connectivityCheckTimeout && 0 !== $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.connectivityCheckTimeout && ($timeout$jscomp$3$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.connectivityCheckTimeout, $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{f9909d8}", $timeout$jscomp$3$$));
    $JSCompiler_StaticMethods_getConnectivityStatus$self_connectivityUrl$$ = ("http:" === window.location.protocol ? "http://" : "https://") + $JSCompiler_StaticMethods_getConnectivityStatus$self_connectivityUrl$$.$j$.serverAddress;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{df38106}", $JSCompiler_StaticMethods_getConnectivityStatus$self_connectivityUrl$$);
    const $requestStartTime$$ = performance.now();
    return $module$contents$rtcutils_core$output$utils_customFetch$$($JSCompiler_StaticMethods_getConnectivityStatus$self_connectivityUrl$$, $timeout$jscomp$3$$).then($response$jscomp$14$$ => {
      $connectivityStatus$$.connectivity = 200 <= $response$jscomp$14$$.status && 300 > $response$jscomp$14$$.status || 403 == $response$jscomp$14$$.status ? "online(" + String(25 * Math.ceil((performance.now() - $requestStartTime$$) / 25)) + ")" : "offline_wrong_status(" + String($response$jscomp$14$$.status) + ")";
      return $connectivityStatus$$;
    }).catch($err$jscomp$51_newCode$jscomp$inline_1041$$ => {
      if ("AbortError" === $err$jscomp$51_newCode$jscomp$inline_1041$$.name) {
        $connectivityStatus$$.connectivity = "timeout";
      } else {
        $connectivityStatus$$.connectivity = "offline(" + $err$jscomp$51_newCode$jscomp$inline_1041$$.name + ":" + $err$jscomp$51_newCode$jscomp$inline_1041$$.message + ")";
        $err$jscomp$51_newCode$jscomp$inline_1041$$ = $errorCode$jscomp$9$$;
        if ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.offlineErrorsStreaming && $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.offlineErrorsStreaming.includes($module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$9$$))) {
          $err$jscomp$51_newCode$jscomp$inline_1041$$ = 15868418;
        } else if ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.offlineErrorsSessionSetup && $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.offlineErrorsSessionSetup.includes($module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$9$$))) {
          $err$jscomp$51_newCode$jscomp$inline_1041$$ = 15868417;
        } else {
          switch($errorCode$jscomp$9$$) {
            case 3237093906:
            case 3237093899:
              $err$jscomp$51_newCode$jscomp$inline_1041$$ = 15868418;
              break;
            case 3237089282:
              $err$jscomp$51_newCode$jscomp$inline_1041$$ = 15868417;
          }
        }
        $err$jscomp$51_newCode$jscomp$inline_1041$$ !== $errorCode$jscomp$9$$ && $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{b84d4c8}", $module$contents$rtcutils_core$output$utils_GetHexString$$($errorCode$jscomp$9$$), $module$contents$rtcutils_core$output$utils_GetHexString$$($err$jscomp$51_newCode$jscomp$inline_1041$$));
        $connectivityStatus$$.errorCode = $err$jscomp$51_newCode$jscomp$inline_1041$$;
      }
      return $connectivityStatus$$;
    });
  }
  return Promise.resolve($connectivityStatus$$);
}
var $module$exports$output$gridapp$GridApp$$ = class extends $module$exports$rtcutils_core$output$logqueueingeventemitter$LogQueueingEventEmitter$$ {
  constructor($platformDetails$jscomp$48_zoneless$jscomp$5$$) {
    super();
    this.$platformDetails$ = $platformDetails$jscomp$48_zoneless$jscomp$5$$;
    this.$micEnabled$ = this.$M$ = !1;
    this.$R$ = new $module$exports$output$debug$gamepadtester$GamepadTester$$();
    this.$G$ = !1;
    this.$F$ = this.$L$ = void 0;
    this.$U$ = !1;
    this.$H$ = this.$Z$ = this.$K$ = this.$A$ = 0;
    this.$O$ = this.$B$ = !1;
    $module$exports$rtcutils_core$output$logger$Log$$.addListener("Log", this.$N$.bind(this));
    this.$j$ = {clientIdentification:"GFN-PC", clientVersion:"26.0", deviceHashId:"", serverAddress:""};
    this.startTime = performance.now();
    this.$W$ = this.$la$.bind(this);
    this.$T$ = this.$ia$.bind(this);
    this.$$$ = this.$ma$.bind(this);
    this.$ka$ = this.$ja$.bind(this);
    this.framesDecoded = 0;
    this.$o$ = new $module$exports$output$telemetry$telemetryeventprocessor$TelemetryEventProcessor$$();
    this.$l$ = new $module$exports$output$telemetry$telemetryhandler$TelemetryHandler$$(this, this.$o$);
    this.$C$ = new $module$exports$output$util$sleepdetector$SleepDetector$$(this.$l$);
    this.isResume = !1;
    this.$S$ = $module$exports$output$interfaces$defaultInputConfigFlags$$;
    this.$P$ = new $module$exports$output$debug$audiorecorder$AudioRecorder$$();
    window.addEventListener("error", this.$ka$);
    $platformDetails$jscomp$48_zoneless$jscomp$5$$ = window.zoneless;
    this.$m$ = new $module$exports$output$miccapturer$MicCapturer$$(this.$platformDetails$, this.$l$);
    this.$F$ = this.$m$.$o$.bind(this.$m$);
    this.$L$ = this.$ba$.bind(this);
    this.$D$ = new $module$exports$output$input$gamepadhandler$GamepadHandler$$(this.$platformDetails$, $platformDetails$jscomp$48_zoneless$jscomp$5$$);
    $module$exports$output$util$settings$RagnarokSettings$$.$gamepadTesterEnabled$ && (this.$D$.$l$.push(this.$R$), $JSCompiler_StaticMethods_JSC$3007_enableUserInput$$(this.$D$));
    this.$V$ = this.$da$.bind(this);
    $JSCompiler_StaticMethods_setTelemetryHandler$$(this.$l$);
    $JSCompiler_StaticMethods_collectPerformanceTimingTelemetry$$(this);
    $JSCompiler_StaticMethods_collectMediaCapabilitiesTelemetry$$(this);
    $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.sendNonEssentialMetricEvents && $JSCompiler_StaticMethods_emitMetricEvent$$(this.$l$, "PlatformDetailsExecutionTime", "", this.$platformDetails$.totalTime, 0, 0, 0);
    $module$exports$output$util$networkdetector$NetworkDetector$$.$h$.push($network$jscomp$4$$ => {
      var $_a$jscomp$165$$;
      null === ($_a$jscomp$165$$ = this.$g$) || void 0 === $_a$jscomp$165$$ ? void 0 : $_a$jscomp$165$$.setNetworkType($network$jscomp$4$$);
    });
  }
  $ja$($e$jscomp$10$$) {
    var $_a$jscomp$166$$;
    $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{8516485}", $e$jscomp$10$$.filename, $e$jscomp$10$$.lineno, $e$jscomp$10$$.colno);
    this.$l$.$g$($e$jscomp$10$$.error, $e$jscomp$10$$.error && $e$jscomp$10$$.error.message ? $e$jscomp$10$$.error.message : $e$jscomp$10$$.message, $e$jscomp$10$$.filename, $e$jscomp$10$$.lineno, $e$jscomp$10$$.colno, !1);
    (null !== ($_a$jscomp$166$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.terminateUnhandledException) && void 0 !== $_a$jscomp$166$$ ? $_a$jscomp$166$$ : 1) && $JSCompiler_StaticMethods_terminateOrAbortStreaming$$(this, 3237093392);
    return !1;
  }
  $la$() {
    var $_a$jscomp$inline_1046$$, $_b$jscomp$inline_1047$$;
    this.$U$ || (this.$U$ = !0, $JSCompiler_StaticMethods_terminateOrAbortStreaming$$(this, (null !== ($_a$jscomp$inline_1046$$ = this.$I$) && void 0 !== $_a$jscomp$inline_1046$$ ? $_a$jscomp$inline_1046$$ : null === ($_b$jscomp$inline_1047$$ = this.$h$) || void 0 === $_b$jscomp$inline_1047$$ ? 0 : $_b$jscomp$inline_1047$$.$C$) ? 15867912 : 15867905));
  }
  $ia$() {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{a9a135f}");
    $JSCompiler_StaticMethods_sendAllCachedTelemetryEvents$$(this.$o$);
  }
  $ma$() {
    var $_a$jscomp$169$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{478a408}", document.visibilityState, !!this.$h$);
    if (this.$h$) {
      var $USER_TERMINATED_MIC_RECORDER_THRESHOLD_videoElement$jscomp$12$$ = this.$s$.$validatedStreamParams$[0].$videoElement$, $audioElement$jscomp$2$$ = this.$s$.$validatedStreamParams$[0].$audioElement$, $shouldApplyMuteWAR$$ = $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$(this.$platformDetails$, !1, 15, 4) && $module$exports$output$util$settings$RagnarokSettings$$.$allowMutingVideo$, $shouldEnableMicWAR$$ = $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$(this.$platformDetails$, 
      !1, 15, 4) && this.$micEnabled$ && $module$exports$output$util$settings$RagnarokSettings$$.$allowEnableMic$;
      "hidden" === document.visibilityState ? (this.$Z$ = performance.now(), $shouldApplyMuteWAR$$ && ($module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{cbd3b6e}"), $USER_TERMINATED_MIC_RECORDER_THRESHOLD_videoElement$jscomp$12$$.muted = !0, $audioElement$jscomp$2$$.muted = !0), $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$$(this)) : "visible" === document.visibilityState && ($shouldApplyMuteWAR$$ && ($module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{05deefa}"), 
      $USER_TERMINATED_MIC_RECORDER_THRESHOLD_videoElement$jscomp$12$$.muted = !1, $audioElement$jscomp$2$$.muted = !1), $shouldEnableMicWAR$$ ? ($USER_TERMINATED_MIC_RECORDER_THRESHOLD_videoElement$jscomp$12$$ = null !== ($_a$jscomp$169$$ = $module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$.userTerminatedMicRecorderThreshold) && void 0 !== $_a$jscomp$169$$ ? $_a$jscomp$169$$ : 2000, this.$Z$ - this.$m$.$J$ < $USER_TERMINATED_MIC_RECORDER_THRESHOLD_videoElement$jscomp$12$$ ? 
      ($module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{862bd20}"), this.$m$.$F$ = !0, this.setMicRecordingEnabled(!0)) : this.$micEnabled$ = !1) : $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$(this.$platformDetails$, !1, 15, 4) && !this.$m$.$v$ && "Built-in Microphone" === this.$m$.$u$ && this.$m$.$A$ && $JSCompiler_StaticMethods_recordLowAudioDebugEvent$$(this.$m$, "visibilityChange"));
    }
  }
  $ha$($eventPayload$jscomp$4$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{972bb72}", JSON.stringify($eventPayload$jscomp$4$$));
    $JSCompiler_StaticMethods_JSC$2953_dispatchEvent$$(this.$l$, $eventPayload$jscomp$4$$);
  }
  $ea$($eventData$jscomp$2$$) {
    this.emit("ActiveSessionsResult", $eventData$jscomp$2$$);
  }
  $fa$($eventData$jscomp$3$$) {
    this.emit("ProgressUpdate", $eventData$jscomp$3$$);
  }
  $ga$($eventData$jscomp$4$$) {
    this.emit("SessionUpdate", $eventData$jscomp$4$$);
  }
  initialize($gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$, $inputConfigFlags$jscomp$2$$ = $module$exports$output$interfaces$defaultInputConfigFlags$$) {
    var $_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{2569364}", "Local");
    $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{e85ad66}", navigator.userAgent);
    if (!$gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$) {
      return $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{a98b177}"), !1;
    }
    Object.assign(this.$j$, $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$);
    null === ($_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$ = this.$g$) || void 0 === $_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$ ? void 0 : $_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$.uninitialize();
    if (!this.$j$.serverAddress || $module$contents$rtcutils_core$output$utils_IsValidIPv4$$(this.$j$.serverAddress)) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{e2d9a04}"), this.$g$ = new $module$exports$gridserver_core$output$gridserver$PassThruServer$$();
    } else if (this.$j$.serverAddress.startsWith("mockpm://")) {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{4a79d8e}"), this.$g$ = new $module$exports$output$util$mockpmgridserver$MockPMGridServer$$(), this.$j$.serverAddress = this.$j$.serverAddress.replace("mockpm://", "");
    } else {
      if (!this.$j$.authTokenCallback) {
        return $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{28d1400}"), !1;
      }
      this.$g$ = new $module$exports$gridserver_core$output$gridserver$GridServer$$(this.$platformDetails$, !0);
    }
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$ = this.$g$;
    var $_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$, $_b$jscomp$inline_1055$$, $_c$jscomp$inline_1056$$, $_d$jscomp$inline_1057$$, $_e$jscomp$inline_1058$$, $_f$jscomp$inline_1059$$, $_g$jscomp$inline_1060$$;
    $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{3c652b7}");
    $JSCompiler_StaticMethods_resetSessionIds$$(this);
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.addListener("TelemetryEvent", this.$ha$.bind(this));
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.addListener("Log", this.$N$.bind(this));
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.addListener("ActiveSessionsResult", this.$ea$.bind(this));
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.addListener("ProgressUpdate", this.$fa$.bind(this));
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.addListener("SessionUpdate", this.$ga$.bind(this));
    this.$j$.clientHeaders = null !== ($_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$ = this.$j$.clientHeaders) && void 0 !== $_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$ ? $_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$ : new Map();
    $_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$ = $module$exports$output$util$settings$RagnarokSettings$$.clientType || this.$j$.clientType || "BROWSER";
    ($_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$ = "NATIVE" !== $_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$) && this.$j$.clientHeaders.set("nv-browser-version", this.$platformDetails$.browserFullVer);
    const $gsInitParams$jscomp$inline_1063$$ = {deviceOs:null !== ($_b$jscomp$inline_1055$$ = $module$exports$output$util$settings$RagnarokSettings$$.deviceOs) && void 0 !== $_b$jscomp$inline_1055$$ ? $_b$jscomp$inline_1055$$ : this.$platformDetails$.deviceOS, deviceOsVer:this.$platformDetails$.osVer, deviceType:null !== ($_c$jscomp$inline_1056$$ = $module$exports$output$util$settings$RagnarokSettings$$.deviceType) && void 0 !== $_c$jscomp$inline_1056$$ ? $_c$jscomp$inline_1056$$ : this.$platformDetails$.deviceType, 
    deviceModel:null !== ($_d$jscomp$inline_1057$$ = $module$exports$output$util$settings$RagnarokSettings$$.deviceModel) && void 0 !== $_d$jscomp$inline_1057$$ ? $_d$jscomp$inline_1057$$ : this.$platformDetails$.deviceModel, clientIdentification:null !== ($_e$jscomp$inline_1058$$ = this.$j$.clientIdentification) && void 0 !== $_e$jscomp$inline_1058$$ ? $_e$jscomp$inline_1058$$ : "GFN-PC", clientVersion:null !== ($_f$jscomp$inline_1059$$ = this.$j$.clientVersion) && void 0 !== $_f$jscomp$inline_1059$$ ? 
    $_f$jscomp$inline_1059$$ : "26.0", clientAppVersion:this.$j$.clientAppVersion, clientStreamer:null !== ($_g$jscomp$inline_1060$$ = $module$exports$output$util$settings$RagnarokSettings$$.clientStreamer) && void 0 !== $_g$jscomp$inline_1060$$ ? $_g$jscomp$inline_1060$$ : "WEBRTC", clientId:$module$exports$output$util$settings$RagnarokSettings$$.clientId || this.$j$.clientId, browserType:$_a$jscomp$171_shouldSetBrowser$jscomp$inline_1062$$ ? this.$platformDetails$.browser.toUpperCase() : void 0, 
    clientPlatformName:$module$exports$output$util$settings$RagnarokSettings$$.clientPlatformName || "browser", clientType:$_a$jscomp$inline_1054_clientType$jscomp$inline_1061$$, deviceHashId:this.$j$.deviceHashId, serverAddress:this.$j$.serverAddress, authTokenCallback:this.$j$.authTokenCallback, clientHeaders:this.$j$.clientHeaders};
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.initialize($gsInitParams$jscomp$inline_1063$$);
    $gridServer$jscomp$inline_1053_initializeParams$jscomp$2$$.setNetworkType($module$exports$output$util$networkdetector$NetworkDetector$$.$g$);
    this.$S$ = $inputConfigFlags$jscomp$2$$;
    this.$l$.clientShutDownCallback = this.$j$.clientShutDownCallback;
    return !0;
  }
  downloadAudio() {
    this.$P$.downloadAudio();
  }
  updateEventDataElements($eventDataElements$jscomp$4$$) {
    var $_a$jscomp$172$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{4008dc4}", JSON.stringify($eventDataElements$jscomp$4$$));
    this.$o$.updateEventDataElements($eventDataElements$jscomp$4$$);
    $eventDataElements$jscomp$4$$.telemetryEventIds && (null === ($_a$jscomp$172$$ = this.$g$) || void 0 === $_a$jscomp$172$$ ? void 0 : $_a$jscomp$172$$.updateTelemetryEventIds($eventDataElements$jscomp$4$$.telemetryEventIds));
    this.$h$ && !this.$G$ && $JSCompiler_StaticMethods_cacheExitEventInDbPeriodically$$(this);
  }
  getActiveSessions() {
    this.$g$ ? this.$g$.getAllActiveSessions() : this.emit("ActiveSessionsResult", {sessionList:[], error:$JSCompiler_StaticMethods_getGridAppUninitializedError$$("ActiveSessions")});
  }
  startSession($sessionStartParams$jscomp$3_validatedParams$$) {
    $JSCompiler_StaticMethods_prepareSession$$(this, !1);
    ($sessionStartParams$jscomp$3_validatedParams$$ = $JSCompiler_StaticMethods_updateSessionParams$$(this, $sessionStartParams$jscomp$3_validatedParams$$)) && $JSCompiler_StaticMethods_runSession$$(this, 0, $sessionStartParams$jscomp$3_validatedParams$$);
  }
  getSession($sessionId$jscomp$38$$) {
    this.$g$ ? this.$g$.getSession($sessionId$jscomp$38$$, !1).then($session$jscomp$8$$ => {
      var $_a$jscomp$179$$, $_b$jscomp$83$$;
      let $result$jscomp$31$$ = {sessionId:null !== ($_a$jscomp$179$$ = null === $session$jscomp$8$$ || void 0 === $session$jscomp$8$$ ? void 0 : $session$jscomp$8$$.sessionId) && void 0 !== $_a$jscomp$179$$ ? $_a$jscomp$179$$ : "", appId:null === $session$jscomp$8$$ || void 0 === $session$jscomp$8$$ ? void 0 : $session$jscomp$8$$.appId, subSessionId:null !== ($_b$jscomp$83$$ = null === $session$jscomp$8$$ || void 0 === $session$jscomp$8$$ ? void 0 : $session$jscomp$8$$.subSessionId) && void 0 !== 
      $_b$jscomp$83$$ ? $_b$jscomp$83$$ : "", state:null === $session$jscomp$8$$ || void 0 === $session$jscomp$8$$ ? void 0 : $session$jscomp$8$$.state, status:null === $session$jscomp$8$$ || void 0 === $session$jscomp$8$$ ? void 0 : $session$jscomp$8$$.state};
      this.emit("GetSessionResult", $result$jscomp$31$$);
    }).catch($error$jscomp$33$$ => {
      var $_a$jscomp$180$$, $_b$jscomp$84$$;
      let $result$jscomp$32$$ = {sessionId:$sessionId$jscomp$38$$, subSessionId:null !== ($_b$jscomp$84$$ = null === ($_a$jscomp$180$$ = this.$g$) || void 0 === $_a$jscomp$180$$ ? void 0 : $_a$jscomp$180$$.getSubSessionId()) && void 0 !== $_b$jscomp$84$$ ? $_b$jscomp$84$$ : "", error:$error$jscomp$33$$};
      this.emit("GetSessionResult", $result$jscomp$32$$);
    }) : this.emit("GetSessionResult", {sessionId:"", subSessionId:"", error:$JSCompiler_StaticMethods_getGridAppUninitializedError$$("GetSession")});
  }
  resume() {
    this.resumeSession(this.$s$.$sessionParams$, this.$g$.getSessionId());
  }
  resumeSession($sessionResumeParams$jscomp$2_updatedSessionParams$$, $sessionId$jscomp$39$$) {
    $JSCompiler_StaticMethods_prepareSession$$(this, !0);
    ($sessionResumeParams$jscomp$2_updatedSessionParams$$ = $JSCompiler_StaticMethods_updateSessionParams$$(this, $sessionResumeParams$jscomp$2_updatedSessionParams$$)) && $JSCompiler_StaticMethods_runSession$$(this, 2, $sessionResumeParams$jscomp$2_updatedSessionParams$$, $sessionId$jscomp$39$$);
  }
  stopSession($sessionId$jscomp$40$$, $exitCode$jscomp$2$$) {
    var $_a$jscomp$181_exitAnalyticsEvent$$, $_b$jscomp$85$$, $_c$jscomp$51$$, $_d$jscomp$37$$, $_e$jscomp$23$$, $_f$jscomp$20$$, $_g$jscomp$15$$;
    this.$g$ ? (void 0 !== $exitCode$jscomp$2$$ && $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{ae7f61b}", $module$contents$rtcutils_core$output$utils_GetHexString$$($exitCode$jscomp$2$$)), $sessionId$jscomp$40$$ === this.$g$.getSessionId() || void 0 === $sessionId$jscomp$40$$ ? (15867910 === $exitCode$jscomp$2$$ ? this.$O$ = !0 : this.$M$ = !1, $JSCompiler_StaticMethods_shutdown$$(this.$m$), this.framesDecoded = null !== ($_b$jscomp$85$$ = null === ($_a$jscomp$181_exitAnalyticsEvent$$ = 
    this.$h$) || void 0 === $_a$jscomp$181_exitAnalyticsEvent$$ ? void 0 : $JSCompiler_StaticMethods_JSC$2930_getFramesDecoded$$($_a$jscomp$181_exitAnalyticsEvent$$)) && void 0 !== $_b$jscomp$85$$ ? $_b$jscomp$85$$ : 0, $JSCompiler_StaticMethods_stopSleepDetectionTimer$$(this.$C$), $_a$jscomp$181_exitAnalyticsEvent$$ = $JSCompiler_StaticMethods_getStreamExitEventData$$(this, {sessionId:null !== ($_c$jscomp$51$$ = this.$g$.getSessionId()) && void 0 !== $_c$jscomp$51$$ ? $_c$jscomp$51$$ : "", subSessionId:null !== 
    ($_d$jscomp$37$$ = this.$g$.getSubSessionId()) && void 0 !== $_d$jscomp$37$$ ? $_d$jscomp$37$$ : "", error:$exitCode$jscomp$2$$ ? {code:$exitCode$jscomp$2$$} : void 0, zoneName:null !== ($_e$jscomp$23$$ = this.$g$.getZoneName()) && void 0 !== $_e$jscomp$23$$ ? $_e$jscomp$23$$ : "", zoneAddress:this.$g$.getZoneAddress() || this.$j$.serverAddress, gpuType:null !== ($_f$jscomp$20$$ = this.$g$.getGpuType()) && void 0 !== $_f$jscomp$20$$ ? $_f$jscomp$20$$ : "", isResume:this.isResume}, performance.now() - 
    this.startTime), $sessionId$jscomp$40$$ = null !== ($_g$jscomp$15$$ = this.$g$.getSessionId()) && void 0 !== $_g$jscomp$15$$ ? $_g$jscomp$15$$ : "", this.$h$ ? (this.$B$ = !1, $JSCompiler_StaticMethods_unregisterWindowAndDocumentEvents$$(this), this.$h$.$C$ && $JSCompiler_StaticMethods_JSC$3078_sendExitAnalyticsEvent$$(this, $_a$jscomp$181_exitAnalyticsEvent$$), $JSCompiler_StaticMethods_stopStreamClient$$(this, null !== $exitCode$jscomp$2$$ && void 0 !== $exitCode$jscomp$2$$ ? $exitCode$jscomp$2$$ : 
    this.$h$.$C$ ? 15859712 : 15867905), 15867910 === $exitCode$jscomp$2$$ ? ($module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{12bc45e}", $sessionId$jscomp$40$$), $JSCompiler_StaticMethods_notifyClientOfStop$$(this, $sessionId$jscomp$40$$)) : this.sendDeleteRequest($sessionId$jscomp$40$$, this.$g$)) : this.$v$ ? $JSCompiler_StaticMethods_notifyClientOfStop$$(this, $sessionId$jscomp$40$$) : this.cancelSessionSetup()) : $sessionId$jscomp$40$$ && this.sendDeleteRequest($sessionId$jscomp$40$$, 
    this.$g$)) : this.emit("SessionStopResult", {sessionId:"", subSessionId:"", error:$JSCompiler_StaticMethods_getGridAppUninitializedError$$("StopSession")});
  }
  pauseSession($sessionId$jscomp$41$$) {
    this.stopSession($sessionId$jscomp$41$$, 15867910);
  }
  sendDeleteRequest($sessionId$jscomp$43$$, $gridServer$jscomp$2$$) {
    $gridServer$jscomp$2$$.sendDeleteRequest($sessionId$jscomp$43$$).then(() => {
      $module$exports$rtcutils_core$output$logger$Log$$.d("{9d1820c}", "{fee1eea}", $sessionId$jscomp$43$$);
      $JSCompiler_StaticMethods_notifyClientOfStop$$(this, $sessionId$jscomp$43$$);
    }, $_error$$ => {
      $module$exports$rtcutils_core$output$logger$Log$$.e("{9d1820c}", "{50e2a6e}", $sessionId$jscomp$43$$);
      $JSCompiler_StaticMethods_notifyClientOfStop$$(this, $sessionId$jscomp$43$$, $_error$$);
    });
  }
  isMicSupported() {
    return $module$exports$output$miccapturer$MicCapturer$micSupported$$;
  }
  setMicRecordingEnabled($enabled$jscomp$7$$) {
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{f5b2f30}", $enabled$jscomp$7$$);
    $enabled$jscomp$7$$ ? (this.$micEnabled$ = !0, $JSCompiler_StaticMethods_startMicCaptureOnDefaultDeviceWithFallback$$(this.$m$)) : (this.$micEnabled$ = !1, $JSCompiler_StaticMethods_stopMicRecording$$(this.$m$));
  }
  getMicState() {
    $JSCompiler_StaticMethods_emitMicState$$(this.$m$);
  }
  shouldDefaultEnableMic() {
    return this.$m$.shouldDefaultEnableMic();
  }
  sendCustomMessage($message$jscomp$45$$) {
    var $_a$jscomp$190$$;
    null === ($_a$jscomp$190$$ = this.$h$) || void 0 === $_a$jscomp$190$$ ? void 0 : $_a$jscomp$190$$.sendCustomMessage($message$jscomp$45$$);
  }
  toggleUserInput($enable$jscomp$12$$, $inputs$jscomp$7$$) {
    var $_a$jscomp$191$$;
    null === ($_a$jscomp$191$$ = this.$h$) || void 0 === $_a$jscomp$191$$ ? void 0 : $_a$jscomp$191$$.toggleUserInput($enable$jscomp$12$$, $inputs$jscomp$7$$);
    this.$M$ = $enable$jscomp$12$$;
    this.$aa$ = $inputs$jscomp$7$$;
  }
  toggleRsdmm($enable$jscomp$13$$) {
    $JSCompiler_StaticMethods_toggleRsdmmMode$$(this.$D$, $enable$jscomp$13$$);
  }
  getVirtualGamepadHandler() {
    var $_a$jscomp$192$$;
    return null === ($_a$jscomp$192$$ = this.$h$) || void 0 === $_a$jscomp$192$$ ? void 0 : $_a$jscomp$192$$.getVirtualGamepadHandler();
  }
  setAuthInfo($authInfo$jscomp$8$$) {
    var $_a$jscomp$193$$;
    null === ($_a$jscomp$193$$ = this.$g$) || void 0 === $_a$jscomp$193$$ ? void 0 : $_a$jscomp$193$$.setAuthInfo($authInfo$jscomp$8$$);
  }
  sendTextInput($text$jscomp$21$$) {
    var $_a$jscomp$194$$;
    null === ($_a$jscomp$194$$ = this.$h$) || void 0 === $_a$jscomp$194$$ ? void 0 : $_a$jscomp$194$$.sendTextInput($text$jscomp$21$$);
  }
  setVirtualKeyboardState($visible$jscomp$6$$) {
    var $_a$jscomp$195$$;
    null === ($_a$jscomp$195$$ = this.$h$) || void 0 === $_a$jscomp$195$$ ? void 0 : $_a$jscomp$195$$.setVirtualKeyboardState($visible$jscomp$6$$);
  }
  setVideoTransforms($offsetX$jscomp$8$$, $offsetY$jscomp$8$$, $zoomFactor$jscomp$6$$) {
    var $_a$jscomp$196$$;
    null === ($_a$jscomp$196$$ = this.$h$) || void 0 === $_a$jscomp$196$$ ? void 0 : $_a$jscomp$196$$.setVideoTransforms($offsetX$jscomp$8$$, $offsetY$jscomp$8$$, $zoomFactor$jscomp$6$$);
  }
  toggleOnScreenStats() {
    var $_a$jscomp$197$$;
    null === ($_a$jscomp$197$$ = this.$h$) || void 0 === $_a$jscomp$197$$ ? void 0 : $_a$jscomp$197$$.toggleOnScreenStats();
  }
  toggleStutterIndicator() {
    var $_a$jscomp$198$$;
    null === ($_a$jscomp$198$$ = this.$h$) || void 0 === $_a$jscomp$198$$ ? void 0 : $_a$jscomp$198$$.toggleStutterIndicator();
  }
  setKeyboardLayout($layout$jscomp$4$$) {
    var $_a$jscomp$199$$;
    $module$exports$rtcutils_core$output$logger$Log$$.i("{9d1820c}", "{10717a6}", $layout$jscomp$4$$);
    null === ($_a$jscomp$199$$ = this.$h$) || void 0 === $_a$jscomp$199$$ ? void 0 : $_a$jscomp$199$$.setKeyboardLayout($layout$jscomp$4$$);
  }
  sendKeyEvent($event$jscomp$65$$) {
    var $_a$jscomp$200$$;
    null === ($_a$jscomp$200$$ = this.$h$) || void 0 === $_a$jscomp$200$$ ? void 0 : $_a$jscomp$200$$.sendKeyEvent($event$jscomp$65$$);
  }
  setStreamingMaxBitrate($kbps$jscomp$3$$, $streamIdx$jscomp$6$$ = 0) {
    var $_a$jscomp$201$$;
    null === ($_a$jscomp$201$$ = this.$h$) || void 0 === $_a$jscomp$201$$ ? void 0 : $_a$jscomp$201$$.setStreamingMaxBitrate($streamIdx$jscomp$6$$, $kbps$jscomp$3$$);
  }
  setDrcDfcState($enabled$jscomp$8$$, $streamIdx$jscomp$7$$ = 0) {
    var $_a$jscomp$202$$;
    null === ($_a$jscomp$202$$ = this.$h$) || void 0 === $_a$jscomp$202$$ ? void 0 : $_a$jscomp$202$$.setDrcDfcState($streamIdx$jscomp$7$$, $enabled$jscomp$8$$);
  }
  $da$($event$jscomp$66$$) {
    var $_a$jscomp$203$$;
    $event$jscomp$66$$.detail.idle && (null === ($_a$jscomp$203$$ = this.$h$) || void 0 === $_a$jscomp$203$$ ? void 0 : $JSCompiler_StaticMethods_notifyIdleUpdate$$($_a$jscomp$203$$, 2, 60), this.$K$ = window.setTimeout(() => {
      var $_a$jscomp$204$$;
      null === ($_a$jscomp$204$$ = this.$h$) || void 0 === $_a$jscomp$204$$ ? void 0 : $JSCompiler_StaticMethods_stopStreamWithError$$($_a$jscomp$204$$, 15867913);
    }, 6E4));
  }
  $ba$() {
    $JSCompiler_StaticMethods_onDeviceChange$$(this.$m$, this.$H$);
    this.$H$++;
  }
  cancelSessionSetup() {
    !this.$h$ && this.$g$ && this.$g$.cancelSessionSetup();
  }
};
window.Ragnarok = window.Ragnarok || {};
window.Ragnarok.GridApp = $module$exports$output$gridapp$GridApp$$;
window.Ragnarok.defaultInputConfigFlags = $module$exports$output$interfaces$defaultInputConfigFlags$$;
window.Ragnarok.ChooseStreamingSettings = function($streamingProfilePreset$jscomp$1$$ = 0, $candidateSettings$jscomp$1$$, $platformDetails$jscomp$22$$) {
  return $module$contents$output$util$utils_ChooseStreamingSettingsImpl$$($streamingProfilePreset$jscomp$1$$, $candidateSettings$jscomp$1$$, $module$contents$output$util$utils_GetStreamingSettingsExceptions$$($platformDetails$jscomp$22$$));
};
window.Ragnarok.ChooseStreamingResolution = function($streamingProfilePreset$$ = 0, $candidateResolutions_candidateSettings$$) {
  $candidateResolutions_candidateSettings$$ = null === $candidateResolutions_candidateSettings$$ || void 0 === $candidateResolutions_candidateSettings$$ ? void 0 : $candidateResolutions_candidateSettings$$.map($res$jscomp$1$$ => ({resolution:$res$jscomp$1$$, frameRate:60}));
  return $module$contents$output$util$utils_ChooseStreamingSettingsImpl$$($streamingProfilePreset$$, $candidateResolutions_candidateSettings$$, $module$contents$output$util$utils_GetStreamingSettingsExceptions$$()).resolution;
};
window.Ragnarok.CalculateMaxBitrateKbps = $module$contents$output$util$utils_CalculateMaxBitrateKbps$$;
window.Ragnarok.CalculateDataUsage = function($fps$jscomp$1$$, $bitrateKbps_bitratebps_dataUsageGB$$) {
  $bitrateKbps_bitratebps_dataUsageGB$$ *= 1000;
  $bitrateKbps_bitratebps_dataUsageGB$$ = 3600 * (120 === $fps$jscomp$1$$ ? 0.916 * $bitrateKbps_bitratebps_dataUsageGB$$ + 293098 : 0.678 * $bitrateKbps_bitratebps_dataUsageGB$$ + 910569) / 1000000000 / 8;
  30 === $fps$jscomp$1$$ && ($bitrateKbps_bitratebps_dataUsageGB$$ *= 0.625);
  return $bitrateKbps_bitratebps_dataUsageGB$$ = Math.round(0.95 * $bitrateKbps_bitratebps_dataUsageGB$$);
};
window.Ragnarok.InitializeUtils = function() {
  for (const $task$$ of $module$contents$output$util$utils_tasksToRunOnInit$$) {
    $task$$();
  }
};
window.Ragnarok.IsFeatureSupported = function($browserFeature_isStreamingSupported$jscomp$inline_1069$$, $JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$) {
  switch($browserFeature_isStreamingSupported$jscomp$inline_1069$$) {
    case 0:
      if ($module$contents$rtcutils_core$output$utils_IsiDevice$$($JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$)) {
        $JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$ = $module$contents$rtcutils_core$output$utils_IsiOSVersionHelper$$($JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$, !1, 14);
      } else {
        $browserFeature_isStreamingSupported$jscomp$inline_1069$$ = !1;
        window.chrome && ($browserFeature_isStreamingSupported$jscomp$inline_1069$$ = !0);
        switch($JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$.browser) {
          case "Edge_Legacy":
          case "Safari":
            $browserFeature_isStreamingSupported$jscomp$inline_1069$$ = !0;
        }
        $JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$ = $browserFeature_isStreamingSupported$jscomp$inline_1069$$;
      }
      return $JSCompiler_inline_result$jscomp$32_platformDetails$jscomp$23$$;
    default:
      return !1;
  }
};
window.Ragnarok.GetSupportedAudioChannelCount = function() {
  const $audioCtx$$ = $module$contents$output$util$utils_GetAudioContext$$();
  if ($audioCtx$$) {
    const $channelCount$$ = $audioCtx$$.destination.maxChannelCount;
    $audioCtx$$.close();
    $module$exports$rtcutils_core$output$logger$Log$$.i("{d988e7f}", "{fa78e0a}", $channelCount$$);
    return $channelCount$$;
  }
  $module$exports$rtcutils_core$output$logger$Log$$.w("{d988e7f}", "{d018fac}");
  return 2;
};
window.Ragnarok.GetDeviceCapabilities = async function($platformDetails$jscomp$35$$) {
  return $module$contents$output$util$devicecapabilities_GetDeviceCapabilitiesImpl$$($module$contents$output$util$utils_GetStreamingSettingsExceptions$$($platformDetails$jscomp$35$$));
};
window.Ragnarok.VirtualGamepadHandler = $module$exports$output$input$virtualgamepad$VirtualGamepadHandler$$;
window.Ragnarok.ConfigureRagnarokSettings = function($data$jscomp$92$$) {
  var $_b$jscomp$19_getSettingBool$jscomp$2$$, $_c$jscomp$9_getSettingInt$$, $_d$jscomp$8_requestRes$$, $_e$jscomp$7_width$jscomp$28$$, $_f$jscomp$6_height$jscomp$25_resInfo$$, $_g$jscomp$4$$, $_h$jscomp$4$$, $_j$jscomp$4$$, $_k$jscomp$4$$, $_l$jscomp$4$$, $_m$jscomp$3$$, $_o$jscomp$3$$, $_p$jscomp$3$$, $_q$jscomp$2_touchSetting$$, $_r$jscomp$2$$, $_s$jscomp$2$$, $_t$jscomp$2$$, $_u$$, $_v_metaParts$$, $_w$$, $_x$$, $_y$$, $_z$$, $_0$$, $_1$$, $_2$$, $_3$$, $_4$$, $_5$$, $_6$$, $_7$$, $_8$$, $_9$$, 
  $_10$$, $_11$$, $_12$$, $_13$$, $_14$$, $_15$$, $_16$$, $_17$$, $_18$$, $_19$$, $_20$$, $_21$$;
  $module$exports$rtcutils_core$output$logger$Log$$.i("{fbd6ce8}", "{4acfb3a}", JSON.stringify($data$jscomp$92$$));
  $data$jscomp$92$$.clientConfigOverride && ($module$exports$output$util$settings$RagnarokSettings$$.clientConfigOverride = $data$jscomp$92$$.clientConfigOverride);
  if ($data$jscomp$92$$.gxtOverrideData) {
    var $_a$jscomp$41_configData$jscomp$1$$ = JSON.parse($data$jscomp$92$$.gxtOverrideData);
    if ($_a$jscomp$41_configData$jscomp$1$$.params) {
      for (var $casedSettingsMap_element$jscomp$9_getSettingNum$$ of $_a$jscomp$41_configData$jscomp$1$$.params) {
        "ragnarok" === $casedSettingsMap_element$jscomp$9_getSettingNum$$.name && ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$ = $casedSettingsMap_element$jscomp$9_getSettingNum$$.value, $module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$ = {type:"GXT", version:$casedSettingsMap_element$jscomp$9_getSettingNum$$.version});
      }
    }
  } else {
    $data$jscomp$92$$.remoteConfigData && $data$jscomp$92$$.remoteConfigData.ragnarok && ($module$exports$output$util$settings$RagnarokSettings$$.$ragnarokConfig$ = JSON.parse($data$jscomp$92$$.remoteConfigData.ragnarok), $module$exports$output$util$settings$RagnarokSettings$$.$remoteOverrideInfo$ = {type:"RCONFIG", version:null !== ($_a$jscomp$41_configData$jscomp$1$$ = $data$jscomp$92$$.remoteConfigData.version) && void 0 !== $_a$jscomp$41_configData$jscomp$1$$ ? $_a$jscomp$41_configData$jscomp$1$$ : 
    ""});
  }
  $data$jscomp$92$$.isInternalUser && ($module$exports$output$util$settings$RagnarokSettings$$.isInternalUser = $data$jscomp$92$$.isInternalUser);
  if ($data$jscomp$92$$.overrideData) {
    $casedSettingsMap_element$jscomp$9_getSettingNum$$ = new URLSearchParams($data$jscomp$92$$.overrideData);
    let $settingsMap$jscomp$2$$ = new URLSearchParams();
    for (const [$key__tsickle_destructured_1$jscomp$2$$, $value__tsickle_destructured_2$jscomp$2$$] of $casedSettingsMap_element$jscomp$9_getSettingNum$$.entries()) {
      $settingsMap$jscomp$2$$.append($key__tsickle_destructured_1$jscomp$2$$.toLowerCase(), $value__tsickle_destructured_2$jscomp$2$$);
    }
    "lean" === (null === ($_b$jscomp$19_getSettingBool$jscomp$2$$ = $settingsMap$jscomp$2$$.get("mode")) || void 0 === $_b$jscomp$19_getSettingBool$jscomp$2$$ ? void 0 : $_b$jscomp$19_getSettingBool$jscomp$2$$.toLowerCase()) ? ($module$exports$output$util$settings$RagnarokSettings$$.$leanMode$ = !0, $module$exports$output$util$settings$RagnarokSettings$$.$loggingEnabled$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$webrtcStatsEnabled$ = 
    !1, $module$exports$output$util$settings$RagnarokSettings$$.$statsUploadEnabled$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.stutterIndicator = !0, $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser = !0) : "dev" === (null === ($_c$jscomp$9_getSettingInt$$ = $settingsMap$jscomp$2$$.get("mode")) || void 0 === $_c$jscomp$9_getSettingInt$$ ? void 0 : $_c$jscomp$9_getSettingInt$$.toLowerCase()) && 
    ($module$exports$output$util$settings$RagnarokSettings$$.stutterIndicator = !0, $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser = !0);
    $_b$jscomp$19_getSettingBool$jscomp$2$$ = $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$ => {
      $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$ = $settingsMap$jscomp$2$$.get($JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$);
      a: {
        if ($JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$) {
          switch($JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$.toLowerCase()) {
            case "enable":
            case "on":
            case "1":
            case "true":
              $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$ = !0;
              break a;
            case "disable":
            case "off":
            case "0":
            case "false":
              $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$ = !1;
              break a;
          }
        }
        $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$ = void 0;
      }
      return $JSCompiler_inline_result$jscomp$25_key$jscomp$47_value$jscomp$107$$;
    };
    $_c$jscomp$9_getSettingInt$$ = $JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$ => {
      $JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$ = $settingsMap$jscomp$2$$.get($JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$);
      a: {
        if ($JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$ && ($JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$ = Number.parseInt($JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$), !Number.isNaN($JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$))) {
          break a;
        }
        $JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$ = void 0;
      }
      return $JSCompiler_inline_result$jscomp$26_key$jscomp$48_num$jscomp$inline_1074_value$jscomp$108$$;
    };
    $casedSettingsMap_element$jscomp$9_getSettingNum$$ = $JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$ => {
      $JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$ = $settingsMap$jscomp$2$$.get($JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$);
      a: {
        if ($JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$ && ($JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$ = Number.parseFloat($JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$), !Number.isNaN($JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$))) {
          break a;
        }
        $JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$ = void 0;
      }
      return $JSCompiler_inline_result$jscomp$27_key$jscomp$49_num$jscomp$inline_1077_value$jscomp$109$$;
    };
    $module$exports$output$util$settings$RagnarokSettings$$.$loggingEnabled$ = null !== ($_d$jscomp$8_requestRes$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("log")) && void 0 !== $_d$jscomp$8_requestRes$$ ? $_d$jscomp$8_requestRes$$ : $module$exports$output$util$settings$RagnarokSettings$$.$loggingEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$consoleLoggingEnabled$ = $module$exports$output$util$settings$RagnarokSettings$$.$loggingEnabled$ && (null !== ($_e$jscomp$7_width$jscomp$28$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("console")) && void 0 !== $_e$jscomp$7_width$jscomp$28$$ ? $_e$jscomp$7_width$jscomp$28$$ : $module$exports$output$util$settings$RagnarokSettings$$.$consoleLoggingEnabled$);
    $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$ = null !== ($_f$jscomp$6_height$jscomp$25_resInfo$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("gamepad")) && void 0 !== $_f$jscomp$6_height$jscomp$25_resInfo$$ ? $_f$jscomp$6_height$jscomp$25_resInfo$$ : $module$exports$output$util$settings$RagnarokSettings$$.$gamepadEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$webrtcStatsEnabled$ = null !== ($_g$jscomp$4$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("webrtcstats")) && void 0 !== $_g$jscomp$4$$ ? $_g$jscomp$4$$ : $module$exports$output$util$settings$RagnarokSettings$$.$webrtcStatsEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$statsUploadEnabled$ = null !== ($_h$jscomp$4$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("statsupload")) && void 0 !== $_h$jscomp$4$$ ? $_h$jscomp$4$$ : $module$exports$output$util$settings$RagnarokSettings$$.$statsUploadEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$ = null !== ($_j$jscomp$4$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("mic")) && void 0 !== $_j$jscomp$4$$ ? $_j$jscomp$4$$ : $module$exports$output$util$settings$RagnarokSettings$$.$micEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$mouseFilter$ = null !== ($_k$jscomp$4$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("mousefilter")) && void 0 !== $_k$jscomp$4$$ ? $_k$jscomp$4$$ : $module$exports$output$util$settings$RagnarokSettings$$.$mouseFilter$;
    $module$exports$output$util$settings$RagnarokSettings$$.unadjustedMovement = null !== ($_l$jscomp$4$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("unadjustedmovement")) && void 0 !== $_l$jscomp$4$$ ? $_l$jscomp$4$$ : $module$exports$output$util$settings$RagnarokSettings$$.unadjustedMovement;
    $module$exports$output$util$settings$RagnarokSettings$$.maxBitrate = null !== ($_m$jscomp$3$$ = $_c$jscomp$9_getSettingInt$$("bitrate")) && void 0 !== $_m$jscomp$3$$ ? $_m$jscomp$3$$ : $module$exports$output$util$settings$RagnarokSettings$$.maxBitrate;
    0 < $module$exports$output$util$settings$RagnarokSettings$$.maxBitrate && 100 >= $module$exports$output$util$settings$RagnarokSettings$$.maxBitrate && ($module$exports$output$util$settings$RagnarokSettings$$.maxBitrate *= 1000);
    $module$exports$output$util$settings$RagnarokSettings$$.$gamepadTesterEnabled$ = null !== ($_o$jscomp$3$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("gamepadtest")) && void 0 !== $_o$jscomp$3$$ ? $_o$jscomp$3$$ : $module$exports$output$util$settings$RagnarokSettings$$.$gamepadTesterEnabled$;
    $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$ = null !== ($_p$jscomp$3$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("allowtelemetry")) && void 0 !== $_p$jscomp$3$$ ? $_p$jscomp$3$$ : $module$exports$output$util$settings$RagnarokSettings$$.$allowSendingTelemetry$;
    if ($_d$jscomp$8_requestRes$$ = $settingsMap$jscomp$2$$.get("resolution")) {
      $_f$jscomp$6_height$jscomp$25_resInfo$$ = $_d$jscomp$8_requestRes$$.toLowerCase().split("x"), 2 == $_f$jscomp$6_height$jscomp$25_resInfo$$.length ? ($_e$jscomp$7_width$jscomp$28$$ = parseInt($_f$jscomp$6_height$jscomp$25_resInfo$$[0]), $_f$jscomp$6_height$jscomp$25_resInfo$$ = parseInt($_f$jscomp$6_height$jscomp$25_resInfo$$[1]), $_e$jscomp$7_width$jscomp$28$$ && $_f$jscomp$6_height$jscomp$25_resInfo$$ ? ($module$exports$output$util$settings$RagnarokSettings$$.$resWidth$ = $_e$jscomp$7_width$jscomp$28$$, 
      $module$exports$output$util$settings$RagnarokSettings$$.$resHeight$ = $_f$jscomp$6_height$jscomp$25_resInfo$$) : $module$exports$rtcutils_core$output$logger$Log$$.e("{fbd6ce8}", "{c87835d}", $_d$jscomp$8_requestRes$$)) : $module$exports$rtcutils_core$output$logger$Log$$.e("{fbd6ce8}", "{c87835d}", $_d$jscomp$8_requestRes$$);
    }
    $module$exports$output$util$settings$RagnarokSettings$$.fps = null !== ($_q$jscomp$2_touchSetting$$ = $_c$jscomp$9_getSettingInt$$("fps")) && void 0 !== $_q$jscomp$2_touchSetting$$ ? $_q$jscomp$2_touchSetting$$ : $module$exports$output$util$settings$RagnarokSettings$$.fps;
    $module$exports$output$util$settings$RagnarokSettings$$.$gamepadRaf$ = null !== ($_r$jscomp$2$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("gamepadraf")) && void 0 !== $_r$jscomp$2$$ ? $_r$jscomp$2$$ : $module$exports$output$util$settings$RagnarokSettings$$.$gamepadRaf$;
    $module$exports$output$util$settings$RagnarokSettings$$.gamepadPollInterval = null !== ($_s$jscomp$2$$ = $_c$jscomp$9_getSettingInt$$("gamepadpoll")) && void 0 !== $_s$jscomp$2$$ ? $_s$jscomp$2$$ : $module$exports$output$util$settings$RagnarokSettings$$.gamepadPollInterval;
    $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$ = null !== ($_t$jscomp$2$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("advancedgestures")) && void 0 !== $_t$jscomp$2$$ ? $_t$jscomp$2$$ : $module$exports$output$util$settings$RagnarokSettings$$.$advancedGestures$;
    $module$exports$output$util$settings$RagnarokSettings$$.$forceTouchCapable$ = null !== ($_u$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("forcetouchdevice")) && void 0 !== $_u$$ ? $_u$$ : $module$exports$output$util$settings$RagnarokSettings$$.$forceTouchCapable$;
    $_q$jscomp$2_touchSetting$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("touch");
    void 0 !== $_q$jscomp$2_touchSetting$$ && ($module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode = $_q$jscomp$2_touchSetting$$ ? 2 : 0, $module$exports$output$util$settings$RagnarokSettings$$.$forceTouchCapable$ = $_q$jscomp$2_touchSetting$$);
    $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$ = null !== ($_v_metaParts$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("storetouch")) && void 0 !== $_v_metaParts$$ ? $_v_metaParts$$ : $module$exports$output$util$settings$RagnarokSettings$$.$storeTouch$;
    $module$exports$output$util$settings$RagnarokSettings$$.$storeTouchGesture$ = null !== ($_w$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("storetouchgesture")) && void 0 !== $_w$$ ? $_w$$ : $module$exports$output$util$settings$RagnarokSettings$$.$storeTouchGesture$;
    $module$exports$output$util$settings$RagnarokSettings$$.$touchWarp$ = null !== ($_x$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("touchwarp")) && void 0 !== $_x$$ ? $_x$$ : $module$exports$output$util$settings$RagnarokSettings$$.$touchWarp$;
    $module$exports$output$util$settings$RagnarokSettings$$.$latencyTest$ = null !== ($_y$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("latency")) && void 0 !== $_y$$ ? $_y$$ : $module$exports$output$util$settings$RagnarokSettings$$.$latencyTest$;
    $module$exports$output$util$settings$RagnarokSettings$$.deviceOs = null !== ($_z$$ = $settingsMap$jscomp$2$$.get("deviceos")) && void 0 !== $_z$$ ? $_z$$ : $module$exports$output$util$settings$RagnarokSettings$$.deviceOs;
    $module$exports$output$util$settings$RagnarokSettings$$.deviceType = null !== ($_0$$ = $settingsMap$jscomp$2$$.get("devicetype")) && void 0 !== $_0$$ ? $_0$$ : $module$exports$output$util$settings$RagnarokSettings$$.deviceType;
    $module$exports$output$util$settings$RagnarokSettings$$.clientStreamer = null !== ($_1$$ = $settingsMap$jscomp$2$$.get("clientstreamer")) && void 0 !== $_1$$ ? $_1$$ : $module$exports$output$util$settings$RagnarokSettings$$.clientStreamer;
    $module$exports$output$util$settings$RagnarokSettings$$.clientId = null !== ($_2$$ = $settingsMap$jscomp$2$$.get("clientid")) && void 0 !== $_2$$ ? $_2$$ : $module$exports$output$util$settings$RagnarokSettings$$.clientId;
    $module$exports$output$util$settings$RagnarokSettings$$.clientPlatformName = null !== ($_3$$ = $settingsMap$jscomp$2$$.get("clientplatformname")) && void 0 !== $_3$$ ? $_3$$ : $module$exports$output$util$settings$RagnarokSettings$$.clientPlatformName;
    $module$exports$output$util$settings$RagnarokSettings$$.clientType = null !== ($_4$$ = $settingsMap$jscomp$2$$.get("clienttype")) && void 0 !== $_4$$ ? $_4$$ : $module$exports$output$util$settings$RagnarokSettings$$.clientType;
    $module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode = null !== ($_5$$ = $_c$jscomp$9_getSettingInt$$("applaunchmode")) && void 0 !== $_5$$ ? $_5$$ : $module$exports$output$util$settings$RagnarokSettings$$.appLaunchMode;
    $module$exports$output$util$settings$RagnarokSettings$$.$rsdmm$ = null !== ($_6$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("rsdmm")) && void 0 !== $_6$$ ? $_6$$ : $module$exports$output$util$settings$RagnarokSettings$$.$rsdmm$;
    $module$exports$output$util$settings$RagnarokSettings$$.$rsdmmThumbstickToggle$ = null !== ($_7$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("rsdmmtoggle")) && void 0 !== $_7$$ ? $_7$$ : $module$exports$output$util$settings$RagnarokSettings$$.$rsdmmThumbstickToggle$;
    null === ($_8$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("ioswars")) || void 0 === $_8$$ || $_8$$ || ($module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$allowAutoplayChange$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$allowSourceReset$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$allowEnableMic$ = !1, $module$exports$output$util$settings$RagnarokSettings$$.$allowMutingVideo$ = 
    !1);
    $module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$ = null !== ($_9$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("audioreset")) && void 0 !== $_9$$ ? $_9$$ : $module$exports$output$util$settings$RagnarokSettings$$.$allowAudioReset$;
    $module$exports$output$util$settings$RagnarokSettings$$.$allowSourceReset$ = null !== ($_10$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("sourcereset")) && void 0 !== $_10$$ ? $_10$$ : $module$exports$output$util$settings$RagnarokSettings$$.$allowSourceReset$;
    $module$exports$output$util$settings$RagnarokSettings$$.$allowAutoplayChange$ = null !== ($_11$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("autoplaychange")) && void 0 !== $_11$$ ? $_11$$ : $module$exports$output$util$settings$RagnarokSettings$$.$allowAutoplayChange$;
    $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel = null !== ($_12$$ = $casedSettingsMap_element$jscomp$9_getSettingNum$$("bitsperpixel")) && void 0 !== $_12$$ ? $_12$$ : $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel;
    $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel1440p = null !== ($_13$$ = $casedSettingsMap_element$jscomp$9_getSettingNum$$("bitsperpixel1440p")) && void 0 !== $_13$$ ? $_13$$ : $module$exports$output$util$settings$RagnarokSettings$$.bitsPerPixel1440p;
    $module$exports$output$util$settings$RagnarokSettings$$.$is1440pSupported$ = null !== ($_14$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("1440p")) && void 0 !== $_14$$ ? $_14$$ : $module$exports$output$util$settings$RagnarokSettings$$.$is1440pSupported$;
    $module$exports$output$util$settings$RagnarokSettings$$.stutterIndicator = null !== ($_15$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("stutter")) && void 0 !== $_15$$ ? $_15$$ : $module$exports$output$util$settings$RagnarokSettings$$.stutterIndicator;
    $module$exports$output$util$settings$RagnarokSettings$$.combineStreams = null !== ($_16$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("combinestreams")) && void 0 !== $_16$$ ? $_16$$ : $module$exports$output$util$settings$RagnarokSettings$$.combineStreams;
    if ($settingsMap$jscomp$2$$.has("meta")) {
      $module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$ = {};
      for (const $metaValue$$ of $settingsMap$jscomp$2$$.getAll("meta")) {
        $_v_metaParts$$ = $metaValue$$.split("~"), 2 === $_v_metaParts$$.length && ($module$exports$output$util$settings$RagnarokSettings$$.$sessionMetaData$[$_v_metaParts$$[0]] = $_v_metaParts$$[1]);
      }
    }
    $module$exports$output$util$settings$RagnarokSettings$$.allowHaptics = null !== ($_17$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("haptics")) && void 0 !== $_17$$ ? $_17$$ : $module$exports$output$util$settings$RagnarokSettings$$.allowHaptics;
    $module$exports$output$util$settings$RagnarokSettings$$.enableAv1Support = null !== ($_18$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("av1")) && void 0 !== $_18$$ ? $_18$$ : $module$exports$output$util$settings$RagnarokSettings$$.enableAv1Support;
    $module$exports$output$util$settings$RagnarokSettings$$.codecList = null !== ($_19$$ = ($JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$ => {
      $JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$ = $settingsMap$jscomp$2$$.get($JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$);
      $JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$ = $JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$ ? $JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$.split(",") : void 0;
      return $JSCompiler_inline_result$jscomp$28_key$jscomp$50_value$jscomp$110$$;
    })("codeclist")) && void 0 !== $_19$$ ? $_19$$ : $module$exports$output$util$settings$RagnarokSettings$$.codecList;
    $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser = null !== ($_20$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("internaluser")) && void 0 !== $_20$$ ? $_20$$ : $module$exports$output$util$settings$RagnarokSettings$$.isInternalUser;
    $module$exports$output$util$settings$RagnarokSettings$$.hdr = null !== ($_21$$ = $_b$jscomp$19_getSettingBool$jscomp$2$$("hdr")) && void 0 !== $_21$$ ? $_21$$ : $module$exports$output$util$settings$RagnarokSettings$$.hdr;
  }
  $module$contents$gridserver_core$output$settings_ConfigureGridServerSettings$$($data$jscomp$92$$);
};
window.Ragnarok.RagnarokSettings = $module$exports$output$util$settings$RagnarokSettings$$;
window.Ragnarok.GridServer = $module$exports$gridserver_core$output$gridserver$GridServer$$;
window.Ragnarok.PassThruServer = $module$exports$gridserver_core$output$gridserver$PassThruServer$$;
window.Ragnarok.ConfigureGridServerSettings = $module$contents$gridserver_core$output$settings_ConfigureGridServerSettings$$;
window.Ragnarok.GridServerSettings = $module$exports$gridserver_core$output$settings$GridServerSettings$$;
window.Ragnarok.TelemetryEventBase = $module$exports$gridserver_core$output$gstelemetryinterfaces$TelemetryEventBase$$;
window.Ragnarok.GridServer_GameLaunch_RequestDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GridServer_GameLaunch_RequestDef$$;
window.Ragnarok.GS_FeatureDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_FeatureDef$$;
window.Ragnarok.GS_SystemAPICallResultDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_SystemAPICallResultDef$$;
window.Ragnarok.GS_DebugInfoDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_DebugInfoDef$$;
window.Ragnarok.GS_ExceptionInfoDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ExceptionInfoDef$$;
window.Ragnarok.GS_ClientMetricEventDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ClientMetricEventDef$$;
window.Ragnarok.GS_ConnectivityCheckDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_ConnectivityCheckDef$$;
window.Ragnarok.GS_Sleep_EventDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_Sleep_EventDef$$;
window.Ragnarok.GS_HttpCallResultDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_HttpCallResultDef$$;
window.Ragnarok.GS_PropertyChange_EventDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_PropertyChange_EventDef$$;
window.Ragnarok.GS_CodecError_EventDef = $module$exports$gridserver_core$output$gstelemetryinterfaces$GS_CodecError_EventDef$$;
window.Ragnarok.GsTelemetryHandler = $module$exports$gridserver_core$output$gstelemetryhandler$GsTelemetryHandler$$;
window.Ragnarok.CHANGELIST = "Local";
window.Ragnarok.CLIENT_VERSION = "26.0";
window.Ragnarok.CLIENT_IDENTIFICATION = "GFN-PC";
window.Ragnarok.getPlatformDetails = function() {
  performance.mark("platformBegin");
  var $JSCompiler_StaticMethods_detectPlatformDetails$self$jscomp$inline_1081$$ = $module$contents$rtcutils_core$output$platform_platformImplSingleton$$;
  $JSCompiler_StaticMethods_detectPlatformDetails$self$jscomp$inline_1081$$.$Ta$ || ($JSCompiler_StaticMethods_detectPlatformDetails$self$jscomp$inline_1081$$.$Ta$ = $JSCompiler_StaticMethods_getDetectorPromise$$($JSCompiler_StaticMethods_detectPlatformDetails$self$jscomp$inline_1081$$));
  return $JSCompiler_StaticMethods_detectPlatformDetails$self$jscomp$inline_1081$$.$Ta$;
};
window.Ragnarok.performHttpRequest = $module$contents$rtcutils_core$output$utils_performHttpRequest$$;
window.Ragnarok.AddPlatformTelemetry = function($telemetry$jscomp$1$$) {
  $JSCompiler_StaticMethods_setTelemetryHandler$$($telemetry$jscomp$1$$);
};
window.Ragnarok.LogImpl = $module$exports$rtcutils_core$output$logger$LogImpl$$;
window.Ragnarok.translatePlatformDetailsForPayload = function($details$jscomp$4$$) {
  (null === $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ || void 0 === $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ ? void 0 : $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$.$h$) != $details$jscomp$4$$ && ($module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ = new $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$$($details$jscomp$4$$));
  return $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$.$m$;
};
window.Ragnarok.translatePlatformDetailsForClientHeader = function($details$jscomp$5$$) {
  (null === $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ || void 0 === $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ ? void 0 : $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$.$h$) != $details$jscomp$5$$ && ($module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$ = new $module$contents$rtcutils_core$output$translateplatform_TranslatedPlatformDetails$$($details$jscomp$5$$));
  return $module$contents$rtcutils_core$output$translateplatform_lastTranslatedDetails$$.$o$;
};




/***/ }),

/***/ 134:
/*!******************************************************************!*\
  !*** ./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js ***!
  \******************************************************************/
/***/ ((module, __unused_webpack_exports, __webpack_require__) => {

"use strict";
/*
 *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */


var SDPUtils = __webpack_require__(/*! sdp */ 985);

function fixStatsType(stat) {
  return {
    inboundrtp: 'inbound-rtp',
    outboundrtp: 'outbound-rtp',
    candidatepair: 'candidate-pair',
    localcandidate: 'local-candidate',
    remotecandidate: 'remote-candidate'
  }[stat.type] || stat.type;
}

function writeMediaSection(transceiver, caps, type, stream, dtlsRole) {
  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);

  // Map ICE parameters (ufrag, pwd) to SDP.
  sdp += SDPUtils.writeIceParameters(
      transceiver.iceGatherer.getLocalParameters());

  // Map DTLS parameters to SDP.
  sdp += SDPUtils.writeDtlsParameters(
      transceiver.dtlsTransport.getLocalParameters(),
      type === 'offer' ? 'actpass' : dtlsRole || 'active');

  sdp += 'a=mid:' + transceiver.mid + '\r\n';

  if (transceiver.rtpSender && transceiver.rtpReceiver) {
    sdp += 'a=sendrecv\r\n';
  } else if (transceiver.rtpSender) {
    sdp += 'a=sendonly\r\n';
  } else if (transceiver.rtpReceiver) {
    sdp += 'a=recvonly\r\n';
  } else {
    sdp += 'a=inactive\r\n';
  }

  if (transceiver.rtpSender) {
    var trackId = transceiver.rtpSender._initialTrackId ||
        transceiver.rtpSender.track.id;
    transceiver.rtpSender._initialTrackId = trackId;
    // spec.
    var msid = 'msid:' + (stream ? stream.id : '-') + ' ' +
        trackId + '\r\n';
    sdp += 'a=' + msid;
    // for Chrome. Legacy should no longer be required.
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
        ' ' + msid;

    // RTX
    if (transceiver.sendEncodingParameters[0].rtx) {
      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
          ' ' + msid;
      sdp += 'a=ssrc-group:FID ' +
          transceiver.sendEncodingParameters[0].ssrc + ' ' +
          transceiver.sendEncodingParameters[0].rtx.ssrc +
          '\r\n';
    }
  }
  // FIXME: this should be written by writeRtpDescription.
  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
      ' cname:' + SDPUtils.localCName + '\r\n';
  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
        ' cname:' + SDPUtils.localCName + '\r\n';
  }
  return sdp;
}

// Edge does not like
// 1) stun: filtered after 14393 unless ?transport=udp is present
// 2) turn: that does not have all of turn:host:port?transport=udp
// 3) turn: with ipv6 addresses
// 4) turn: occurring muliple times
function filterIceServers(iceServers, edgeVersion) {
  var hasTurn = false;
  iceServers = JSON.parse(JSON.stringify(iceServers));
  return iceServers.filter(function(server) {
    if (server && (server.urls || server.url)) {
      var urls = server.urls || server.url;
      if (server.url && !server.urls) {
        console.warn('RTCIceServer.url is deprecated! Use urls instead.');
      }
      var isString = typeof urls === 'string';
      if (isString) {
        urls = [urls];
      }
      urls = urls.filter(function(url) {
        var validTurn = url.indexOf('turn:') === 0 &&
            url.indexOf('transport=udp') !== -1 &&
            url.indexOf('turn:[') === -1 &&
            !hasTurn;

        if (validTurn) {
          hasTurn = true;
          return true;
        }
        return url.indexOf('stun:') === 0 && edgeVersion >= 14393 &&
            url.indexOf('?transport=udp') === -1;
      });

      delete server.url;
      server.urls = isString ? urls[0] : urls;
      return !!urls.length;
    }
  });
}

// Determines the intersection of local and remote capabilities.
function getCommonCapabilities(localCapabilities, remoteCapabilities) {
  var commonCapabilities = {
    codecs: [],
    headerExtensions: [],
    fecMechanisms: []
  };

  var findCodecByPayloadType = function(pt, codecs) {
    pt = parseInt(pt, 10);
    for (var i = 0; i < codecs.length; i++) {
      if (codecs[i].payloadType === pt ||
          codecs[i].preferredPayloadType === pt) {
        return codecs[i];
      }
    }
  };

  var rtxCapabilityMatches = function(lRtx, rRtx, lCodecs, rCodecs) {
    var lCodec = findCodecByPayloadType(lRtx.parameters.apt, lCodecs);
    var rCodec = findCodecByPayloadType(rRtx.parameters.apt, rCodecs);
    return lCodec && rCodec &&
        lCodec.name.toLowerCase() === rCodec.name.toLowerCase();
  };

  localCapabilities.codecs.forEach(function(lCodec) {
    for (var i = 0; i < remoteCapabilities.codecs.length; i++) {
      var rCodec = remoteCapabilities.codecs[i];
      if (lCodec.name.toLowerCase() === rCodec.name.toLowerCase() &&
          lCodec.clockRate === rCodec.clockRate) {
        if (lCodec.name.toLowerCase() === 'rtx' &&
            lCodec.parameters && rCodec.parameters.apt) {
          // for RTX we need to find the local rtx that has a apt
          // which points to the same local codec as the remote one.
          if (!rtxCapabilityMatches(lCodec, rCodec,
              localCapabilities.codecs, remoteCapabilities.codecs)) {
            continue;
          }
        }
        rCodec = JSON.parse(JSON.stringify(rCodec)); // deepcopy
        // number of channels is the highest common number of channels
        rCodec.numChannels = Math.min(lCodec.numChannels,
            rCodec.numChannels);
        // push rCodec so we reply with offerer payload type
        commonCapabilities.codecs.push(rCodec);

        // determine common feedback mechanisms
        rCodec.rtcpFeedback = rCodec.rtcpFeedback.filter(function(fb) {
          for (var j = 0; j < lCodec.rtcpFeedback.length; j++) {
            if (lCodec.rtcpFeedback[j].type === fb.type &&
                lCodec.rtcpFeedback[j].parameter === fb.parameter) {
              return true;
            }
          }
          return false;
        });
        // FIXME: also need to determine .parameters
        //  see https://github.com/openpeer/ortc/issues/569
        break;
      }
    }
  });

  localCapabilities.headerExtensions.forEach(function(lHeaderExtension) {
    for (var i = 0; i < remoteCapabilities.headerExtensions.length;
         i++) {
      var rHeaderExtension = remoteCapabilities.headerExtensions[i];
      if (lHeaderExtension.uri === rHeaderExtension.uri) {
        commonCapabilities.headerExtensions.push(rHeaderExtension);
        break;
      }
    }
  });

  // FIXME: fecMechanisms
  return commonCapabilities;
}

// is action=setLocalDescription with type allowed in signalingState
function isActionAllowedInSignalingState(action, type, signalingState) {
  return {
    offer: {
      setLocalDescription: ['stable', 'have-local-offer'],
      setRemoteDescription: ['stable', 'have-remote-offer']
    },
    answer: {
      setLocalDescription: ['have-remote-offer', 'have-local-pranswer'],
      setRemoteDescription: ['have-local-offer', 'have-remote-pranswer']
    }
  }[type][action].indexOf(signalingState) !== -1;
}

function maybeAddCandidate(iceTransport, candidate) {
  // Edge's internal representation adds some fields therefore
  // not all field are taken into account.
  var alreadyAdded = iceTransport.getRemoteCandidates()
      .find(function(remoteCandidate) {
        return candidate.foundation === remoteCandidate.foundation &&
            candidate.ip === remoteCandidate.ip &&
            candidate.port === remoteCandidate.port &&
            candidate.priority === remoteCandidate.priority &&
            candidate.protocol === remoteCandidate.protocol &&
            candidate.type === remoteCandidate.type;
      });
  if (!alreadyAdded) {
    iceTransport.addRemoteCandidate(candidate);
  }
  return !alreadyAdded;
}


function makeError(name, description) {
  var e = new Error(description);
  e.name = name;
  // legacy error codes from https://heycam.github.io/webidl/#idl-DOMException-error-names
  e.code = {
    NotSupportedError: 9,
    InvalidStateError: 11,
    InvalidAccessError: 15,
    TypeError: undefined,
    OperationError: undefined
  }[name];
  return e;
}

module.exports = function(window, edgeVersion) {
  // https://w3c.github.io/mediacapture-main/#mediastream
  // Helper function to add the track to the stream and
  // dispatch the event ourselves.
  function addTrackToStreamAndFireEvent(track, stream) {
    stream.addTrack(track);
    stream.dispatchEvent(new window.MediaStreamTrackEvent('addtrack',
        {track: track}));
  }

  function removeTrackFromStreamAndFireEvent(track, stream) {
    stream.removeTrack(track);
    stream.dispatchEvent(new window.MediaStreamTrackEvent('removetrack',
        {track: track}));
  }

  function fireAddTrack(pc, track, receiver, streams) {
    var trackEvent = new Event('track');
    trackEvent.track = track;
    trackEvent.receiver = receiver;
    trackEvent.transceiver = {receiver: receiver};
    trackEvent.streams = streams;
    window.setTimeout(function() {
      pc._dispatchEvent('track', trackEvent);
    });
  }

  var RTCPeerConnection = function(config) {
    var pc = this;

    var _eventTarget = document.createDocumentFragment();
    ['addEventListener', 'removeEventListener', 'dispatchEvent']
        .forEach(function(method) {
          pc[method] = _eventTarget[method].bind(_eventTarget);
        });

    this.canTrickleIceCandidates = null;

    this.needNegotiation = false;

    this.localStreams = [];
    this.remoteStreams = [];

    this._localDescription = null;
    this._remoteDescription = null;

    this.signalingState = 'stable';
    this.iceConnectionState = 'new';
    this.connectionState = 'new';
    this.iceGatheringState = 'new';

    config = JSON.parse(JSON.stringify(config || {}));

    this.usingBundle = config.bundlePolicy === 'max-bundle';
    if (config.rtcpMuxPolicy === 'negotiate') {
      throw(makeError('NotSupportedError',
          'rtcpMuxPolicy \'negotiate\' is not supported'));
    } else if (!config.rtcpMuxPolicy) {
      config.rtcpMuxPolicy = 'require';
    }

    switch (config.iceTransportPolicy) {
      case 'all':
      case 'relay':
        break;
      default:
        config.iceTransportPolicy = 'all';
        break;
    }

    switch (config.bundlePolicy) {
      case 'balanced':
      case 'max-compat':
      case 'max-bundle':
        break;
      default:
        config.bundlePolicy = 'balanced';
        break;
    }

    config.iceServers = filterIceServers(config.iceServers || [], edgeVersion);

    this._iceGatherers = [];
    if (config.iceCandidatePoolSize) {
      for (var i = config.iceCandidatePoolSize; i > 0; i--) {
        this._iceGatherers.push(new window.RTCIceGatherer({
          iceServers: config.iceServers,
          gatherPolicy: config.iceTransportPolicy
        }));
      }
    } else {
      config.iceCandidatePoolSize = 0;
    }

    this._config = config;

    // per-track iceGathers, iceTransports, dtlsTransports, rtpSenders, ...
    // everything that is needed to describe a SDP m-line.
    this.transceivers = [];

    this._sdpSessionId = SDPUtils.generateSessionId();
    this._sdpSessionVersion = 0;

    this._dtlsRole = undefined; // role for a=setup to use in answers.

    this._isClosed = false;
  };

  Object.defineProperty(RTCPeerConnection.prototype, 'localDescription', {
    configurable: true,
    get: function() {
      return this._localDescription;
    }
  });
  Object.defineProperty(RTCPeerConnection.prototype, 'remoteDescription', {
    configurable: true,
    get: function() {
      return this._remoteDescription;
    }
  });

  // set up event handlers on prototype
  RTCPeerConnection.prototype.onicecandidate = null;
  RTCPeerConnection.prototype.onaddstream = null;
  RTCPeerConnection.prototype.ontrack = null;
  RTCPeerConnection.prototype.onremovestream = null;
  RTCPeerConnection.prototype.onsignalingstatechange = null;
  RTCPeerConnection.prototype.oniceconnectionstatechange = null;
  RTCPeerConnection.prototype.onconnectionstatechange = null;
  RTCPeerConnection.prototype.onicegatheringstatechange = null;
  RTCPeerConnection.prototype.onnegotiationneeded = null;
  RTCPeerConnection.prototype.ondatachannel = null;

  RTCPeerConnection.prototype._dispatchEvent = function(name, event) {
    if (this._isClosed) {
      return;
    }
    this.dispatchEvent(event);
    if (typeof this['on' + name] === 'function') {
      this['on' + name](event);
    }
  };

  RTCPeerConnection.prototype._emitGatheringStateChange = function() {
    var event = new Event('icegatheringstatechange');
    this._dispatchEvent('icegatheringstatechange', event);
  };

  RTCPeerConnection.prototype.getConfiguration = function() {
    return this._config;
  };

  RTCPeerConnection.prototype.getLocalStreams = function() {
    return this.localStreams;
  };

  RTCPeerConnection.prototype.getRemoteStreams = function() {
    return this.remoteStreams;
  };

  // internal helper to create a transceiver object.
  // (which is not yet the same as the WebRTC 1.0 transceiver)
  RTCPeerConnection.prototype._createTransceiver = function(kind, doNotAdd) {
    var hasBundleTransport = this.transceivers.length > 0;
    var transceiver = {
      track: null,
      iceGatherer: null,
      iceTransport: null,
      dtlsTransport: null,
      localCapabilities: null,
      remoteCapabilities: null,
      rtpSender: null,
      rtpReceiver: null,
      kind: kind,
      mid: null,
      sendEncodingParameters: null,
      recvEncodingParameters: null,
      stream: null,
      associatedRemoteMediaStreams: [],
      wantReceive: true
    };
    if (this.usingBundle && hasBundleTransport) {
      transceiver.iceTransport = this.transceivers[0].iceTransport;
      transceiver.dtlsTransport = this.transceivers[0].dtlsTransport;
    } else {
      var transports = this._createIceAndDtlsTransports();
      transceiver.iceTransport = transports.iceTransport;
      transceiver.dtlsTransport = transports.dtlsTransport;
    }
    if (!doNotAdd) {
      this.transceivers.push(transceiver);
    }
    return transceiver;
  };

  RTCPeerConnection.prototype.addTrack = function(track, stream) {
    if (this._isClosed) {
      throw makeError('InvalidStateError',
          'Attempted to call addTrack on a closed peerconnection.');
    }

    var alreadyExists = this.transceivers.find(function(s) {
      return s.track === track;
    });

    if (alreadyExists) {
      throw makeError('InvalidAccessError', 'Track already exists.');
    }

    var transceiver;
    for (var i = 0; i < this.transceivers.length; i++) {
      if (!this.transceivers[i].track &&
          this.transceivers[i].kind === track.kind) {
        transceiver = this.transceivers[i];
      }
    }
    if (!transceiver) {
      transceiver = this._createTransceiver(track.kind);
    }

    this._maybeFireNegotiationNeeded();

    if (this.localStreams.indexOf(stream) === -1) {
      this.localStreams.push(stream);
    }

    transceiver.track = track;
    transceiver.stream = stream;
    transceiver.rtpSender = new window.RTCRtpSender(track,
        transceiver.dtlsTransport);
    return transceiver.rtpSender;
  };

  RTCPeerConnection.prototype.addStream = function(stream) {
    var pc = this;
    if (edgeVersion >= 15025) {
      stream.getTracks().forEach(function(track) {
        pc.addTrack(track, stream);
      });
    } else {
      // Clone is necessary for local demos mostly, attaching directly
      // to two different senders does not work (build 10547).
      // Fixed in 15025 (or earlier)
      var clonedStream = stream.clone();
      stream.getTracks().forEach(function(track, idx) {
        var clonedTrack = clonedStream.getTracks()[idx];
        track.addEventListener('enabled', function(event) {
          clonedTrack.enabled = event.enabled;
        });
      });
      clonedStream.getTracks().forEach(function(track) {
        pc.addTrack(track, clonedStream);
      });
    }
  };

  RTCPeerConnection.prototype.removeTrack = function(sender) {
    if (this._isClosed) {
      throw makeError('InvalidStateError',
          'Attempted to call removeTrack on a closed peerconnection.');
    }

    if (!(sender instanceof window.RTCRtpSender)) {
      throw new TypeError('Argument 1 of RTCPeerConnection.removeTrack ' +
          'does not implement interface RTCRtpSender.');
    }

    var transceiver = this.transceivers.find(function(t) {
      return t.rtpSender === sender;
    });

    if (!transceiver) {
      throw makeError('InvalidAccessError',
          'Sender was not created by this connection.');
    }
    var stream = transceiver.stream;

    transceiver.rtpSender.stop();
    transceiver.rtpSender = null;
    transceiver.track = null;
    transceiver.stream = null;

    // remove the stream from the set of local streams
    var localStreams = this.transceivers.map(function(t) {
      return t.stream;
    });
    if (localStreams.indexOf(stream) === -1 &&
        this.localStreams.indexOf(stream) > -1) {
      this.localStreams.splice(this.localStreams.indexOf(stream), 1);
    }

    this._maybeFireNegotiationNeeded();
  };

  RTCPeerConnection.prototype.removeStream = function(stream) {
    var pc = this;
    stream.getTracks().forEach(function(track) {
      var sender = pc.getSenders().find(function(s) {
        return s.track === track;
      });
      if (sender) {
        pc.removeTrack(sender);
      }
    });
  };

  RTCPeerConnection.prototype.getSenders = function() {
    return this.transceivers.filter(function(transceiver) {
      return !!transceiver.rtpSender;
    })
    .map(function(transceiver) {
      return transceiver.rtpSender;
    });
  };

  RTCPeerConnection.prototype.getReceivers = function() {
    return this.transceivers.filter(function(transceiver) {
      return !!transceiver.rtpReceiver;
    })
    .map(function(transceiver) {
      return transceiver.rtpReceiver;
    });
  };


  RTCPeerConnection.prototype._createIceGatherer = function(sdpMLineIndex,
      usingBundle) {
    var pc = this;
    if (usingBundle && sdpMLineIndex > 0) {
      return this.transceivers[0].iceGatherer;
    } else if (this._iceGatherers.length) {
      return this._iceGatherers.shift();
    }
    var iceGatherer = new window.RTCIceGatherer({
      iceServers: this._config.iceServers,
      gatherPolicy: this._config.iceTransportPolicy
    });
    Object.defineProperty(iceGatherer, 'state',
        {value: 'new', writable: true}
    );

    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = [];
    this.transceivers[sdpMLineIndex].bufferCandidates = function(event) {
      var end = !event.candidate || Object.keys(event.candidate).length === 0;
      // polyfill since RTCIceGatherer.state is not implemented in
      // Edge 10547 yet.
      iceGatherer.state = end ? 'completed' : 'gathering';
      if (pc.transceivers[sdpMLineIndex].bufferedCandidateEvents !== null) {
        pc.transceivers[sdpMLineIndex].bufferedCandidateEvents.push(event);
      }
    };
    iceGatherer.addEventListener('localcandidate',
      this.transceivers[sdpMLineIndex].bufferCandidates);
    return iceGatherer;
  };

  // start gathering from an RTCIceGatherer.
  RTCPeerConnection.prototype._gather = function(mid, sdpMLineIndex) {
    var pc = this;
    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
    if (iceGatherer.onlocalcandidate) {
      return;
    }
    var bufferedCandidateEvents =
      this.transceivers[sdpMLineIndex].bufferedCandidateEvents;
    this.transceivers[sdpMLineIndex].bufferedCandidateEvents = null;
    iceGatherer.removeEventListener('localcandidate',
      this.transceivers[sdpMLineIndex].bufferCandidates);
    iceGatherer.onlocalcandidate = function(evt) {
      if (pc.usingBundle && sdpMLineIndex > 0) {
        // if we know that we use bundle we can drop candidates with
        // dpMLineIndex > 0. If we don't do this then our state gets
        // confused since we dispose the extra ice gatherer.
        return;
      }
      var event = new Event('icecandidate');
      event.candidate = {sdpMid: mid, sdpMLineIndex: sdpMLineIndex};

      var cand = evt.candidate;
      // Edge emits an empty object for RTCIceCandidateComplete
      var end = !cand || Object.keys(cand).length === 0;
      if (end) {
        // polyfill since RTCIceGatherer.state is not implemented in
        // Edge 10547 yet.
        if (iceGatherer.state === 'new' || iceGatherer.state === 'gathering') {
          iceGatherer.state = 'completed';
        }
      } else {
        if (iceGatherer.state === 'new') {
          iceGatherer.state = 'gathering';
        }
        // RTCIceCandidate doesn't have a component, needs to be added
        cand.component = 1;
        // also the usernameFragment. TODO: update SDP to take both variants.
        cand.ufrag = iceGatherer.getLocalParameters().usernameFragment;

        var serializedCandidate = SDPUtils.writeCandidate(cand);
        event.candidate = Object.assign(event.candidate,
            SDPUtils.parseCandidate(serializedCandidate));

        event.candidate.candidate = serializedCandidate;
        event.candidate.toJSON = function() {
          return {
            candidate: event.candidate.candidate,
            sdpMid: event.candidate.sdpMid,
            sdpMLineIndex: event.candidate.sdpMLineIndex,
            usernameFragment: event.candidate.usernameFragment
          };
        };
      }

      // update local description.
      var sections = SDPUtils.getMediaSections(pc._localDescription.sdp);
      if (!end) {
        sections[event.candidate.sdpMLineIndex] +=
            'a=' + event.candidate.candidate + '\r\n';
      } else {
        sections[event.candidate.sdpMLineIndex] +=
            'a=end-of-candidates\r\n';
      }
      pc._localDescription.sdp =
          SDPUtils.getDescription(pc._localDescription.sdp) +
          sections.join('');
      var complete = pc.transceivers.every(function(transceiver) {
        return transceiver.iceGatherer &&
            transceiver.iceGatherer.state === 'completed';
      });

      if (pc.iceGatheringState !== 'gathering') {
        pc.iceGatheringState = 'gathering';
        pc._emitGatheringStateChange();
      }

      // Emit candidate. Also emit null candidate when all gatherers are
      // complete.
      if (!end) {
        pc._dispatchEvent('icecandidate', event);
      }
      if (complete) {
        pc._dispatchEvent('icecandidate', new Event('icecandidate'));
        pc.iceGatheringState = 'complete';
        pc._emitGatheringStateChange();
      }
    };

    // emit already gathered candidates.
    window.setTimeout(function() {
      bufferedCandidateEvents.forEach(function(e) {
        iceGatherer.onlocalcandidate(e);
      });
    }, 0);
  };

  // Create ICE transport and DTLS transport.
  RTCPeerConnection.prototype._createIceAndDtlsTransports = function() {
    var pc = this;
    var iceTransport = new window.RTCIceTransport(null);
    iceTransport.onicestatechange = function() {
      pc._updateIceConnectionState();
      pc._updateConnectionState();
    };

    var dtlsTransport = new window.RTCDtlsTransport(iceTransport);
    dtlsTransport.ondtlsstatechange = function() {
      pc._updateConnectionState();
    };
    dtlsTransport.onerror = function() {
      // onerror does not set state to failed by itself.
      Object.defineProperty(dtlsTransport, 'state',
          {value: 'failed', writable: true});
      pc._updateConnectionState();
    };

    return {
      iceTransport: iceTransport,
      dtlsTransport: dtlsTransport
    };
  };

  // Destroy ICE gatherer, ICE transport and DTLS transport.
  // Without triggering the callbacks.
  RTCPeerConnection.prototype._disposeIceAndDtlsTransports = function(
      sdpMLineIndex) {
    var iceGatherer = this.transceivers[sdpMLineIndex].iceGatherer;
    if (iceGatherer) {
      delete iceGatherer.onlocalcandidate;
      delete this.transceivers[sdpMLineIndex].iceGatherer;
    }
    var iceTransport = this.transceivers[sdpMLineIndex].iceTransport;
    if (iceTransport) {
      delete iceTransport.onicestatechange;
      delete this.transceivers[sdpMLineIndex].iceTransport;
    }
    var dtlsTransport = this.transceivers[sdpMLineIndex].dtlsTransport;
    if (dtlsTransport) {
      delete dtlsTransport.ondtlsstatechange;
      delete dtlsTransport.onerror;
      delete this.transceivers[sdpMLineIndex].dtlsTransport;
    }
  };

  // Start the RTP Sender and Receiver for a transceiver.
  RTCPeerConnection.prototype._transceive = function(transceiver,
      send, recv) {
    var params = getCommonCapabilities(transceiver.localCapabilities,
        transceiver.remoteCapabilities);
    if (send && transceiver.rtpSender) {
      params.encodings = transceiver.sendEncodingParameters;
      params.rtcp = {
        cname: SDPUtils.localCName,
        compound: transceiver.rtcpParameters.compound
      };
      if (transceiver.recvEncodingParameters.length) {
        params.rtcp.ssrc = transceiver.recvEncodingParameters[0].ssrc;
      }
      transceiver.rtpSender.send(params);
    }
    if (recv && transceiver.rtpReceiver && params.codecs.length > 0) {
      // remove RTX field in Edge 14942
      if (transceiver.kind === 'video'
          && transceiver.recvEncodingParameters
          && edgeVersion < 15019) {
        transceiver.recvEncodingParameters.forEach(function(p) {
          delete p.rtx;
        });
      }
      if (transceiver.recvEncodingParameters.length) {
        params.encodings = transceiver.recvEncodingParameters;
      } else {
        params.encodings = [{}];
      }
      params.rtcp = {
        compound: transceiver.rtcpParameters.compound
      };
      if (transceiver.rtcpParameters.cname) {
        params.rtcp.cname = transceiver.rtcpParameters.cname;
      }
      if (transceiver.sendEncodingParameters.length) {
        params.rtcp.ssrc = transceiver.sendEncodingParameters[0].ssrc;
      }
      transceiver.rtpReceiver.receive(params);
    }
  };

  RTCPeerConnection.prototype.setLocalDescription = function(description) {
    var pc = this;

    // Note: pranswer is not supported.
    if (['offer', 'answer'].indexOf(description.type) === -1) {
      return Promise.reject(makeError('TypeError',
          'Unsupported type "' + description.type + '"'));
    }

    if (!isActionAllowedInSignalingState('setLocalDescription',
        description.type, pc.signalingState) || pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not set local ' + description.type +
          ' in state ' + pc.signalingState));
    }

    var sections;
    var sessionpart;
    if (description.type === 'offer') {
      // VERY limited support for SDP munging. Limited to:
      // * changing the order of codecs
      sections = SDPUtils.splitSections(description.sdp);
      sessionpart = sections.shift();
      sections.forEach(function(mediaSection, sdpMLineIndex) {
        var caps = SDPUtils.parseRtpParameters(mediaSection);
        pc.transceivers[sdpMLineIndex].localCapabilities = caps;
      });

      pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
        pc._gather(transceiver.mid, sdpMLineIndex);
      });
    } else if (description.type === 'answer') {
      sections = SDPUtils.splitSections(pc._remoteDescription.sdp);
      sessionpart = sections.shift();
      var isIceLite = SDPUtils.matchPrefix(sessionpart,
          'a=ice-lite').length > 0;
      sections.forEach(function(mediaSection, sdpMLineIndex) {
        var transceiver = pc.transceivers[sdpMLineIndex];
        var iceGatherer = transceiver.iceGatherer;
        var iceTransport = transceiver.iceTransport;
        var dtlsTransport = transceiver.dtlsTransport;
        var localCapabilities = transceiver.localCapabilities;
        var remoteCapabilities = transceiver.remoteCapabilities;

        // treat bundle-only as not-rejected.
        var rejected = SDPUtils.isRejected(mediaSection) &&
            SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;

        if (!rejected && !transceiver.rejected) {
          var remoteIceParameters = SDPUtils.getIceParameters(
              mediaSection, sessionpart);
          var remoteDtlsParameters = SDPUtils.getDtlsParameters(
              mediaSection, sessionpart);
          if (isIceLite) {
            remoteDtlsParameters.role = 'server';
          }

          if (!pc.usingBundle || sdpMLineIndex === 0) {
            pc._gather(transceiver.mid, sdpMLineIndex);
            if (iceTransport.state === 'new') {
              iceTransport.start(iceGatherer, remoteIceParameters,
                  isIceLite ? 'controlling' : 'controlled');
            }
            if (dtlsTransport.state === 'new') {
              dtlsTransport.start(remoteDtlsParameters);
            }
          }

          // Calculate intersection of capabilities.
          var params = getCommonCapabilities(localCapabilities,
              remoteCapabilities);

          // Start the RTCRtpSender. The RTCRtpReceiver for this
          // transceiver has already been started in setRemoteDescription.
          pc._transceive(transceiver,
              params.codecs.length > 0,
              false);
        }
      });
    }

    pc._localDescription = {
      type: description.type,
      sdp: description.sdp
    };
    if (description.type === 'offer') {
      pc._updateSignalingState('have-local-offer');
    } else {
      pc._updateSignalingState('stable');
    }

    return Promise.resolve();
  };

  RTCPeerConnection.prototype.setRemoteDescription = function(description) {
    var pc = this;

    // Note: pranswer is not supported.
    if (['offer', 'answer'].indexOf(description.type) === -1) {
      return Promise.reject(makeError('TypeError',
          'Unsupported type "' + description.type + '"'));
    }

    if (!isActionAllowedInSignalingState('setRemoteDescription',
        description.type, pc.signalingState) || pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not set remote ' + description.type +
          ' in state ' + pc.signalingState));
    }

    var streams = {};
    pc.remoteStreams.forEach(function(stream) {
      streams[stream.id] = stream;
    });
    var receiverList = [];
    var sections = SDPUtils.splitSections(description.sdp);
    var sessionpart = sections.shift();
    var isIceLite = SDPUtils.matchPrefix(sessionpart,
        'a=ice-lite').length > 0;
    var usingBundle = SDPUtils.matchPrefix(sessionpart,
        'a=group:BUNDLE ').length > 0;
    pc.usingBundle = usingBundle;
    var iceOptions = SDPUtils.matchPrefix(sessionpart,
        'a=ice-options:')[0];
    if (iceOptions) {
      pc.canTrickleIceCandidates = iceOptions.substr(14).split(' ')
          .indexOf('trickle') >= 0;
    } else {
      pc.canTrickleIceCandidates = false;
    }

    sections.forEach(function(mediaSection, sdpMLineIndex) {
      var lines = SDPUtils.splitLines(mediaSection);
      var kind = SDPUtils.getKind(mediaSection);
      // treat bundle-only as not-rejected.
      var rejected = SDPUtils.isRejected(mediaSection) &&
          SDPUtils.matchPrefix(mediaSection, 'a=bundle-only').length === 0;
      var protocol = lines[0].substr(2).split(' ')[2];

      var direction = SDPUtils.getDirection(mediaSection, sessionpart);
      var remoteMsid = SDPUtils.parseMsid(mediaSection);

      var mid = SDPUtils.getMid(mediaSection) || SDPUtils.generateIdentifier();

      // Reject datachannels which are not implemented yet.
      if (rejected || (kind === 'application' && (protocol === 'DTLS/SCTP' ||
          protocol === 'UDP/DTLS/SCTP'))) {
        // TODO: this is dangerous in the case where a non-rejected m-line
        //     becomes rejected.
        pc.transceivers[sdpMLineIndex] = {
          mid: mid,
          kind: kind,
          protocol: protocol,
          rejected: true
        };
        return;
      }

      if (!rejected && pc.transceivers[sdpMLineIndex] &&
          pc.transceivers[sdpMLineIndex].rejected) {
        // recycle a rejected transceiver.
        pc.transceivers[sdpMLineIndex] = pc._createTransceiver(kind, true);
      }

      var transceiver;
      var iceGatherer;
      var iceTransport;
      var dtlsTransport;
      var rtpReceiver;
      var sendEncodingParameters;
      var recvEncodingParameters;
      var localCapabilities;

      var track;
      // FIXME: ensure the mediaSection has rtcp-mux set.
      var remoteCapabilities = SDPUtils.parseRtpParameters(mediaSection);
      var remoteIceParameters;
      var remoteDtlsParameters;
      if (!rejected) {
        remoteIceParameters = SDPUtils.getIceParameters(mediaSection,
            sessionpart);
        remoteDtlsParameters = SDPUtils.getDtlsParameters(mediaSection,
            sessionpart);
        remoteDtlsParameters.role = 'client';
      }
      recvEncodingParameters =
          SDPUtils.parseRtpEncodingParameters(mediaSection);

      var rtcpParameters = SDPUtils.parseRtcpParameters(mediaSection);

      var isComplete = SDPUtils.matchPrefix(mediaSection,
          'a=end-of-candidates', sessionpart).length > 0;
      var cands = SDPUtils.matchPrefix(mediaSection, 'a=candidate:')
          .map(function(cand) {
            return SDPUtils.parseCandidate(cand);
          })
          .filter(function(cand) {
            return cand.component === 1;
          });

      // Check if we can use BUNDLE and dispose transports.
      if ((description.type === 'offer' || description.type === 'answer') &&
          !rejected && usingBundle && sdpMLineIndex > 0 &&
          pc.transceivers[sdpMLineIndex]) {
        pc._disposeIceAndDtlsTransports(sdpMLineIndex);
        pc.transceivers[sdpMLineIndex].iceGatherer =
            pc.transceivers[0].iceGatherer;
        pc.transceivers[sdpMLineIndex].iceTransport =
            pc.transceivers[0].iceTransport;
        pc.transceivers[sdpMLineIndex].dtlsTransport =
            pc.transceivers[0].dtlsTransport;
        if (pc.transceivers[sdpMLineIndex].rtpSender) {
          pc.transceivers[sdpMLineIndex].rtpSender.setTransport(
              pc.transceivers[0].dtlsTransport);
        }
        if (pc.transceivers[sdpMLineIndex].rtpReceiver) {
          pc.transceivers[sdpMLineIndex].rtpReceiver.setTransport(
              pc.transceivers[0].dtlsTransport);
        }
      }
      if (description.type === 'offer' && !rejected) {
        transceiver = pc.transceivers[sdpMLineIndex] ||
            pc._createTransceiver(kind);
        transceiver.mid = mid;

        if (!transceiver.iceGatherer) {
          transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,
              usingBundle);
        }

        if (cands.length && transceiver.iceTransport.state === 'new') {
          if (isComplete && (!usingBundle || sdpMLineIndex === 0)) {
            transceiver.iceTransport.setRemoteCandidates(cands);
          } else {
            cands.forEach(function(candidate) {
              maybeAddCandidate(transceiver.iceTransport, candidate);
            });
          }
        }

        localCapabilities = window.RTCRtpReceiver.getCapabilities(kind);

        // filter RTX until additional stuff needed for RTX is implemented
        // in adapter.js
        if (edgeVersion < 15019) {
          localCapabilities.codecs = localCapabilities.codecs.filter(
              function(codec) {
                return codec.name !== 'rtx';
              });
        }

        sendEncodingParameters = transceiver.sendEncodingParameters || [{
          ssrc: (2 * sdpMLineIndex + 2) * 1001
        }];

        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams
        var isNewTrack = false;
        if (direction === 'sendrecv' || direction === 'sendonly') {
          isNewTrack = !transceiver.rtpReceiver;
          rtpReceiver = transceiver.rtpReceiver ||
              new window.RTCRtpReceiver(transceiver.dtlsTransport, kind);

          if (isNewTrack) {
            var stream;
            track = rtpReceiver.track;
            // FIXME: does not work with Plan B.
            if (remoteMsid && remoteMsid.stream === '-') {
              // no-op. a stream id of '-' means: no associated stream.
            } else if (remoteMsid) {
              if (!streams[remoteMsid.stream]) {
                streams[remoteMsid.stream] = new window.MediaStream();
                Object.defineProperty(streams[remoteMsid.stream], 'id', {
                  get: function() {
                    return remoteMsid.stream;
                  }
                });
              }
              Object.defineProperty(track, 'id', {
                get: function() {
                  return remoteMsid.track;
                }
              });
              stream = streams[remoteMsid.stream];
            } else {
              if (!streams.default) {
                streams.default = new window.MediaStream();
              }
              stream = streams.default;
            }
            if (stream) {
              addTrackToStreamAndFireEvent(track, stream);
              transceiver.associatedRemoteMediaStreams.push(stream);
            }
            receiverList.push([track, rtpReceiver, stream]);
          }
        } else if (transceiver.rtpReceiver && transceiver.rtpReceiver.track) {
          transceiver.associatedRemoteMediaStreams.forEach(function(s) {
            var nativeTrack = s.getTracks().find(function(t) {
              return t.id === transceiver.rtpReceiver.track.id;
            });
            if (nativeTrack) {
              removeTrackFromStreamAndFireEvent(nativeTrack, s);
            }
          });
          transceiver.associatedRemoteMediaStreams = [];
        }

        transceiver.localCapabilities = localCapabilities;
        transceiver.remoteCapabilities = remoteCapabilities;
        transceiver.rtpReceiver = rtpReceiver;
        transceiver.rtcpParameters = rtcpParameters;
        transceiver.sendEncodingParameters = sendEncodingParameters;
        transceiver.recvEncodingParameters = recvEncodingParameters;

        // Start the RTCRtpReceiver now. The RTPSender is started in
        // setLocalDescription.
        pc._transceive(pc.transceivers[sdpMLineIndex],
            false,
            isNewTrack);
      } else if (description.type === 'answer' && !rejected) {
        transceiver = pc.transceivers[sdpMLineIndex];
        iceGatherer = transceiver.iceGatherer;
        iceTransport = transceiver.iceTransport;
        dtlsTransport = transceiver.dtlsTransport;
        rtpReceiver = transceiver.rtpReceiver;
        sendEncodingParameters = transceiver.sendEncodingParameters;
        localCapabilities = transceiver.localCapabilities;

        pc.transceivers[sdpMLineIndex].recvEncodingParameters =
            recvEncodingParameters;
        pc.transceivers[sdpMLineIndex].remoteCapabilities =
            remoteCapabilities;
        pc.transceivers[sdpMLineIndex].rtcpParameters = rtcpParameters;

        if (cands.length && iceTransport.state === 'new') {
          if ((isIceLite || isComplete) &&
              (!usingBundle || sdpMLineIndex === 0)) {
            iceTransport.setRemoteCandidates(cands);
          } else {
            cands.forEach(function(candidate) {
              maybeAddCandidate(transceiver.iceTransport, candidate);
            });
          }
        }

        if (!usingBundle || sdpMLineIndex === 0) {
          if (iceTransport.state === 'new') {
            iceTransport.start(iceGatherer, remoteIceParameters,
                'controlling');
          }
          if (dtlsTransport.state === 'new') {
            dtlsTransport.start(remoteDtlsParameters);
          }
        }

        // If the offer contained RTX but the answer did not,
        // remove RTX from sendEncodingParameters.
        var commonCapabilities = getCommonCapabilities(
          transceiver.localCapabilities,
          transceiver.remoteCapabilities);

        var hasRtx = commonCapabilities.codecs.filter(function(c) {
          return c.name.toLowerCase() === 'rtx';
        }).length;
        if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
          delete transceiver.sendEncodingParameters[0].rtx;
        }

        pc._transceive(transceiver,
            direction === 'sendrecv' || direction === 'recvonly',
            direction === 'sendrecv' || direction === 'sendonly');

        // TODO: rewrite to use http://w3c.github.io/webrtc-pc/#set-associated-remote-streams
        if (rtpReceiver &&
            (direction === 'sendrecv' || direction === 'sendonly')) {
          track = rtpReceiver.track;
          if (remoteMsid) {
            if (!streams[remoteMsid.stream]) {
              streams[remoteMsid.stream] = new window.MediaStream();
            }
            addTrackToStreamAndFireEvent(track, streams[remoteMsid.stream]);
            receiverList.push([track, rtpReceiver, streams[remoteMsid.stream]]);
          } else {
            if (!streams.default) {
              streams.default = new window.MediaStream();
            }
            addTrackToStreamAndFireEvent(track, streams.default);
            receiverList.push([track, rtpReceiver, streams.default]);
          }
        } else {
          // FIXME: actually the receiver should be created later.
          delete transceiver.rtpReceiver;
        }
      }
    });

    if (pc._dtlsRole === undefined) {
      pc._dtlsRole = description.type === 'offer' ? 'active' : 'passive';
    }

    pc._remoteDescription = {
      type: description.type,
      sdp: description.sdp
    };
    if (description.type === 'offer') {
      pc._updateSignalingState('have-remote-offer');
    } else {
      pc._updateSignalingState('stable');
    }
    Object.keys(streams).forEach(function(sid) {
      var stream = streams[sid];
      if (stream.getTracks().length) {
        if (pc.remoteStreams.indexOf(stream) === -1) {
          pc.remoteStreams.push(stream);
          var event = new Event('addstream');
          event.stream = stream;
          window.setTimeout(function() {
            pc._dispatchEvent('addstream', event);
          });
        }

        receiverList.forEach(function(item) {
          var track = item[0];
          var receiver = item[1];
          if (stream.id !== item[2].id) {
            return;
          }
          fireAddTrack(pc, track, receiver, [stream]);
        });
      }
    });
    receiverList.forEach(function(item) {
      if (item[2]) {
        return;
      }
      fireAddTrack(pc, item[0], item[1], []);
    });

    // check whether addIceCandidate({}) was called within four seconds after
    // setRemoteDescription.
    window.setTimeout(function() {
      if (!(pc && pc.transceivers)) {
        return;
      }
      pc.transceivers.forEach(function(transceiver) {
        if (transceiver.iceTransport &&
            transceiver.iceTransport.state === 'new' &&
            transceiver.iceTransport.getRemoteCandidates().length > 0) {
          console.warn('Timeout for addRemoteCandidate. Consider sending ' +
              'an end-of-candidates notification');
          transceiver.iceTransport.addRemoteCandidate({});
        }
      });
    }, 4000);

    return Promise.resolve();
  };

  RTCPeerConnection.prototype.close = function() {
    this.transceivers.forEach(function(transceiver) {
      /* not yet
      if (transceiver.iceGatherer) {
        transceiver.iceGatherer.close();
      }
      */
      if (transceiver.iceTransport) {
        transceiver.iceTransport.stop();
      }
      if (transceiver.dtlsTransport) {
        transceiver.dtlsTransport.stop();
      }
      if (transceiver.rtpSender) {
        transceiver.rtpSender.stop();
      }
      if (transceiver.rtpReceiver) {
        transceiver.rtpReceiver.stop();
      }
    });
    // FIXME: clean up tracks, local streams, remote streams, etc
    this._isClosed = true;
    this._updateSignalingState('closed');
  };

  // Update the signaling state.
  RTCPeerConnection.prototype._updateSignalingState = function(newState) {
    this.signalingState = newState;
    var event = new Event('signalingstatechange');
    this._dispatchEvent('signalingstatechange', event);
  };

  // Determine whether to fire the negotiationneeded event.
  RTCPeerConnection.prototype._maybeFireNegotiationNeeded = function() {
    var pc = this;
    if (this.signalingState !== 'stable' || this.needNegotiation === true) {
      return;
    }
    this.needNegotiation = true;
    window.setTimeout(function() {
      if (pc.needNegotiation) {
        pc.needNegotiation = false;
        var event = new Event('negotiationneeded');
        pc._dispatchEvent('negotiationneeded', event);
      }
    }, 0);
  };

  // Update the ice connection state.
  RTCPeerConnection.prototype._updateIceConnectionState = function() {
    var newState;
    var states = {
      'new': 0,
      closed: 0,
      checking: 0,
      connected: 0,
      completed: 0,
      disconnected: 0,
      failed: 0
    };
    this.transceivers.forEach(function(transceiver) {
      if (transceiver.iceTransport && !transceiver.rejected) {
        states[transceiver.iceTransport.state]++;
      }
    });

    newState = 'new';
    if (states.failed > 0) {
      newState = 'failed';
    } else if (states.checking > 0) {
      newState = 'checking';
    } else if (states.disconnected > 0) {
      newState = 'disconnected';
    } else if (states.new > 0) {
      newState = 'new';
    } else if (states.connected > 0) {
      newState = 'connected';
    } else if (states.completed > 0) {
      newState = 'completed';
    }

    if (newState !== this.iceConnectionState) {
      this.iceConnectionState = newState;
      var event = new Event('iceconnectionstatechange');
      this._dispatchEvent('iceconnectionstatechange', event);
    }
  };

  // Update the connection state.
  RTCPeerConnection.prototype._updateConnectionState = function() {
    var newState;
    var states = {
      'new': 0,
      closed: 0,
      connecting: 0,
      connected: 0,
      completed: 0,
      disconnected: 0,
      failed: 0
    };
    this.transceivers.forEach(function(transceiver) {
      if (transceiver.iceTransport && transceiver.dtlsTransport &&
          !transceiver.rejected) {
        states[transceiver.iceTransport.state]++;
        states[transceiver.dtlsTransport.state]++;
      }
    });
    // ICETransport.completed and connected are the same for this purpose.
    states.connected += states.completed;

    newState = 'new';
    if (states.failed > 0) {
      newState = 'failed';
    } else if (states.connecting > 0) {
      newState = 'connecting';
    } else if (states.disconnected > 0) {
      newState = 'disconnected';
    } else if (states.new > 0) {
      newState = 'new';
    } else if (states.connected > 0) {
      newState = 'connected';
    }

    if (newState !== this.connectionState) {
      this.connectionState = newState;
      var event = new Event('connectionstatechange');
      this._dispatchEvent('connectionstatechange', event);
    }
  };

  RTCPeerConnection.prototype.createOffer = function() {
    var pc = this;

    if (pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createOffer after close'));
    }

    var numAudioTracks = pc.transceivers.filter(function(t) {
      return t.kind === 'audio';
    }).length;
    var numVideoTracks = pc.transceivers.filter(function(t) {
      return t.kind === 'video';
    }).length;

    // Determine number of audio and video tracks we need to send/recv.
    var offerOptions = arguments[0];
    if (offerOptions) {
      // Reject Chrome legacy constraints.
      if (offerOptions.mandatory || offerOptions.optional) {
        throw new TypeError(
            'Legacy mandatory/optional constraints not supported.');
      }
      if (offerOptions.offerToReceiveAudio !== undefined) {
        if (offerOptions.offerToReceiveAudio === true) {
          numAudioTracks = 1;
        } else if (offerOptions.offerToReceiveAudio === false) {
          numAudioTracks = 0;
        } else {
          numAudioTracks = offerOptions.offerToReceiveAudio;
        }
      }
      if (offerOptions.offerToReceiveVideo !== undefined) {
        if (offerOptions.offerToReceiveVideo === true) {
          numVideoTracks = 1;
        } else if (offerOptions.offerToReceiveVideo === false) {
          numVideoTracks = 0;
        } else {
          numVideoTracks = offerOptions.offerToReceiveVideo;
        }
      }
    }

    pc.transceivers.forEach(function(transceiver) {
      if (transceiver.kind === 'audio') {
        numAudioTracks--;
        if (numAudioTracks < 0) {
          transceiver.wantReceive = false;
        }
      } else if (transceiver.kind === 'video') {
        numVideoTracks--;
        if (numVideoTracks < 0) {
          transceiver.wantReceive = false;
        }
      }
    });

    // Create M-lines for recvonly streams.
    while (numAudioTracks > 0 || numVideoTracks > 0) {
      if (numAudioTracks > 0) {
        pc._createTransceiver('audio');
        numAudioTracks--;
      }
      if (numVideoTracks > 0) {
        pc._createTransceiver('video');
        numVideoTracks--;
      }
    }

    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,
        pc._sdpSessionVersion++);
    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      // For each track, create an ice gatherer, ice transport,
      // dtls transport, potentially rtpsender and rtpreceiver.
      var track = transceiver.track;
      var kind = transceiver.kind;
      var mid = transceiver.mid || SDPUtils.generateIdentifier();
      transceiver.mid = mid;

      if (!transceiver.iceGatherer) {
        transceiver.iceGatherer = pc._createIceGatherer(sdpMLineIndex,
            pc.usingBundle);
      }

      var localCapabilities = window.RTCRtpSender.getCapabilities(kind);
      // filter RTX until additional stuff needed for RTX is implemented
      // in adapter.js
      if (edgeVersion < 15019) {
        localCapabilities.codecs = localCapabilities.codecs.filter(
            function(codec) {
              return codec.name !== 'rtx';
            });
      }
      localCapabilities.codecs.forEach(function(codec) {
        // work around https://bugs.chromium.org/p/webrtc/issues/detail?id=6552
        // by adding level-asymmetry-allowed=1
        if (codec.name === 'H264' &&
            codec.parameters['level-asymmetry-allowed'] === undefined) {
          codec.parameters['level-asymmetry-allowed'] = '1';
        }

        // for subsequent offers, we might have to re-use the payload
        // type of the last offer.
        if (transceiver.remoteCapabilities &&
            transceiver.remoteCapabilities.codecs) {
          transceiver.remoteCapabilities.codecs.forEach(function(remoteCodec) {
            if (codec.name.toLowerCase() === remoteCodec.name.toLowerCase() &&
                codec.clockRate === remoteCodec.clockRate) {
              codec.preferredPayloadType = remoteCodec.payloadType;
            }
          });
        }
      });
      localCapabilities.headerExtensions.forEach(function(hdrExt) {
        var remoteExtensions = transceiver.remoteCapabilities &&
            transceiver.remoteCapabilities.headerExtensions || [];
        remoteExtensions.forEach(function(rHdrExt) {
          if (hdrExt.uri === rHdrExt.uri) {
            hdrExt.id = rHdrExt.id;
          }
        });
      });

      // generate an ssrc now, to be used later in rtpSender.send
      var sendEncodingParameters = transceiver.sendEncodingParameters || [{
        ssrc: (2 * sdpMLineIndex + 1) * 1001
      }];
      if (track) {
        // add RTX
        if (edgeVersion >= 15019 && kind === 'video' &&
            !sendEncodingParameters[0].rtx) {
          sendEncodingParameters[0].rtx = {
            ssrc: sendEncodingParameters[0].ssrc + 1
          };
        }
      }

      if (transceiver.wantReceive) {
        transceiver.rtpReceiver = new window.RTCRtpReceiver(
            transceiver.dtlsTransport, kind);
      }

      transceiver.localCapabilities = localCapabilities;
      transceiver.sendEncodingParameters = sendEncodingParameters;
    });

    // always offer BUNDLE and dispose on return if not supported.
    if (pc._config.bundlePolicy !== 'max-compat') {
      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {
        return t.mid;
      }).join(' ') + '\r\n';
    }
    sdp += 'a=ice-options:trickle\r\n';

    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      sdp += writeMediaSection(transceiver, transceiver.localCapabilities,
          'offer', transceiver.stream, pc._dtlsRole);
      sdp += 'a=rtcp-rsize\r\n';

      if (transceiver.iceGatherer && pc.iceGatheringState !== 'new' &&
          (sdpMLineIndex === 0 || !pc.usingBundle)) {
        transceiver.iceGatherer.getLocalCandidates().forEach(function(cand) {
          cand.component = 1;
          sdp += 'a=' + SDPUtils.writeCandidate(cand) + '\r\n';
        });

        if (transceiver.iceGatherer.state === 'completed') {
          sdp += 'a=end-of-candidates\r\n';
        }
      }
    });

    var desc = new window.RTCSessionDescription({
      type: 'offer',
      sdp: sdp
    });
    return Promise.resolve(desc);
  };

  RTCPeerConnection.prototype.createAnswer = function() {
    var pc = this;

    if (pc._isClosed) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createAnswer after close'));
    }

    if (!(pc.signalingState === 'have-remote-offer' ||
        pc.signalingState === 'have-local-pranswer')) {
      return Promise.reject(makeError('InvalidStateError',
          'Can not call createAnswer in signalingState ' + pc.signalingState));
    }

    var sdp = SDPUtils.writeSessionBoilerplate(pc._sdpSessionId,
        pc._sdpSessionVersion++);
    if (pc.usingBundle) {
      sdp += 'a=group:BUNDLE ' + pc.transceivers.map(function(t) {
        return t.mid;
      }).join(' ') + '\r\n';
    }
    sdp += 'a=ice-options:trickle\r\n';

    var mediaSectionsInOffer = SDPUtils.getMediaSections(
        pc._remoteDescription.sdp).length;
    pc.transceivers.forEach(function(transceiver, sdpMLineIndex) {
      if (sdpMLineIndex + 1 > mediaSectionsInOffer) {
        return;
      }
      if (transceiver.rejected) {
        if (transceiver.kind === 'application') {
          if (transceiver.protocol === 'DTLS/SCTP') { // legacy fmt
            sdp += 'm=application 0 DTLS/SCTP 5000\r\n';
          } else {
            sdp += 'm=application 0 ' + transceiver.protocol +
                ' webrtc-datachannel\r\n';
          }
        } else if (transceiver.kind === 'audio') {
          sdp += 'm=audio 0 UDP/TLS/RTP/SAVPF 0\r\n' +
              'a=rtpmap:0 PCMU/8000\r\n';
        } else if (transceiver.kind === 'video') {
          sdp += 'm=video 0 UDP/TLS/RTP/SAVPF 120\r\n' +
              'a=rtpmap:120 VP8/90000\r\n';
        }
        sdp += 'c=IN IP4 0.0.0.0\r\n' +
            'a=inactive\r\n' +
            'a=mid:' + transceiver.mid + '\r\n';
        return;
      }

      // FIXME: look at direction.
      if (transceiver.stream) {
        var localTrack;
        if (transceiver.kind === 'audio') {
          localTrack = transceiver.stream.getAudioTracks()[0];
        } else if (transceiver.kind === 'video') {
          localTrack = transceiver.stream.getVideoTracks()[0];
        }
        if (localTrack) {
          // add RTX
          if (edgeVersion >= 15019 && transceiver.kind === 'video' &&
              !transceiver.sendEncodingParameters[0].rtx) {
            transceiver.sendEncodingParameters[0].rtx = {
              ssrc: transceiver.sendEncodingParameters[0].ssrc + 1
            };
          }
        }
      }

      // Calculate intersection of capabilities.
      var commonCapabilities = getCommonCapabilities(
          transceiver.localCapabilities,
          transceiver.remoteCapabilities);

      var hasRtx = commonCapabilities.codecs.filter(function(c) {
        return c.name.toLowerCase() === 'rtx';
      }).length;
      if (!hasRtx && transceiver.sendEncodingParameters[0].rtx) {
        delete transceiver.sendEncodingParameters[0].rtx;
      }

      sdp += writeMediaSection(transceiver, commonCapabilities,
          'answer', transceiver.stream, pc._dtlsRole);
      if (transceiver.rtcpParameters &&
          transceiver.rtcpParameters.reducedSize) {
        sdp += 'a=rtcp-rsize\r\n';
      }
    });

    var desc = new window.RTCSessionDescription({
      type: 'answer',
      sdp: sdp
    });
    return Promise.resolve(desc);
  };

  RTCPeerConnection.prototype.addIceCandidate = function(candidate) {
    var pc = this;
    var sections;
    if (candidate && !(candidate.sdpMLineIndex !== undefined ||
        candidate.sdpMid)) {
      return Promise.reject(new TypeError('sdpMLineIndex or sdpMid required'));
    }

    // TODO: needs to go into ops queue.
    return new Promise(function(resolve, reject) {
      if (!pc._remoteDescription) {
        return reject(makeError('InvalidStateError',
            'Can not add ICE candidate without a remote description'));
      } else if (!candidate || candidate.candidate === '') {
        for (var j = 0; j < pc.transceivers.length; j++) {
          if (pc.transceivers[j].rejected) {
            continue;
          }
          pc.transceivers[j].iceTransport.addRemoteCandidate({});
          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);
          sections[j] += 'a=end-of-candidates\r\n';
          pc._remoteDescription.sdp =
              SDPUtils.getDescription(pc._remoteDescription.sdp) +
              sections.join('');
          if (pc.usingBundle) {
            break;
          }
        }
      } else {
        var sdpMLineIndex = candidate.sdpMLineIndex;
        if (candidate.sdpMid) {
          for (var i = 0; i < pc.transceivers.length; i++) {
            if (pc.transceivers[i].mid === candidate.sdpMid) {
              sdpMLineIndex = i;
              break;
            }
          }
        }
        var transceiver = pc.transceivers[sdpMLineIndex];
        if (transceiver) {
          if (transceiver.rejected) {
            return resolve();
          }
          var cand = Object.keys(candidate.candidate).length > 0 ?
              SDPUtils.parseCandidate(candidate.candidate) : {};
          // Ignore Chrome's invalid candidates since Edge does not like them.
          if (cand.protocol === 'tcp' && (cand.port === 0 || cand.port === 9)) {
            return resolve();
          }
          // Ignore RTCP candidates, we assume RTCP-MUX.
          if (cand.component && cand.component !== 1) {
            return resolve();
          }
          // when using bundle, avoid adding candidates to the wrong
          // ice transport. And avoid adding candidates added in the SDP.
          if (sdpMLineIndex === 0 || (sdpMLineIndex > 0 &&
              transceiver.iceTransport !== pc.transceivers[0].iceTransport)) {
            if (!maybeAddCandidate(transceiver.iceTransport, cand)) {
              return reject(makeError('OperationError',
                  'Can not add ICE candidate'));
            }
          }

          // update the remoteDescription.
          var candidateString = candidate.candidate.trim();
          if (candidateString.indexOf('a=') === 0) {
            candidateString = candidateString.substr(2);
          }
          sections = SDPUtils.getMediaSections(pc._remoteDescription.sdp);
          sections[sdpMLineIndex] += 'a=' +
              (cand.type ? candidateString : 'end-of-candidates')
              + '\r\n';
          pc._remoteDescription.sdp =
              SDPUtils.getDescription(pc._remoteDescription.sdp) +
              sections.join('');
        } else {
          return reject(makeError('OperationError',
              'Can not add ICE candidate'));
        }
      }
      resolve();
    });
  };

  RTCPeerConnection.prototype.getStats = function(selector) {
    if (selector && selector instanceof window.MediaStreamTrack) {
      var senderOrReceiver = null;
      this.transceivers.forEach(function(transceiver) {
        if (transceiver.rtpSender &&
            transceiver.rtpSender.track === selector) {
          senderOrReceiver = transceiver.rtpSender;
        } else if (transceiver.rtpReceiver &&
            transceiver.rtpReceiver.track === selector) {
          senderOrReceiver = transceiver.rtpReceiver;
        }
      });
      if (!senderOrReceiver) {
        throw makeError('InvalidAccessError', 'Invalid selector.');
      }
      return senderOrReceiver.getStats();
    }

    var promises = [];
    this.transceivers.forEach(function(transceiver) {
      ['rtpSender', 'rtpReceiver', 'iceGatherer', 'iceTransport',
          'dtlsTransport'].forEach(function(method) {
            if (transceiver[method]) {
              promises.push(transceiver[method].getStats());
            }
          });
    });
    return Promise.all(promises).then(function(allStats) {
      var results = new Map();
      allStats.forEach(function(stats) {
        stats.forEach(function(stat) {
          results.set(stat.id, stat);
        });
      });
      return results;
    });
  };

  // fix low-level stat names and return Map instead of object.
  var ortcObjects = ['RTCRtpSender', 'RTCRtpReceiver', 'RTCIceGatherer',
    'RTCIceTransport', 'RTCDtlsTransport'];
  ortcObjects.forEach(function(ortcObjectName) {
    var obj = window[ortcObjectName];
    if (obj && obj.prototype && obj.prototype.getStats) {
      var nativeGetstats = obj.prototype.getStats;
      obj.prototype.getStats = function() {
        return nativeGetstats.apply(this)
        .then(function(nativeStats) {
          var mapStats = new Map();
          Object.keys(nativeStats).forEach(function(id) {
            nativeStats[id].type = fixStatsType(nativeStats[id]);
            mapStats.set(id, nativeStats[id]);
          });
          return mapStats;
        });
      };
    }
  });

  // legacy callback shims. Should be moved to adapter.js some days.
  var methods = ['createOffer', 'createAnswer'];
  methods.forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[0] === 'function' ||
          typeof args[1] === 'function') { // legacy
        return nativeMethod.apply(this, [arguments[2]])
        .then(function(description) {
          if (typeof args[0] === 'function') {
            args[0].apply(null, [description]);
          }
        }, function(error) {
          if (typeof args[1] === 'function') {
            args[1].apply(null, [error]);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  methods = ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'];
  methods.forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[1] === 'function' ||
          typeof args[2] === 'function') { // legacy
        return nativeMethod.apply(this, arguments)
        .then(function() {
          if (typeof args[1] === 'function') {
            args[1].apply(null);
          }
        }, function(error) {
          if (typeof args[2] === 'function') {
            args[2].apply(null, [error]);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  // getStats is special. It doesn't have a spec legacy method yet we support
  // getStats(something, cb) without error callbacks.
  ['getStats'].forEach(function(method) {
    var nativeMethod = RTCPeerConnection.prototype[method];
    RTCPeerConnection.prototype[method] = function() {
      var args = arguments;
      if (typeof args[1] === 'function') {
        return nativeMethod.apply(this, arguments)
        .then(function() {
          if (typeof args[1] === 'function') {
            args[1].apply(null);
          }
        });
      }
      return nativeMethod.apply(this, arguments);
    };
  });

  return RTCPeerConnection;
};


/***/ }),

/***/ 985:
/*!*********************************!*\
  !*** ./node_modules/sdp/sdp.js ***!
  \*********************************/
/***/ ((module) => {

"use strict";
/* eslint-env node */


// SDP helpers.
var SDPUtils = {};

// Generate an alphanumeric identifier for cname or mids.
// TODO: use UUIDs instead? https://gist.github.com/jed/982883
SDPUtils.generateIdentifier = function() {
  return Math.random().toString(36).substr(2, 10);
};

// The RTCP CNAME used by all peerconnections from the same JS.
SDPUtils.localCName = SDPUtils.generateIdentifier();

// Splits SDP into lines, dealing with both CRLF and LF.
SDPUtils.splitLines = function(blob) {
  return blob.trim().split('\n').map(function(line) {
    return line.trim();
  });
};
// Splits SDP into sessionpart and mediasections. Ensures CRLF.
SDPUtils.splitSections = function(blob) {
  var parts = blob.split('\nm=');
  return parts.map(function(part, index) {
    return (index > 0 ? 'm=' + part : part).trim() + '\r\n';
  });
};

// returns the session description.
SDPUtils.getDescription = function(blob) {
  var sections = SDPUtils.splitSections(blob);
  return sections && sections[0];
};

// returns the individual media sections.
SDPUtils.getMediaSections = function(blob) {
  var sections = SDPUtils.splitSections(blob);
  sections.shift();
  return sections;
};

// Returns lines that start with a certain prefix.
SDPUtils.matchPrefix = function(blob, prefix) {
  return SDPUtils.splitLines(blob).filter(function(line) {
    return line.indexOf(prefix) === 0;
  });
};

// Parses an ICE candidate line. Sample input:
// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8
// rport 55996"
SDPUtils.parseCandidate = function(line) {
  var parts;
  // Parse both variants.
  if (line.indexOf('a=candidate:') === 0) {
    parts = line.substring(12).split(' ');
  } else {
    parts = line.substring(10).split(' ');
  }

  var candidate = {
    foundation: parts[0],
    component: parseInt(parts[1], 10),
    protocol: parts[2].toLowerCase(),
    priority: parseInt(parts[3], 10),
    ip: parts[4],
    address: parts[4], // address is an alias for ip.
    port: parseInt(parts[5], 10),
    // skip parts[6] == 'typ'
    type: parts[7]
  };

  for (var i = 8; i < parts.length; i += 2) {
    switch (parts[i]) {
      case 'raddr':
        candidate.relatedAddress = parts[i + 1];
        break;
      case 'rport':
        candidate.relatedPort = parseInt(parts[i + 1], 10);
        break;
      case 'tcptype':
        candidate.tcpType = parts[i + 1];
        break;
      case 'ufrag':
        candidate.ufrag = parts[i + 1]; // for backward compability.
        candidate.usernameFragment = parts[i + 1];
        break;
      default: // extension handling, in particular ufrag
        candidate[parts[i]] = parts[i + 1];
        break;
    }
  }
  return candidate;
};

// Translates a candidate object into SDP candidate attribute.
SDPUtils.writeCandidate = function(candidate) {
  var sdp = [];
  sdp.push(candidate.foundation);
  sdp.push(candidate.component);
  sdp.push(candidate.protocol.toUpperCase());
  sdp.push(candidate.priority);
  sdp.push(candidate.address || candidate.ip);
  sdp.push(candidate.port);

  var type = candidate.type;
  sdp.push('typ');
  sdp.push(type);
  if (type !== 'host' && candidate.relatedAddress &&
      candidate.relatedPort) {
    sdp.push('raddr');
    sdp.push(candidate.relatedAddress);
    sdp.push('rport');
    sdp.push(candidate.relatedPort);
  }
  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {
    sdp.push('tcptype');
    sdp.push(candidate.tcpType);
  }
  if (candidate.usernameFragment || candidate.ufrag) {
    sdp.push('ufrag');
    sdp.push(candidate.usernameFragment || candidate.ufrag);
  }
  return 'candidate:' + sdp.join(' ');
};

// Parses an ice-options line, returns an array of option tags.
// a=ice-options:foo bar
SDPUtils.parseIceOptions = function(line) {
  return line.substr(14).split(' ');
};

// Parses an rtpmap line, returns RTCRtpCoddecParameters. Sample input:
// a=rtpmap:111 opus/48000/2
SDPUtils.parseRtpMap = function(line) {
  var parts = line.substr(9).split(' ');
  var parsed = {
    payloadType: parseInt(parts.shift(), 10) // was: id
  };

  parts = parts[0].split('/');

  parsed.name = parts[0];
  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate
  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;
  // legacy alias, got renamed back to channels in ORTC.
  parsed.numChannels = parsed.channels;
  return parsed;
};

// Generate an a=rtpmap line from RTCRtpCodecCapability or
// RTCRtpCodecParameters.
SDPUtils.writeRtpMap = function(codec) {
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  var channels = codec.channels || codec.numChannels || 1;
  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate +
      (channels !== 1 ? '/' + channels : '') + '\r\n';
};

// Parses an a=extmap line (headerextension from RFC 5285). Sample input:
// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset
// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset
SDPUtils.parseExtmap = function(line) {
  var parts = line.substr(9).split(' ');
  return {
    id: parseInt(parts[0], 10),
    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',
    uri: parts[1]
  };
};

// Generates a=extmap line from RTCRtpHeaderExtensionParameters or
// RTCRtpHeaderExtension.
SDPUtils.writeExtmap = function(headerExtension) {
  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) +
      (headerExtension.direction && headerExtension.direction !== 'sendrecv'
        ? '/' + headerExtension.direction
        : '') +
      ' ' + headerExtension.uri + '\r\n';
};

// Parses an ftmp line, returns dictionary. Sample input:
// a=fmtp:96 vbr=on;cng=on
// Also deals with vbr=on; cng=on
SDPUtils.parseFmtp = function(line) {
  var parsed = {};
  var kv;
  var parts = line.substr(line.indexOf(' ') + 1).split(';');
  for (var j = 0; j < parts.length; j++) {
    kv = parts[j].trim().split('=');
    parsed[kv[0].trim()] = kv[1];
  }
  return parsed;
};

// Generates an a=ftmp line from RTCRtpCodecCapability or RTCRtpCodecParameters.
SDPUtils.writeFmtp = function(codec) {
  var line = '';
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  if (codec.parameters && Object.keys(codec.parameters).length) {
    var params = [];
    Object.keys(codec.parameters).forEach(function(param) {
      if (codec.parameters[param]) {
        params.push(param + '=' + codec.parameters[param]);
      } else {
        params.push(param);
      }
    });
    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\r\n';
  }
  return line;
};

// Parses an rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:
// a=rtcp-fb:98 nack rpsi
SDPUtils.parseRtcpFb = function(line) {
  var parts = line.substr(line.indexOf(' ') + 1).split(' ');
  return {
    type: parts.shift(),
    parameter: parts.join(' ')
  };
};
// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.
SDPUtils.writeRtcpFb = function(codec) {
  var lines = '';
  var pt = codec.payloadType;
  if (codec.preferredPayloadType !== undefined) {
    pt = codec.preferredPayloadType;
  }
  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {
    // FIXME: special handling for trr-int?
    codec.rtcpFeedback.forEach(function(fb) {
      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type +
      (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') +
          '\r\n';
    });
  }
  return lines;
};

// Parses an RFC 5576 ssrc media attribute. Sample input:
// a=ssrc:3735928559 cname:something
SDPUtils.parseSsrcMedia = function(line) {
  var sp = line.indexOf(' ');
  var parts = {
    ssrc: parseInt(line.substr(7, sp - 7), 10)
  };
  var colon = line.indexOf(':', sp);
  if (colon > -1) {
    parts.attribute = line.substr(sp + 1, colon - sp - 1);
    parts.value = line.substr(colon + 1);
  } else {
    parts.attribute = line.substr(sp + 1);
  }
  return parts;
};

SDPUtils.parseSsrcGroup = function(line) {
  var parts = line.substr(13).split(' ');
  return {
    semantics: parts.shift(),
    ssrcs: parts.map(function(ssrc) {
      return parseInt(ssrc, 10);
    })
  };
};

// Extracts the MID (RFC 5888) from a media section.
// returns the MID or undefined if no mid line was found.
SDPUtils.getMid = function(mediaSection) {
  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];
  if (mid) {
    return mid.substr(6);
  }
};

SDPUtils.parseFingerprint = function(line) {
  var parts = line.substr(14).split(' ');
  return {
    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.
    value: parts[1]
  };
};

// Extracts DTLS parameters from SDP media section or sessionpart.
// FIXME: for consistency with other functions this should only
//   get the fingerprint line as input. See also getIceParameters.
SDPUtils.getDtlsParameters = function(mediaSection, sessionpart) {
  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=fingerprint:');
  // Note: a=setup line is ignored since we use the 'auto' role.
  // Note2: 'algorithm' is not case sensitive except in Edge.
  return {
    role: 'auto',
    fingerprints: lines.map(SDPUtils.parseFingerprint)
  };
};

// Serializes DTLS parameters to SDP.
SDPUtils.writeDtlsParameters = function(params, setupType) {
  var sdp = 'a=setup:' + setupType + '\r\n';
  params.fingerprints.forEach(function(fp) {
    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\r\n';
  });
  return sdp;
};

// Parses a=crypto lines into
//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members
SDPUtils.parseCryptoLine = function(line) {
  var parts = line.substr(9).split(' ');
  return {
    tag: parseInt(parts[0], 10),
    cryptoSuite: parts[1],
    keyParams: parts[2],
    sessionParams: parts.slice(3),
  };
};

SDPUtils.writeCryptoLine = function(parameters) {
  return 'a=crypto:' + parameters.tag + ' ' +
    parameters.cryptoSuite + ' ' +
    (typeof parameters.keyParams === 'object'
      ? SDPUtils.writeCryptoKeyParams(parameters.keyParams)
      : parameters.keyParams) +
    (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') +
    '\r\n';
};

// Parses the crypto key parameters into
//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*
SDPUtils.parseCryptoKeyParams = function(keyParams) {
  if (keyParams.indexOf('inline:') !== 0) {
    return null;
  }
  var parts = keyParams.substr(7).split('|');
  return {
    keyMethod: 'inline',
    keySalt: parts[0],
    lifeTime: parts[1],
    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,
    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined,
  };
};

SDPUtils.writeCryptoKeyParams = function(keyParams) {
  return keyParams.keyMethod + ':'
    + keyParams.keySalt +
    (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') +
    (keyParams.mkiValue && keyParams.mkiLength
      ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength
      : '');
};

// Extracts all SDES paramters.
SDPUtils.getCryptoParameters = function(mediaSection, sessionpart) {
  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=crypto:');
  return lines.map(SDPUtils.parseCryptoLine);
};

// Parses ICE information from SDP media section or sessionpart.
// FIXME: for consistency with other functions this should only
//   get the ice-ufrag and ice-pwd lines as input.
SDPUtils.getIceParameters = function(mediaSection, sessionpart) {
  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=ice-ufrag:')[0];
  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart,
    'a=ice-pwd:')[0];
  if (!(ufrag && pwd)) {
    return null;
  }
  return {
    usernameFragment: ufrag.substr(12),
    password: pwd.substr(10),
  };
};

// Serializes ICE parameters to SDP.
SDPUtils.writeIceParameters = function(params) {
  return 'a=ice-ufrag:' + params.usernameFragment + '\r\n' +
      'a=ice-pwd:' + params.password + '\r\n';
};

// Parses the SDP media section and returns RTCRtpParameters.
SDPUtils.parseRtpParameters = function(mediaSection) {
  var description = {
    codecs: [],
    headerExtensions: [],
    fecMechanisms: [],
    rtcp: []
  };
  var lines = SDPUtils.splitLines(mediaSection);
  var mline = lines[0].split(' ');
  for (var i = 3; i < mline.length; i++) { // find all codecs from mline[3..]
    var pt = mline[i];
    var rtpmapline = SDPUtils.matchPrefix(
      mediaSection, 'a=rtpmap:' + pt + ' ')[0];
    if (rtpmapline) {
      var codec = SDPUtils.parseRtpMap(rtpmapline);
      var fmtps = SDPUtils.matchPrefix(
        mediaSection, 'a=fmtp:' + pt + ' ');
      // Only the first a=fmtp:<pt> is considered.
      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};
      codec.rtcpFeedback = SDPUtils.matchPrefix(
        mediaSection, 'a=rtcp-fb:' + pt + ' ')
        .map(SDPUtils.parseRtcpFb);
      description.codecs.push(codec);
      // parse FEC mechanisms from rtpmap lines.
      switch (codec.name.toUpperCase()) {
        case 'RED':
        case 'ULPFEC':
          description.fecMechanisms.push(codec.name.toUpperCase());
          break;
        default: // only RED and ULPFEC are recognized as FEC mechanisms.
          break;
      }
    }
  }
  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function(line) {
    description.headerExtensions.push(SDPUtils.parseExtmap(line));
  });
  // FIXME: parse rtcp.
  return description;
};

// Generates parts of the SDP media section describing the capabilities /
// parameters.
SDPUtils.writeRtpDescription = function(kind, caps) {
  var sdp = '';

  // Build the mline.
  sdp += 'm=' + kind + ' ';
  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.
  sdp += ' UDP/TLS/RTP/SAVPF ';
  sdp += caps.codecs.map(function(codec) {
    if (codec.preferredPayloadType !== undefined) {
      return codec.preferredPayloadType;
    }
    return codec.payloadType;
  }).join(' ') + '\r\n';

  sdp += 'c=IN IP4 0.0.0.0\r\n';
  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\r\n';

  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.
  caps.codecs.forEach(function(codec) {
    sdp += SDPUtils.writeRtpMap(codec);
    sdp += SDPUtils.writeFmtp(codec);
    sdp += SDPUtils.writeRtcpFb(codec);
  });
  var maxptime = 0;
  caps.codecs.forEach(function(codec) {
    if (codec.maxptime > maxptime) {
      maxptime = codec.maxptime;
    }
  });
  if (maxptime > 0) {
    sdp += 'a=maxptime:' + maxptime + '\r\n';
  }
  sdp += 'a=rtcp-mux\r\n';

  if (caps.headerExtensions) {
    caps.headerExtensions.forEach(function(extension) {
      sdp += SDPUtils.writeExtmap(extension);
    });
  }
  // FIXME: write fecMechanisms.
  return sdp;
};

// Parses the SDP media section and returns an array of
// RTCRtpEncodingParameters.
SDPUtils.parseRtpEncodingParameters = function(mediaSection) {
  var encodingParameters = [];
  var description = SDPUtils.parseRtpParameters(mediaSection);
  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;
  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;

  // filter a=ssrc:... cname:, ignore PlanB-msid
  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(parts) {
      return parts.attribute === 'cname';
    });
  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;
  var secondarySsrc;

  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID')
    .map(function(line) {
      var parts = line.substr(17).split(' ');
      return parts.map(function(part) {
        return parseInt(part, 10);
      });
    });
  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {
    secondarySsrc = flows[0][1];
  }

  description.codecs.forEach(function(codec) {
    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {
      var encParam = {
        ssrc: primarySsrc,
        codecPayloadType: parseInt(codec.parameters.apt, 10)
      };
      if (primarySsrc && secondarySsrc) {
        encParam.rtx = {ssrc: secondarySsrc};
      }
      encodingParameters.push(encParam);
      if (hasRed) {
        encParam = JSON.parse(JSON.stringify(encParam));
        encParam.fec = {
          ssrc: primarySsrc,
          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'
        };
        encodingParameters.push(encParam);
      }
    }
  });
  if (encodingParameters.length === 0 && primarySsrc) {
    encodingParameters.push({
      ssrc: primarySsrc
    });
  }

  // we support both b=AS and b=TIAS but interpret AS as TIAS.
  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');
  if (bandwidth.length) {
    if (bandwidth[0].indexOf('b=TIAS:') === 0) {
      bandwidth = parseInt(bandwidth[0].substr(7), 10);
    } else if (bandwidth[0].indexOf('b=AS:') === 0) {
      // use formula from JSEP to convert b=AS to TIAS value.
      bandwidth = parseInt(bandwidth[0].substr(5), 10) * 1000 * 0.95
          - (50 * 40 * 8);
    } else {
      bandwidth = undefined;
    }
    encodingParameters.forEach(function(params) {
      params.maxBitrate = bandwidth;
    });
  }
  return encodingParameters;
};

// parses http://draft.ortc.org/#rtcrtcpparameters*
SDPUtils.parseRtcpParameters = function(mediaSection) {
  var rtcpParameters = {};

  // Gets the first SSRC. Note tha with RTX there might be multiple
  // SSRCs.
  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(obj) {
      return obj.attribute === 'cname';
    })[0];
  if (remoteSsrc) {
    rtcpParameters.cname = remoteSsrc.value;
    rtcpParameters.ssrc = remoteSsrc.ssrc;
  }

  // Edge uses the compound attribute instead of reducedSize
  // compound is !reducedSize
  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');
  rtcpParameters.reducedSize = rsize.length > 0;
  rtcpParameters.compound = rsize.length === 0;

  // parses the rtcp-mux attrbute.
  // Note that Edge does not support unmuxed RTCP.
  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');
  rtcpParameters.mux = mux.length > 0;

  return rtcpParameters;
};

// parses either a=msid: or a=ssrc:... msid lines and returns
// the id of the MediaStream and MediaStreamTrack.
SDPUtils.parseMsid = function(mediaSection) {
  var parts;
  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');
  if (spec.length === 1) {
    parts = spec[0].substr(7).split(' ');
    return {stream: parts[0], track: parts[1]};
  }
  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:')
    .map(function(line) {
      return SDPUtils.parseSsrcMedia(line);
    })
    .filter(function(msidParts) {
      return msidParts.attribute === 'msid';
    });
  if (planB.length > 0) {
    parts = planB[0].value.split(' ');
    return {stream: parts[0], track: parts[1]};
  }
};

// SCTP
// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back
// to draft-ietf-mmusic-sctp-sdp-05
SDPUtils.parseSctpDescription = function(mediaSection) {
  var mline = SDPUtils.parseMLine(mediaSection);
  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');
  var maxMessageSize;
  if (maxSizeLine.length > 0) {
    maxMessageSize = parseInt(maxSizeLine[0].substr(19), 10);
  }
  if (isNaN(maxMessageSize)) {
    maxMessageSize = 65536;
  }
  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');
  if (sctpPort.length > 0) {
    return {
      port: parseInt(sctpPort[0].substr(12), 10),
      protocol: mline.fmt,
      maxMessageSize: maxMessageSize
    };
  }
  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');
  if (sctpMapLines.length > 0) {
    var parts = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:')[0]
      .substr(10)
      .split(' ');
    return {
      port: parseInt(parts[0], 10),
      protocol: parts[1],
      maxMessageSize: maxMessageSize
    };
  }
};

// SCTP
// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers
// support by now receiving in this format, unless we originally parsed
// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line
// protocol of DTLS/SCTP -- without UDP/ or TCP/)
SDPUtils.writeSctpDescription = function(media, sctp) {
  var output = [];
  if (media.protocol !== 'DTLS/SCTP') {
    output = [
      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\r\n',
      'c=IN IP4 0.0.0.0\r\n',
      'a=sctp-port:' + sctp.port + '\r\n'
    ];
  } else {
    output = [
      'm=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\r\n',
      'c=IN IP4 0.0.0.0\r\n',
      'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\r\n'
    ];
  }
  if (sctp.maxMessageSize !== undefined) {
    output.push('a=max-message-size:' + sctp.maxMessageSize + '\r\n');
  }
  return output.join('');
};

// Generate a session ID for SDP.
// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1
// recommends using a cryptographically random +ve 64-bit value
// but right now this should be acceptable and within the right range
SDPUtils.generateSessionId = function() {
  return Math.random().toString().substr(2, 21);
};

// Write boilder plate for start of SDP
// sessId argument is optional - if not supplied it will
// be generated randomly
// sessVersion is optional and defaults to 2
// sessUser is optional and defaults to 'thisisadapterortc'
SDPUtils.writeSessionBoilerplate = function(sessId, sessVer, sessUser) {
  var sessionId;
  var version = sessVer !== undefined ? sessVer : 2;
  if (sessId) {
    sessionId = sessId;
  } else {
    sessionId = SDPUtils.generateSessionId();
  }
  var user = sessUser || 'thisisadapterortc';
  // FIXME: sess-id should be an NTP timestamp.
  return 'v=0\r\n' +
      'o=' + user + ' ' + sessionId + ' ' + version +
        ' IN IP4 127.0.0.1\r\n' +
      's=-\r\n' +
      't=0 0\r\n';
};

SDPUtils.writeMediaSection = function(transceiver, caps, type, stream) {
  var sdp = SDPUtils.writeRtpDescription(transceiver.kind, caps);

  // Map ICE parameters (ufrag, pwd) to SDP.
  sdp += SDPUtils.writeIceParameters(
    transceiver.iceGatherer.getLocalParameters());

  // Map DTLS parameters to SDP.
  sdp += SDPUtils.writeDtlsParameters(
    transceiver.dtlsTransport.getLocalParameters(),
    type === 'offer' ? 'actpass' : 'active');

  sdp += 'a=mid:' + transceiver.mid + '\r\n';

  if (transceiver.direction) {
    sdp += 'a=' + transceiver.direction + '\r\n';
  } else if (transceiver.rtpSender && transceiver.rtpReceiver) {
    sdp += 'a=sendrecv\r\n';
  } else if (transceiver.rtpSender) {
    sdp += 'a=sendonly\r\n';
  } else if (transceiver.rtpReceiver) {
    sdp += 'a=recvonly\r\n';
  } else {
    sdp += 'a=inactive\r\n';
  }

  if (transceiver.rtpSender) {
    // spec.
    var msid = 'msid:' + stream.id + ' ' +
        transceiver.rtpSender.track.id + '\r\n';
    sdp += 'a=' + msid;

    // for Chrome.
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
        ' ' + msid;
    if (transceiver.sendEncodingParameters[0].rtx) {
      sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
          ' ' + msid;
      sdp += 'a=ssrc-group:FID ' +
          transceiver.sendEncodingParameters[0].ssrc + ' ' +
          transceiver.sendEncodingParameters[0].rtx.ssrc +
          '\r\n';
    }
  }
  // FIXME: this should be written by writeRtpDescription.
  sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].ssrc +
      ' cname:' + SDPUtils.localCName + '\r\n';
  if (transceiver.rtpSender && transceiver.sendEncodingParameters[0].rtx) {
    sdp += 'a=ssrc:' + transceiver.sendEncodingParameters[0].rtx.ssrc +
        ' cname:' + SDPUtils.localCName + '\r\n';
  }
  return sdp;
};

// Gets the direction from the mediaSection or the sessionpart.
SDPUtils.getDirection = function(mediaSection, sessionpart) {
  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.
  var lines = SDPUtils.splitLines(mediaSection);
  for (var i = 0; i < lines.length; i++) {
    switch (lines[i]) {
      case 'a=sendrecv':
      case 'a=sendonly':
      case 'a=recvonly':
      case 'a=inactive':
        return lines[i].substr(2);
      default:
        // FIXME: What should happen here?
    }
  }
  if (sessionpart) {
    return SDPUtils.getDirection(sessionpart);
  }
  return 'sendrecv';
};

SDPUtils.getKind = function(mediaSection) {
  var lines = SDPUtils.splitLines(mediaSection);
  var mline = lines[0].split(' ');
  return mline[0].substr(2);
};

SDPUtils.isRejected = function(mediaSection) {
  return mediaSection.split(' ', 2)[1] === '0';
};

SDPUtils.parseMLine = function(mediaSection) {
  var lines = SDPUtils.splitLines(mediaSection);
  var parts = lines[0].substr(2).split(' ');
  return {
    kind: parts[0],
    port: parseInt(parts[1], 10),
    protocol: parts[2],
    fmt: parts.slice(3).join(' ')
  };
};

SDPUtils.parseOLine = function(mediaSection) {
  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];
  var parts = line.substr(2).split(' ');
  return {
    username: parts[0],
    sessionId: parts[1],
    sessionVersion: parseInt(parts[2], 10),
    netType: parts[3],
    addressType: parts[4],
    address: parts[5]
  };
};

// a very naive interpretation of a valid SDP.
SDPUtils.isValidSDP = function(blob) {
  if (typeof blob !== 'string' || blob.length === 0) {
    return false;
  }
  var lines = SDPUtils.splitLines(blob);
  for (var i = 0; i < lines.length; i++) {
    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {
      return false;
    }
    // TODO: check the modifier a bit more.
  }
  return true;
};

// Expose public methods.
if (true) {
  module.exports = SDPUtils;
}


/***/ }),

/***/ 754:
/*!*************************************!*\
  !*** external "@opentelemetry/api" ***!
  \*************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@opentelemetry/api");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!*******************************!*\
  !*** ./index.js + 16 modules ***!
  \*******************************/
// ESM COMPAT FLAG
__webpack_require__.r(__webpack_exports__);

// EXPORTS
__webpack_require__.d(__webpack_exports__, {
  "AddPlatformTelemetry": () => (/* reexport */ AddPlatformTelemetry),
  "CHANGELIST": () => (/* reexport */ CHANGELIST),
  "CLIENT_IDENTIFICATION": () => (/* reexport */ CLIENT_IDENTIFICATION),
  "CLIENT_VERSION": () => (/* reexport */ CLIENT_VERSION),
  "CalculateDataUsage": () => (/* reexport */ CalculateDataUsage),
  "CalculateMaxBitrateKbps": () => (/* reexport */ CalculateMaxBitrateKbps),
  "ChooseStreamingResolution": () => (/* reexport */ ChooseStreamingResolution),
  "ChooseStreamingSettings": () => (/* reexport */ ChooseStreamingSettings),
  "ConfigureGridServerSettings": () => (/* reexport */ ConfigureGridServerSettings),
  "ConfigureRagnarokSettings": () => (/* reexport */ ConfigureRagnarokSettings),
  "GS_ClientMetricEventDef": () => (/* reexport */ GS_ClientMetricEventDef),
  "GS_CodecError_EventDef": () => (/* reexport */ GS_CodecError_EventDef),
  "GS_ConnectivityCheckDef": () => (/* reexport */ GS_ConnectivityCheckDef),
  "GS_DebugInfoDef": () => (/* reexport */ GS_DebugInfoDef),
  "GS_ExceptionInfoDef": () => (/* reexport */ GS_ExceptionInfoDef),
  "GS_FeatureDef": () => (/* reexport */ GS_FeatureDef),
  "GS_HttpCallResultDef": () => (/* reexport */ GS_HttpCallResultDef),
  "GS_PropertyChange_EventDef": () => (/* reexport */ GS_PropertyChange_EventDef),
  "GS_Sleep_EventDef": () => (/* reexport */ GS_Sleep_EventDef),
  "GS_SystemAPICallResultDef": () => (/* reexport */ GS_SystemAPICallResultDef),
  "GetDeviceCapabilities": () => (/* reexport */ GetDeviceCapabilities),
  "GetSupportedAudioChannelCount": () => (/* reexport */ GetSupportedAudioChannelCount),
  "GridApp": () => (/* reexport */ GridApp),
  "GridServer": () => (/* reexport */ GridServer),
  "GridServerSettings": () => (/* reexport */ GridServerSettings),
  "GridServer_GameLaunch_RequestDef": () => (/* reexport */ GridServer_GameLaunch_RequestDef),
  "GsTelemetryHandler": () => (/* reexport */ GsTelemetryHandler),
  "InitializeUtils": () => (/* reexport */ InitializeUtils),
  "IsFeatureSupported": () => (/* reexport */ IsFeatureSupported),
  "LogImpl": () => (/* reexport */ LogImpl),
  "PassThruServer": () => (/* reexport */ PassThruServer),
  "RagnarokSettings": () => (/* reexport */ RagnarokSettings),
  "TelemetryEventBase": () => (/* reexport */ TelemetryEventBase),
  "VirtualGamepadHandler": () => (/* reexport */ VirtualGamepadHandler),
  "defaultInputConfigFlags": () => (/* reexport */ defaultInputConfigFlags),
  "getPlatformDetails": () => (/* reexport */ getPlatformDetails),
  "performHttpRequest": () => (/* reexport */ performHttpRequest),
  "translatePlatformDetailsForClientHeader": () => (/* reexport */ translatePlatformDetailsForClientHeader),
  "translatePlatformDetailsForPayload": () => (/* reexport */ translatePlatformDetailsForPayload)
});

// NAMESPACE OBJECT: ./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js
var chrome_shim_namespaceObject = {};
__webpack_require__.r(chrome_shim_namespaceObject);
__webpack_require__.d(chrome_shim_namespaceObject, {
  "fixNegotiationNeeded": () => (fixNegotiationNeeded),
  "shimAddTrackRemoveTrack": () => (shimAddTrackRemoveTrack),
  "shimAddTrackRemoveTrackWithNative": () => (shimAddTrackRemoveTrackWithNative),
  "shimGetDisplayMedia": () => (shimGetDisplayMedia),
  "shimGetSendersWithDtmf": () => (shimGetSendersWithDtmf),
  "shimGetStats": () => (shimGetStats),
  "shimGetUserMedia": () => (shimGetUserMedia),
  "shimMediaStream": () => (shimMediaStream),
  "shimOnTrack": () => (shimOnTrack),
  "shimPeerConnection": () => (shimPeerConnection),
  "shimSenderReceiverGetStats": () => (shimSenderReceiverGetStats)
});

// NAMESPACE OBJECT: ./node_modules/webrtc-adapter/src/js/edge/edge_shim.js
var edge_shim_namespaceObject = {};
__webpack_require__.r(edge_shim_namespaceObject);
__webpack_require__.d(edge_shim_namespaceObject, {
  "shimGetDisplayMedia": () => (getdisplaymedia_shimGetDisplayMedia),
  "shimGetUserMedia": () => (getusermedia_shimGetUserMedia),
  "shimPeerConnection": () => (edge_shim_shimPeerConnection),
  "shimReplaceTrack": () => (shimReplaceTrack)
});

// NAMESPACE OBJECT: ./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js
var firefox_shim_namespaceObject = {};
__webpack_require__.r(firefox_shim_namespaceObject);
__webpack_require__.d(firefox_shim_namespaceObject, {
  "shimAddTransceiver": () => (shimAddTransceiver),
  "shimCreateAnswer": () => (shimCreateAnswer),
  "shimCreateOffer": () => (shimCreateOffer),
  "shimGetDisplayMedia": () => (firefox_getdisplaymedia_shimGetDisplayMedia),
  "shimGetParameters": () => (shimGetParameters),
  "shimGetUserMedia": () => (firefox_getusermedia_shimGetUserMedia),
  "shimOnTrack": () => (firefox_shim_shimOnTrack),
  "shimPeerConnection": () => (firefox_shim_shimPeerConnection),
  "shimRTCDataChannel": () => (shimRTCDataChannel),
  "shimReceiverGetStats": () => (shimReceiverGetStats),
  "shimRemoveStream": () => (shimRemoveStream),
  "shimSenderGetStats": () => (shimSenderGetStats)
});

// NAMESPACE OBJECT: ./node_modules/webrtc-adapter/src/js/safari/safari_shim.js
var safari_shim_namespaceObject = {};
__webpack_require__.r(safari_shim_namespaceObject);
__webpack_require__.d(safari_shim_namespaceObject, {
  "shimAudioContext": () => (shimAudioContext),
  "shimCallbacksAPI": () => (shimCallbacksAPI),
  "shimConstraints": () => (shimConstraints),
  "shimCreateOfferLegacy": () => (shimCreateOfferLegacy),
  "shimGetUserMedia": () => (safari_shim_shimGetUserMedia),
  "shimLocalStreamsAPI": () => (shimLocalStreamsAPI),
  "shimRTCIceServerUrls": () => (shimRTCIceServerUrls),
  "shimRemoteStreamsAPI": () => (shimRemoteStreamsAPI),
  "shimTrackEventTransceiver": () => (shimTrackEventTransceiver)
});

// NAMESPACE OBJECT: ./node_modules/webrtc-adapter/src/js/common_shim.js
var common_shim_namespaceObject = {};
__webpack_require__.r(common_shim_namespaceObject);
__webpack_require__.d(common_shim_namespaceObject, {
  "removeAllowExtmapMixed": () => (removeAllowExtmapMixed),
  "shimConnectionState": () => (shimConnectionState),
  "shimMaxMessageSize": () => (shimMaxMessageSize),
  "shimRTCIceCandidate": () => (shimRTCIceCandidate),
  "shimSendThrowTypeError": () => (shimSendThrowTypeError)
});

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/utils.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */


let logDisabled_ = true;
let deprecationWarnings_ = true;

/**
 * Extract browser version out of the provided user agent string.
 *
 * @param {!string} uastring userAgent string.
 * @param {!string} expr Regular expression used as match criteria.
 * @param {!number} pos position in the version string to be returned.
 * @return {!number} browser version.
 */
function extractVersion(uastring, expr, pos) {
  const match = uastring.match(expr);
  return match && match.length >= pos && parseInt(match[pos], 10);
}

// Wraps the peerconnection event eventNameToWrap in a function
// which returns the modified event object (or false to prevent
// the event).
function wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {
  if (!window.RTCPeerConnection) {
    return;
  }
  const proto = window.RTCPeerConnection.prototype;
  const nativeAddEventListener = proto.addEventListener;
  proto.addEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap) {
      return nativeAddEventListener.apply(this, arguments);
    }
    const wrappedCallback = (e) => {
      const modifiedEvent = wrapper(e);
      if (modifiedEvent) {
        if (cb.handleEvent) {
          cb.handleEvent(modifiedEvent);
        } else {
          cb(modifiedEvent);
        }
      }
    };
    this._eventMap = this._eventMap || {};
    if (!this._eventMap[eventNameToWrap]) {
      this._eventMap[eventNameToWrap] = new Map();
    }
    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);
    return nativeAddEventListener.apply(this, [nativeEventName,
      wrappedCallback]);
  };

  const nativeRemoveEventListener = proto.removeEventListener;
  proto.removeEventListener = function(nativeEventName, cb) {
    if (nativeEventName !== eventNameToWrap || !this._eventMap
        || !this._eventMap[eventNameToWrap]) {
      return nativeRemoveEventListener.apply(this, arguments);
    }
    if (!this._eventMap[eventNameToWrap].has(cb)) {
      return nativeRemoveEventListener.apply(this, arguments);
    }
    const unwrappedCb = this._eventMap[eventNameToWrap].get(cb);
    this._eventMap[eventNameToWrap].delete(cb);
    if (this._eventMap[eventNameToWrap].size === 0) {
      delete this._eventMap[eventNameToWrap];
    }
    if (Object.keys(this._eventMap).length === 0) {
      delete this._eventMap;
    }
    return nativeRemoveEventListener.apply(this, [nativeEventName,
      unwrappedCb]);
  };

  Object.defineProperty(proto, 'on' + eventNameToWrap, {
    get() {
      return this['_on' + eventNameToWrap];
    },
    set(cb) {
      if (this['_on' + eventNameToWrap]) {
        this.removeEventListener(eventNameToWrap,
            this['_on' + eventNameToWrap]);
        delete this['_on' + eventNameToWrap];
      }
      if (cb) {
        this.addEventListener(eventNameToWrap,
            this['_on' + eventNameToWrap] = cb);
      }
    },
    enumerable: true,
    configurable: true
  });
}

function disableLog(bool) {
  if (typeof bool !== 'boolean') {
    return new Error('Argument type: ' + typeof bool +
        '. Please use a boolean.');
  }
  logDisabled_ = bool;
  return (bool) ? 'adapter.js logging disabled' :
      'adapter.js logging enabled';
}

/**
 * Disable or enable deprecation warnings
 * @param {!boolean} bool set to true to disable warnings.
 */
function disableWarnings(bool) {
  if (typeof bool !== 'boolean') {
    return new Error('Argument type: ' + typeof bool +
        '. Please use a boolean.');
  }
  deprecationWarnings_ = !bool;
  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');
}

function log() {
  if (typeof window === 'object') {
    if (logDisabled_) {
      return;
    }
    if (typeof console !== 'undefined' && typeof console.log === 'function') {
      console.log.apply(console, arguments);
    }
  }
}

/**
 * Shows a deprecation warning suggesting the modern and spec-compatible API.
 */
function deprecated(oldMethod, newMethod) {
  if (!deprecationWarnings_) {
    return;
  }
  console.warn(oldMethod + ' is deprecated, please use ' + newMethod +
      ' instead.');
}

/**
 * Browser detector.
 *
 * @return {object} result containing browser and version
 *     properties.
 */
function detectBrowser(window) {
  const {navigator} = window;

  // Returned result object.
  const result = {browser: null, version: null};

  // Fail early if it's not a browser
  if (typeof window === 'undefined' || !window.navigator) {
    result.browser = 'Not a browser.';
    return result;
  }

  if (navigator.mozGetUserMedia) { // Firefox.
    result.browser = 'firefox';
    result.version = extractVersion(navigator.userAgent,
        /Firefox\/(\d+)\./, 1);
  } else if (navigator.webkitGetUserMedia ||
      (window.isSecureContext === false && window.webkitRTCPeerConnection &&
       !window.RTCIceGatherer)) {
    // Chrome, Chromium, Webview, Opera.
    // Version matches Chrome/WebRTC version.
    // Chrome 74 removed webkitGetUserMedia on http as well so we need the
    // more complicated fallback to webkitRTCPeerConnection.
    result.browser = 'chrome';
    result.version = extractVersion(navigator.userAgent,
        /Chrom(e|ium)\/(\d+)\./, 2);
  } else if (navigator.mediaDevices &&
      navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)) { // Edge.
    result.browser = 'edge';
    result.version = extractVersion(navigator.userAgent,
        /Edge\/(\d+).(\d+)$/, 2);
  } else if (window.RTCPeerConnection &&
      navigator.userAgent.match(/AppleWebKit\/(\d+)\./)) { // Safari.
    result.browser = 'safari';
    result.version = extractVersion(navigator.userAgent,
        /AppleWebKit\/(\d+)\./, 1);
    result.supportsUnifiedPlan = window.RTCRtpTransceiver &&
        'currentDirection' in window.RTCRtpTransceiver.prototype;
  } else { // Default fallthrough: not supported.
    result.browser = 'Not a supported browser.';
    return result;
  }

  return result;
}

/**
 * Checks if something is an object.
 *
 * @param {*} val The something you want to check.
 * @return true if val is an object, false otherwise.
 */
function isObject(val) {
  return Object.prototype.toString.call(val) === '[object Object]';
}

/**
 * Remove all empty objects and undefined values
 * from a nested object -- an enhanced and vanilla version
 * of Lodash's `compact`.
 */
function compactObject(data) {
  if (!isObject(data)) {
    return data;
  }

  return Object.keys(data).reduce(function(accumulator, key) {
    const isObj = isObject(data[key]);
    const value = isObj ? compactObject(data[key]) : data[key];
    const isEmptyObject = isObj && !Object.keys(value).length;
    if (value === undefined || isEmptyObject) {
      return accumulator;
    }
    return Object.assign(accumulator, {[key]: value});
  }, {});
}

/* iterates the stats graph recursively. */
function walkStats(stats, base, resultSet) {
  if (!base || resultSet.has(base.id)) {
    return;
  }
  resultSet.set(base.id, base);
  Object.keys(base).forEach(name => {
    if (name.endsWith('Id')) {
      walkStats(stats, stats.get(base[name]), resultSet);
    } else if (name.endsWith('Ids')) {
      base[name].forEach(id => {
        walkStats(stats, stats.get(id), resultSet);
      });
    }
  });
}

/* filter getStats for a sender/receiver track. */
function filterStats(result, track, outbound) {
  const streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';
  const filteredResult = new Map();
  if (track === null) {
    return filteredResult;
  }
  const trackStats = [];
  result.forEach(value => {
    if (value.type === 'track' &&
        value.trackIdentifier === track.id) {
      trackStats.push(value);
    }
  });
  trackStats.forEach(trackStat => {
    result.forEach(stats => {
      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {
        walkStats(result, stats, filteredResult);
      }
    });
  });
  return filteredResult;
}


;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/chrome/getusermedia.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */


const logging = log;

function shimGetUserMedia(window) {
  const navigator = window && window.navigator;

  if (!navigator.mediaDevices) {
    return;
  }

  const browserDetails = detectBrowser(window);

  const constraintsToChrome_ = function(c) {
    if (typeof c !== 'object' || c.mandatory || c.optional) {
      return c;
    }
    const cc = {};
    Object.keys(c).forEach(key => {
      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {
        return;
      }
      const r = (typeof c[key] === 'object') ? c[key] : {ideal: c[key]};
      if (r.exact !== undefined && typeof r.exact === 'number') {
        r.min = r.max = r.exact;
      }
      const oldname_ = function(prefix, name) {
        if (prefix) {
          return prefix + name.charAt(0).toUpperCase() + name.slice(1);
        }
        return (name === 'deviceId') ? 'sourceId' : name;
      };
      if (r.ideal !== undefined) {
        cc.optional = cc.optional || [];
        let oc = {};
        if (typeof r.ideal === 'number') {
          oc[oldname_('min', key)] = r.ideal;
          cc.optional.push(oc);
          oc = {};
          oc[oldname_('max', key)] = r.ideal;
          cc.optional.push(oc);
        } else {
          oc[oldname_('', key)] = r.ideal;
          cc.optional.push(oc);
        }
      }
      if (r.exact !== undefined && typeof r.exact !== 'number') {
        cc.mandatory = cc.mandatory || {};
        cc.mandatory[oldname_('', key)] = r.exact;
      } else {
        ['min', 'max'].forEach(mix => {
          if (r[mix] !== undefined) {
            cc.mandatory = cc.mandatory || {};
            cc.mandatory[oldname_(mix, key)] = r[mix];
          }
        });
      }
    });
    if (c.advanced) {
      cc.optional = (cc.optional || []).concat(c.advanced);
    }
    return cc;
  };

  const shimConstraints_ = function(constraints, func) {
    if (browserDetails.version >= 61) {
      return func(constraints);
    }
    constraints = JSON.parse(JSON.stringify(constraints));
    if (constraints && typeof constraints.audio === 'object') {
      const remap = function(obj, a, b) {
        if (a in obj && !(b in obj)) {
          obj[b] = obj[a];
          delete obj[a];
        }
      };
      constraints = JSON.parse(JSON.stringify(constraints));
      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');
      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');
      constraints.audio = constraintsToChrome_(constraints.audio);
    }
    if (constraints && typeof constraints.video === 'object') {
      // Shim facingMode for mobile & surface pro.
      let face = constraints.video.facingMode;
      face = face && ((typeof face === 'object') ? face : {ideal: face});
      const getSupportedFacingModeLies = browserDetails.version < 66;

      if ((face && (face.exact === 'user' || face.exact === 'environment' ||
                    face.ideal === 'user' || face.ideal === 'environment')) &&
          !(navigator.mediaDevices.getSupportedConstraints &&
            navigator.mediaDevices.getSupportedConstraints().facingMode &&
            !getSupportedFacingModeLies)) {
        delete constraints.video.facingMode;
        let matches;
        if (face.exact === 'environment' || face.ideal === 'environment') {
          matches = ['back', 'rear'];
        } else if (face.exact === 'user' || face.ideal === 'user') {
          matches = ['front'];
        }
        if (matches) {
          // Look for matches in label, or use last cam for back (typical).
          return navigator.mediaDevices.enumerateDevices()
          .then(devices => {
            devices = devices.filter(d => d.kind === 'videoinput');
            let dev = devices.find(d => matches.some(match =>
              d.label.toLowerCase().includes(match)));
            if (!dev && devices.length && matches.includes('back')) {
              dev = devices[devices.length - 1]; // more likely the back cam
            }
            if (dev) {
              constraints.video.deviceId = face.exact ? {exact: dev.deviceId} :
                                                        {ideal: dev.deviceId};
            }
            constraints.video = constraintsToChrome_(constraints.video);
            logging('chrome: ' + JSON.stringify(constraints));
            return func(constraints);
          });
        }
      }
      constraints.video = constraintsToChrome_(constraints.video);
    }
    logging('chrome: ' + JSON.stringify(constraints));
    return func(constraints);
  };

  const shimError_ = function(e) {
    if (browserDetails.version >= 64) {
      return e;
    }
    return {
      name: {
        PermissionDeniedError: 'NotAllowedError',
        PermissionDismissedError: 'NotAllowedError',
        InvalidStateError: 'NotAllowedError',
        DevicesNotFoundError: 'NotFoundError',
        ConstraintNotSatisfiedError: 'OverconstrainedError',
        TrackStartError: 'NotReadableError',
        MediaDeviceFailedDueToShutdown: 'NotAllowedError',
        MediaDeviceKillSwitchOn: 'NotAllowedError',
        TabCaptureError: 'AbortError',
        ScreenCaptureError: 'AbortError',
        DeviceCaptureError: 'AbortError'
      }[e.name] || e.name,
      message: e.message,
      constraint: e.constraint || e.constraintName,
      toString() {
        return this.name + (this.message && ': ') + this.message;
      }
    };
  };

  const getUserMedia_ = function(constraints, onSuccess, onError) {
    shimConstraints_(constraints, c => {
      navigator.webkitGetUserMedia(c, onSuccess, e => {
        if (onError) {
          onError(shimError_(e));
        }
      });
    });
  };
  navigator.getUserMedia = getUserMedia_.bind(navigator);

  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia
  // function which returns a Promise, it does not accept spec-style
  // constraints.
  if (navigator.mediaDevices.getUserMedia) {
    const origGetUserMedia = navigator.mediaDevices.getUserMedia.
        bind(navigator.mediaDevices);
    navigator.mediaDevices.getUserMedia = function(cs) {
      return shimConstraints_(cs, c => origGetUserMedia(c).then(stream => {
        if (c.audio && !stream.getAudioTracks().length ||
            c.video && !stream.getVideoTracks().length) {
          stream.getTracks().forEach(track => {
            track.stop();
          });
          throw new DOMException('', 'NotFoundError');
        }
        return stream;
      }, e => Promise.reject(shimError_(e))));
    };
  }
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/chrome/getdisplaymedia.js
/*
 *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */

function shimGetDisplayMedia(window, getSourceId) {
  if (window.navigator.mediaDevices &&
    'getDisplayMedia' in window.navigator.mediaDevices) {
    return;
  }
  if (!(window.navigator.mediaDevices)) {
    return;
  }
  // getSourceId is a function that returns a promise resolving with
  // the sourceId of the screen/window/tab to be shared.
  if (typeof getSourceId !== 'function') {
    console.error('shimGetDisplayMedia: getSourceId argument is not ' +
        'a function');
    return;
  }
  window.navigator.mediaDevices.getDisplayMedia =
    function getDisplayMedia(constraints) {
      return getSourceId(constraints)
        .then(sourceId => {
          const widthSpecified = constraints.video && constraints.video.width;
          const heightSpecified = constraints.video &&
            constraints.video.height;
          const frameRateSpecified = constraints.video &&
            constraints.video.frameRate;
          constraints.video = {
            mandatory: {
              chromeMediaSource: 'desktop',
              chromeMediaSourceId: sourceId,
              maxFrameRate: frameRateSpecified || 3
            }
          };
          if (widthSpecified) {
            constraints.video.mandatory.maxWidth = widthSpecified;
          }
          if (heightSpecified) {
            constraints.video.mandatory.maxHeight = heightSpecified;
          }
          return window.navigator.mediaDevices.getUserMedia(constraints);
        });
    };
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/chrome/chrome_shim.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */






function shimMediaStream(window) {
  window.MediaStream = window.MediaStream || window.webkitMediaStream;
}

function shimOnTrack(window) {
  if (typeof window === 'object' && window.RTCPeerConnection && !('ontrack' in
      window.RTCPeerConnection.prototype)) {
    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {
      get() {
        return this._ontrack;
      },
      set(f) {
        if (this._ontrack) {
          this.removeEventListener('track', this._ontrack);
        }
        this.addEventListener('track', this._ontrack = f);
      },
      enumerable: true,
      configurable: true
    });
    const origSetRemoteDescription =
        window.RTCPeerConnection.prototype.setRemoteDescription;
    window.RTCPeerConnection.prototype.setRemoteDescription =
      function setRemoteDescription() {
        if (!this._ontrackpoly) {
          this._ontrackpoly = (e) => {
            // onaddstream does not fire when a track is added to an existing
            // stream. But stream.onaddtrack is implemented so we use that.
            e.stream.addEventListener('addtrack', te => {
              let receiver;
              if (window.RTCPeerConnection.prototype.getReceivers) {
                receiver = this.getReceivers()
                  .find(r => r.track && r.track.id === te.track.id);
              } else {
                receiver = {track: te.track};
              }

              const event = new Event('track');
              event.track = te.track;
              event.receiver = receiver;
              event.transceiver = {receiver};
              event.streams = [e.stream];
              this.dispatchEvent(event);
            });
            e.stream.getTracks().forEach(track => {
              let receiver;
              if (window.RTCPeerConnection.prototype.getReceivers) {
                receiver = this.getReceivers()
                  .find(r => r.track && r.track.id === track.id);
              } else {
                receiver = {track};
              }
              const event = new Event('track');
              event.track = track;
              event.receiver = receiver;
              event.transceiver = {receiver};
              event.streams = [e.stream];
              this.dispatchEvent(event);
            });
          };
          this.addEventListener('addstream', this._ontrackpoly);
        }
        return origSetRemoteDescription.apply(this, arguments);
      };
  } else {
    // even if RTCRtpTransceiver is in window, it is only used and
    // emitted in unified-plan. Unfortunately this means we need
    // to unconditionally wrap the event.
    wrapPeerConnectionEvent(window, 'track', e => {
      if (!e.transceiver) {
        Object.defineProperty(e, 'transceiver',
          {value: {receiver: e.receiver}});
      }
      return e;
    });
  }
}

function shimGetSendersWithDtmf(window) {
  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.
  if (typeof window === 'object' && window.RTCPeerConnection &&
      !('getSenders' in window.RTCPeerConnection.prototype) &&
      'createDTMFSender' in window.RTCPeerConnection.prototype) {
    const shimSenderWithDtmf = function(pc, track) {
      return {
        track,
        get dtmf() {
          if (this._dtmf === undefined) {
            if (track.kind === 'audio') {
              this._dtmf = pc.createDTMFSender(track);
            } else {
              this._dtmf = null;
            }
          }
          return this._dtmf;
        },
        _pc: pc
      };
    };

    // augment addTrack when getSenders is not available.
    if (!window.RTCPeerConnection.prototype.getSenders) {
      window.RTCPeerConnection.prototype.getSenders = function getSenders() {
        this._senders = this._senders || [];
        return this._senders.slice(); // return a copy of the internal state.
      };
      const origAddTrack = window.RTCPeerConnection.prototype.addTrack;
      window.RTCPeerConnection.prototype.addTrack =
        function addTrack(track, stream) {
          let sender = origAddTrack.apply(this, arguments);
          if (!sender) {
            sender = shimSenderWithDtmf(this, track);
            this._senders.push(sender);
          }
          return sender;
        };

      const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;
      window.RTCPeerConnection.prototype.removeTrack =
        function removeTrack(sender) {
          origRemoveTrack.apply(this, arguments);
          const idx = this._senders.indexOf(sender);
          if (idx !== -1) {
            this._senders.splice(idx, 1);
          }
        };
    }
    const origAddStream = window.RTCPeerConnection.prototype.addStream;
    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {
      this._senders = this._senders || [];
      origAddStream.apply(this, [stream]);
      stream.getTracks().forEach(track => {
        this._senders.push(shimSenderWithDtmf(this, track));
      });
    };

    const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
    window.RTCPeerConnection.prototype.removeStream =
      function removeStream(stream) {
        this._senders = this._senders || [];
        origRemoveStream.apply(this, [stream]);

        stream.getTracks().forEach(track => {
          const sender = this._senders.find(s => s.track === track);
          if (sender) { // remove sender
            this._senders.splice(this._senders.indexOf(sender), 1);
          }
        });
      };
  } else if (typeof window === 'object' && window.RTCPeerConnection &&
             'getSenders' in window.RTCPeerConnection.prototype &&
             'createDTMFSender' in window.RTCPeerConnection.prototype &&
             window.RTCRtpSender &&
             !('dtmf' in window.RTCRtpSender.prototype)) {
    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;
    window.RTCPeerConnection.prototype.getSenders = function getSenders() {
      const senders = origGetSenders.apply(this, []);
      senders.forEach(sender => sender._pc = this);
      return senders;
    };

    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {
      get() {
        if (this._dtmf === undefined) {
          if (this.track.kind === 'audio') {
            this._dtmf = this._pc.createDTMFSender(this.track);
          } else {
            this._dtmf = null;
          }
        }
        return this._dtmf;
      }
    });
  }
}

function shimGetStats(window) {
  if (!window.RTCPeerConnection) {
    return;
  }

  const origGetStats = window.RTCPeerConnection.prototype.getStats;
  window.RTCPeerConnection.prototype.getStats = function getStats() {
    const [selector, onSucc, onErr] = arguments;

    // If selector is a function then we are in the old style stats so just
    // pass back the original getStats format to avoid breaking old users.
    if (arguments.length > 0 && typeof selector === 'function') {
      return origGetStats.apply(this, arguments);
    }

    // When spec-style getStats is supported, return those when called with
    // either no arguments or the selector argument is null.
    if (origGetStats.length === 0 && (arguments.length === 0 ||
        typeof selector !== 'function')) {
      return origGetStats.apply(this, []);
    }

    const fixChromeStats_ = function(response) {
      const standardReport = {};
      const reports = response.result();
      reports.forEach(report => {
        const standardStats = {
          id: report.id,
          timestamp: report.timestamp,
          type: {
            localcandidate: 'local-candidate',
            remotecandidate: 'remote-candidate'
          }[report.type] || report.type
        };
        report.names().forEach(name => {
          standardStats[name] = report.stat(name);
        });
        standardReport[standardStats.id] = standardStats;
      });

      return standardReport;
    };

    // shim getStats with maplike support
    const makeMapStats = function(stats) {
      return new Map(Object.keys(stats).map(key => [key, stats[key]]));
    };

    if (arguments.length >= 2) {
      const successCallbackWrapper_ = function(response) {
        onSucc(makeMapStats(fixChromeStats_(response)));
      };

      return origGetStats.apply(this, [successCallbackWrapper_,
        selector]);
    }

    // promise-support
    return new Promise((resolve, reject) => {
      origGetStats.apply(this, [
        function(response) {
          resolve(makeMapStats(fixChromeStats_(response)));
        }, reject]);
    }).then(onSucc, onErr);
  };
}

function shimSenderReceiverGetStats(window) {
  if (!(typeof window === 'object' && window.RTCPeerConnection &&
      window.RTCRtpSender && window.RTCRtpReceiver)) {
    return;
  }

  // shim sender stats.
  if (!('getStats' in window.RTCRtpSender.prototype)) {
    const origGetSenders = window.RTCPeerConnection.prototype.getSenders;
    if (origGetSenders) {
      window.RTCPeerConnection.prototype.getSenders = function getSenders() {
        const senders = origGetSenders.apply(this, []);
        senders.forEach(sender => sender._pc = this);
        return senders;
      };
    }

    const origAddTrack = window.RTCPeerConnection.prototype.addTrack;
    if (origAddTrack) {
      window.RTCPeerConnection.prototype.addTrack = function addTrack() {
        const sender = origAddTrack.apply(this, arguments);
        sender._pc = this;
        return sender;
      };
    }
    window.RTCRtpSender.prototype.getStats = function getStats() {
      const sender = this;
      return this._pc.getStats().then(result =>
        /* Note: this will include stats of all senders that
         *   send a track with the same id as sender.track as
         *   it is not possible to identify the RTCRtpSender.
         */
        filterStats(result, sender.track, true));
    };
  }

  // shim receiver stats.
  if (!('getStats' in window.RTCRtpReceiver.prototype)) {
    const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;
    if (origGetReceivers) {
      window.RTCPeerConnection.prototype.getReceivers =
        function getReceivers() {
          const receivers = origGetReceivers.apply(this, []);
          receivers.forEach(receiver => receiver._pc = this);
          return receivers;
        };
    }
    wrapPeerConnectionEvent(window, 'track', e => {
      e.receiver._pc = e.srcElement;
      return e;
    });
    window.RTCRtpReceiver.prototype.getStats = function getStats() {
      const receiver = this;
      return this._pc.getStats().then(result =>
        filterStats(result, receiver.track, false));
    };
  }

  if (!('getStats' in window.RTCRtpSender.prototype &&
      'getStats' in window.RTCRtpReceiver.prototype)) {
    return;
  }

  // shim RTCPeerConnection.getStats(track).
  const origGetStats = window.RTCPeerConnection.prototype.getStats;
  window.RTCPeerConnection.prototype.getStats = function getStats() {
    if (arguments.length > 0 &&
        arguments[0] instanceof window.MediaStreamTrack) {
      const track = arguments[0];
      let sender;
      let receiver;
      let err;
      this.getSenders().forEach(s => {
        if (s.track === track) {
          if (sender) {
            err = true;
          } else {
            sender = s;
          }
        }
      });
      this.getReceivers().forEach(r => {
        if (r.track === track) {
          if (receiver) {
            err = true;
          } else {
            receiver = r;
          }
        }
        return r.track === track;
      });
      if (err || (sender && receiver)) {
        return Promise.reject(new DOMException(
          'There are more than one sender or receiver for the track.',
          'InvalidAccessError'));
      } else if (sender) {
        return sender.getStats();
      } else if (receiver) {
        return receiver.getStats();
      }
      return Promise.reject(new DOMException(
        'There is no sender or receiver for the track.',
        'InvalidAccessError'));
    }
    return origGetStats.apply(this, arguments);
  };
}

function shimAddTrackRemoveTrackWithNative(window) {
  // shim addTrack/removeTrack with native variants in order to make
  // the interactions with legacy getLocalStreams behave as in other browsers.
  // Keeps a mapping stream.id => [stream, rtpsenders...]
  window.RTCPeerConnection.prototype.getLocalStreams =
    function getLocalStreams() {
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      return Object.keys(this._shimmedLocalStreams)
        .map(streamId => this._shimmedLocalStreams[streamId][0]);
    };

  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;
  window.RTCPeerConnection.prototype.addTrack =
    function addTrack(track, stream) {
      if (!stream) {
        return origAddTrack.apply(this, arguments);
      }
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};

      const sender = origAddTrack.apply(this, arguments);
      if (!this._shimmedLocalStreams[stream.id]) {
        this._shimmedLocalStreams[stream.id] = [stream, sender];
      } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {
        this._shimmedLocalStreams[stream.id].push(sender);
      }
      return sender;
    };

  const origAddStream = window.RTCPeerConnection.prototype.addStream;
  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {
    this._shimmedLocalStreams = this._shimmedLocalStreams || {};

    stream.getTracks().forEach(track => {
      const alreadyExists = this.getSenders().find(s => s.track === track);
      if (alreadyExists) {
        throw new DOMException('Track already exists.',
            'InvalidAccessError');
      }
    });
    const existingSenders = this.getSenders();
    origAddStream.apply(this, arguments);
    const newSenders = this.getSenders()
      .filter(newSender => existingSenders.indexOf(newSender) === -1);
    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);
  };

  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
  window.RTCPeerConnection.prototype.removeStream =
    function removeStream(stream) {
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      delete this._shimmedLocalStreams[stream.id];
      return origRemoveStream.apply(this, arguments);
    };

  const origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;
  window.RTCPeerConnection.prototype.removeTrack =
    function removeTrack(sender) {
      this._shimmedLocalStreams = this._shimmedLocalStreams || {};
      if (sender) {
        Object.keys(this._shimmedLocalStreams).forEach(streamId => {
          const idx = this._shimmedLocalStreams[streamId].indexOf(sender);
          if (idx !== -1) {
            this._shimmedLocalStreams[streamId].splice(idx, 1);
          }
          if (this._shimmedLocalStreams[streamId].length === 1) {
            delete this._shimmedLocalStreams[streamId];
          }
        });
      }
      return origRemoveTrack.apply(this, arguments);
    };
}

function shimAddTrackRemoveTrack(window) {
  if (!window.RTCPeerConnection) {
    return;
  }
  const browserDetails = detectBrowser(window);
  // shim addTrack and removeTrack.
  if (window.RTCPeerConnection.prototype.addTrack &&
      browserDetails.version >= 65) {
    return shimAddTrackRemoveTrackWithNative(window);
  }

  // also shim pc.getLocalStreams when addTrack is shimmed
  // to return the original streams.
  const origGetLocalStreams = window.RTCPeerConnection.prototype
      .getLocalStreams;
  window.RTCPeerConnection.prototype.getLocalStreams =
    function getLocalStreams() {
      const nativeStreams = origGetLocalStreams.apply(this);
      this._reverseStreams = this._reverseStreams || {};
      return nativeStreams.map(stream => this._reverseStreams[stream.id]);
    };

  const origAddStream = window.RTCPeerConnection.prototype.addStream;
  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {
    this._streams = this._streams || {};
    this._reverseStreams = this._reverseStreams || {};

    stream.getTracks().forEach(track => {
      const alreadyExists = this.getSenders().find(s => s.track === track);
      if (alreadyExists) {
        throw new DOMException('Track already exists.',
            'InvalidAccessError');
      }
    });
    // Add identity mapping for consistency with addTrack.
    // Unless this is being used with a stream from addTrack.
    if (!this._reverseStreams[stream.id]) {
      const newStream = new window.MediaStream(stream.getTracks());
      this._streams[stream.id] = newStream;
      this._reverseStreams[newStream.id] = stream;
      stream = newStream;
    }
    origAddStream.apply(this, [stream]);
  };

  const origRemoveStream = window.RTCPeerConnection.prototype.removeStream;
  window.RTCPeerConnection.prototype.removeStream =
    function removeStream(stream) {
      this._streams = this._streams || {};
      this._reverseStreams = this._reverseStreams || {};

      origRemoveStream.apply(this, [(this._streams[stream.id] || stream)]);
      delete this._reverseStreams[(this._streams[stream.id] ?
          this._streams[stream.id].id : stream.id)];
      delete this._streams[stream.id];
    };

  window.RTCPeerConnection.prototype.addTrack =
    function addTrack(track, stream) {
      if (this.signalingState === 'closed') {
        throw new DOMException(
          'The RTCPeerConnection\'s signalingState is \'closed\'.',
          'InvalidStateError');
      }
      const streams = [].slice.call(arguments, 1);
      if (streams.length !== 1 ||
          !streams[0].getTracks().find(t => t === track)) {
        // this is not fully correct but all we can manage without
        // [[associated MediaStreams]] internal slot.
        throw new DOMException(
          'The adapter.js addTrack polyfill only supports a single ' +
          ' stream which is associated with the specified track.',
          'NotSupportedError');
      }

      const alreadyExists = this.getSenders().find(s => s.track === track);
      if (alreadyExists) {
        throw new DOMException('Track already exists.',
            'InvalidAccessError');
      }

      this._streams = this._streams || {};
      this._reverseStreams = this._reverseStreams || {};
      const oldStream = this._streams[stream.id];
      if (oldStream) {
        // this is using odd Chrome behaviour, use with caution:
        // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815
        // Note: we rely on the high-level addTrack/dtmf shim to
        // create the sender with a dtmf sender.
        oldStream.addTrack(track);

        // Trigger ONN async.
        Promise.resolve().then(() => {
          this.dispatchEvent(new Event('negotiationneeded'));
        });
      } else {
        const newStream = new window.MediaStream([track]);
        this._streams[stream.id] = newStream;
        this._reverseStreams[newStream.id] = stream;
        this.addStream(newStream);
      }
      return this.getSenders().find(s => s.track === track);
    };

  // replace the internal stream id with the external one and
  // vice versa.
  function replaceInternalStreamId(pc, description) {
    let sdp = description.sdp;
    Object.keys(pc._reverseStreams || []).forEach(internalId => {
      const externalStream = pc._reverseStreams[internalId];
      const internalStream = pc._streams[externalStream.id];
      sdp = sdp.replace(new RegExp(internalStream.id, 'g'),
          externalStream.id);
    });
    return new RTCSessionDescription({
      type: description.type,
      sdp
    });
  }
  function replaceExternalStreamId(pc, description) {
    let sdp = description.sdp;
    Object.keys(pc._reverseStreams || []).forEach(internalId => {
      const externalStream = pc._reverseStreams[internalId];
      const internalStream = pc._streams[externalStream.id];
      sdp = sdp.replace(new RegExp(externalStream.id, 'g'),
          internalStream.id);
    });
    return new RTCSessionDescription({
      type: description.type,
      sdp
    });
  }
  ['createOffer', 'createAnswer'].forEach(function(method) {
    const nativeMethod = window.RTCPeerConnection.prototype[method];
    const methodObj = {[method]() {
      const args = arguments;
      const isLegacyCall = arguments.length &&
          typeof arguments[0] === 'function';
      if (isLegacyCall) {
        return nativeMethod.apply(this, [
          (description) => {
            const desc = replaceInternalStreamId(this, description);
            args[0].apply(null, [desc]);
          },
          (err) => {
            if (args[1]) {
              args[1].apply(null, err);
            }
          }, arguments[2]
        ]);
      }
      return nativeMethod.apply(this, arguments)
      .then(description => replaceInternalStreamId(this, description));
    }};
    window.RTCPeerConnection.prototype[method] = methodObj[method];
  });

  const origSetLocalDescription =
      window.RTCPeerConnection.prototype.setLocalDescription;
  window.RTCPeerConnection.prototype.setLocalDescription =
    function setLocalDescription() {
      if (!arguments.length || !arguments[0].type) {
        return origSetLocalDescription.apply(this, arguments);
      }
      arguments[0] = replaceExternalStreamId(this, arguments[0]);
      return origSetLocalDescription.apply(this, arguments);
    };

  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier

  const origLocalDescription = Object.getOwnPropertyDescriptor(
      window.RTCPeerConnection.prototype, 'localDescription');
  Object.defineProperty(window.RTCPeerConnection.prototype,
      'localDescription', {
        get() {
          const description = origLocalDescription.get.apply(this);
          if (description.type === '') {
            return description;
          }
          return replaceInternalStreamId(this, description);
        }
      });

  window.RTCPeerConnection.prototype.removeTrack =
    function removeTrack(sender) {
      if (this.signalingState === 'closed') {
        throw new DOMException(
          'The RTCPeerConnection\'s signalingState is \'closed\'.',
          'InvalidStateError');
      }
      // We can not yet check for sender instanceof RTCRtpSender
      // since we shim RTPSender. So we check if sender._pc is set.
      if (!sender._pc) {
        throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' +
            'does not implement interface RTCRtpSender.', 'TypeError');
      }
      const isLocal = sender._pc === this;
      if (!isLocal) {
        throw new DOMException('Sender was not created by this connection.',
            'InvalidAccessError');
      }

      // Search for the native stream the senders track belongs to.
      this._streams = this._streams || {};
      let stream;
      Object.keys(this._streams).forEach(streamid => {
        const hasTrack = this._streams[streamid].getTracks()
          .find(track => sender.track === track);
        if (hasTrack) {
          stream = this._streams[streamid];
        }
      });

      if (stream) {
        if (stream.getTracks().length === 1) {
          // if this is the last track of the stream, remove the stream. This
          // takes care of any shimmed _senders.
          this.removeStream(this._reverseStreams[stream.id]);
        } else {
          // relying on the same odd chrome behaviour as above.
          stream.removeTrack(sender.track);
        }
        this.dispatchEvent(new Event('negotiationneeded'));
      }
    };
}

function shimPeerConnection(window) {
  const browserDetails = detectBrowser(window);

  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {
    // very basic support for old versions.
    window.RTCPeerConnection = window.webkitRTCPeerConnection;
  }
  if (!window.RTCPeerConnection) {
    return;
  }

  const addIceCandidateNullSupported =
    window.RTCPeerConnection.prototype.addIceCandidate.length === 0;

  // shim implicit creation of RTCSessionDescription/RTCIceCandidate
  if (browserDetails.version < 53) {
    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']
        .forEach(function(method) {
          const nativeMethod = window.RTCPeerConnection.prototype[method];
          const methodObj = {[method]() {
            arguments[0] = new ((method === 'addIceCandidate') ?
                window.RTCIceCandidate :
                window.RTCSessionDescription)(arguments[0]);
            return nativeMethod.apply(this, arguments);
          }};
          window.RTCPeerConnection.prototype[method] = methodObj[method];
        });
  }

  // support for addIceCandidate(null or undefined)
  const nativeAddIceCandidate =
      window.RTCPeerConnection.prototype.addIceCandidate;
  window.RTCPeerConnection.prototype.addIceCandidate =
    function addIceCandidate() {
      if (!addIceCandidateNullSupported && !arguments[0]) {
        if (arguments[1]) {
          arguments[1].apply(null);
        }
        return Promise.resolve();
      }
      // Firefox 68+ emits and processes {candidate: "", ...}, ignore
      // in older versions. Native support planned for Chrome M77.
      if (browserDetails.version < 78 &&
        arguments[0] && arguments[0].candidate === '') {
        return Promise.resolve();
      }
      return nativeAddIceCandidate.apply(this, arguments);
    };
}

// Attempt to fix ONN in plan-b mode.
function fixNegotiationNeeded(window) {
  const browserDetails = detectBrowser(window);
  wrapPeerConnectionEvent(window, 'negotiationneeded', e => {
    const pc = e.target;
    if (browserDetails.version < 72 || (pc.getConfiguration &&
        pc.getConfiguration().sdpSemantics === 'plan-b')) {
      if (pc.signalingState !== 'stable') {
        return;
      }
    }
    return e;
  });
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/edge/filtericeservers.js
/*
 *  Copyright (c) 2018 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */



// Edge does not like
// 1) stun: filtered after 14393 unless ?transport=udp is present
// 2) turn: that does not have all of turn:host:port?transport=udp
// 3) turn: with ipv6 addresses
// 4) turn: occurring muliple times
function filterIceServers(iceServers, edgeVersion) {
  let hasTurn = false;
  iceServers = JSON.parse(JSON.stringify(iceServers));
  return iceServers.filter(server => {
    if (server && (server.urls || server.url)) {
      var urls = server.urls || server.url;
      if (server.url && !server.urls) {
        deprecated('RTCIceServer.url', 'RTCIceServer.urls');
      }
      const isString = typeof urls === 'string';
      if (isString) {
        urls = [urls];
      }
      urls = urls.filter(url => {
        // filter STUN unconditionally.
        if (url.indexOf('stun:') === 0) {
          return false;
        }

        const validTurn = url.startsWith('turn') &&
            !url.startsWith('turn:[') &&
            url.includes('transport=udp');
        if (validTurn && !hasTurn) {
          hasTurn = true;
          return true;
        }
        return validTurn && !hasTurn;
      });

      delete server.url;
      server.urls = isString ? urls[0] : urls;
      return !!urls.length;
    }
  });
}

// EXTERNAL MODULE: ./node_modules/rtcpeerconnection-shim/rtcpeerconnection.js
var rtcpeerconnection = __webpack_require__(134);
var rtcpeerconnection_default = /*#__PURE__*/__webpack_require__.n(rtcpeerconnection);
;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/edge/getusermedia.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */


function getusermedia_shimGetUserMedia(window) {
  const navigator = window && window.navigator;

  const shimError_ = function(e) {
    return {
      name: {PermissionDeniedError: 'NotAllowedError'}[e.name] || e.name,
      message: e.message,
      constraint: e.constraint,
      toString() {
        return this.name;
      }
    };
  };

  // getUserMedia error shim.
  const origGetUserMedia = navigator.mediaDevices.getUserMedia.
      bind(navigator.mediaDevices);
  navigator.mediaDevices.getUserMedia = function(c) {
    return origGetUserMedia(c).catch(e => Promise.reject(shimError_(e)));
  };
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/edge/getdisplaymedia.js
/*
 *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
 /* eslint-env node */


function getdisplaymedia_shimGetDisplayMedia(window) {
  if (!('getDisplayMedia' in window.navigator)) {
    return;
  }
  if (!(window.navigator.mediaDevices)) {
    return;
  }
  if (window.navigator.mediaDevices &&
    'getDisplayMedia' in window.navigator.mediaDevices) {
    return;
  }
  window.navigator.mediaDevices.getDisplayMedia =
    window.navigator.getDisplayMedia.bind(window.navigator);
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/edge/edge_shim.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */









function edge_shim_shimPeerConnection(window) {
  const browserDetails = detectBrowser(window);

  if (window.RTCIceGatherer) {
    if (!window.RTCIceCandidate) {
      window.RTCIceCandidate = function RTCIceCandidate(args) {
        return args;
      };
    }
    if (!window.RTCSessionDescription) {
      window.RTCSessionDescription = function RTCSessionDescription(args) {
        return args;
      };
    }
    // this adds an additional event listener to MediaStrackTrack that signals
    // when a tracks enabled property was changed. Workaround for a bug in
    // addStream, see below. No longer required in 15025+
    if (browserDetails.version < 15025) {
      const origMSTEnabled = Object.getOwnPropertyDescriptor(
          window.MediaStreamTrack.prototype, 'enabled');
      Object.defineProperty(window.MediaStreamTrack.prototype, 'enabled', {
        set(value) {
          origMSTEnabled.set.call(this, value);
          const ev = new Event('enabled');
          ev.enabled = value;
          this.dispatchEvent(ev);
        }
      });
    }
  }

  // ORTC defines the DTMF sender a bit different.
  // https://github.com/w3c/ortc/issues/714
  if (window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {
    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {
      get() {
        if (this._dtmf === undefined) {
          if (this.track.kind === 'audio') {
            this._dtmf = new window.RTCDtmfSender(this);
          } else if (this.track.kind === 'video') {
            this._dtmf = null;
          }
        }
        return this._dtmf;
      }
    });
  }
  // Edge currently only implements the RTCDtmfSender, not the
  // RTCDTMFSender alias. See http://draft.ortc.org/#rtcdtmfsender2*
  if (window.RTCDtmfSender && !window.RTCDTMFSender) {
    window.RTCDTMFSender = window.RTCDtmfSender;
  }

  const RTCPeerConnectionShim = rtcpeerconnection_default()(window,
      browserDetails.version);
  window.RTCPeerConnection = function RTCPeerConnection(config) {
    if (config && config.iceServers) {
      config.iceServers = filterIceServers(config.iceServers,
        browserDetails.version);
      log('ICE servers after filtering:', config.iceServers);
    }
    return new RTCPeerConnectionShim(config);
  };
  window.RTCPeerConnection.prototype = RTCPeerConnectionShim.prototype;
}

function shimReplaceTrack(window) {
  // ORTC has replaceTrack -- https://github.com/w3c/ortc/issues/614
  if (window.RTCRtpSender &&
      !('replaceTrack' in window.RTCRtpSender.prototype)) {
    window.RTCRtpSender.prototype.replaceTrack =
        window.RTCRtpSender.prototype.setTrack;
  }
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/firefox/getusermedia.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */




function firefox_getusermedia_shimGetUserMedia(window) {
  const browserDetails = detectBrowser(window);
  const navigator = window && window.navigator;
  const MediaStreamTrack = window && window.MediaStreamTrack;

  navigator.getUserMedia = function(constraints, onSuccess, onError) {
    // Replace Firefox 44+'s deprecation warning with unprefixed version.
    deprecated('navigator.getUserMedia',
        'navigator.mediaDevices.getUserMedia');
    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);
  };

  if (!(browserDetails.version > 55 &&
      'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {
    const remap = function(obj, a, b) {
      if (a in obj && !(b in obj)) {
        obj[b] = obj[a];
        delete obj[a];
      }
    };

    const nativeGetUserMedia = navigator.mediaDevices.getUserMedia.
        bind(navigator.mediaDevices);
    navigator.mediaDevices.getUserMedia = function(c) {
      if (typeof c === 'object' && typeof c.audio === 'object') {
        c = JSON.parse(JSON.stringify(c));
        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');
        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');
      }
      return nativeGetUserMedia(c);
    };

    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {
      const nativeGetSettings = MediaStreamTrack.prototype.getSettings;
      MediaStreamTrack.prototype.getSettings = function() {
        const obj = nativeGetSettings.apply(this, arguments);
        remap(obj, 'mozAutoGainControl', 'autoGainControl');
        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');
        return obj;
      };
    }

    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {
      const nativeApplyConstraints =
        MediaStreamTrack.prototype.applyConstraints;
      MediaStreamTrack.prototype.applyConstraints = function(c) {
        if (this.kind === 'audio' && typeof c === 'object') {
          c = JSON.parse(JSON.stringify(c));
          remap(c, 'autoGainControl', 'mozAutoGainControl');
          remap(c, 'noiseSuppression', 'mozNoiseSuppression');
        }
        return nativeApplyConstraints.apply(this, [c]);
      };
    }
  }
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/firefox/getdisplaymedia.js
/*
 *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */


function firefox_getdisplaymedia_shimGetDisplayMedia(window, preferredMediaSource) {
  if (window.navigator.mediaDevices &&
    'getDisplayMedia' in window.navigator.mediaDevices) {
    return;
  }
  if (!(window.navigator.mediaDevices)) {
    return;
  }
  window.navigator.mediaDevices.getDisplayMedia =
    function getDisplayMedia(constraints) {
      if (!(constraints && constraints.video)) {
        const err = new DOMException('getDisplayMedia without video ' +
            'constraints is undefined');
        err.name = 'NotFoundError';
        // from https://heycam.github.io/webidl/#idl-DOMException-error-names
        err.code = 8;
        return Promise.reject(err);
      }
      if (constraints.video === true) {
        constraints.video = {mediaSource: preferredMediaSource};
      } else {
        constraints.video.mediaSource = preferredMediaSource;
      }
      return window.navigator.mediaDevices.getUserMedia(constraints);
    };
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/firefox/firefox_shim.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */






function firefox_shim_shimOnTrack(window) {
  if (typeof window === 'object' && window.RTCTrackEvent &&
      ('receiver' in window.RTCTrackEvent.prototype) &&
      !('transceiver' in window.RTCTrackEvent.prototype)) {
    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {
      get() {
        return {receiver: this.receiver};
      }
    });
  }
}

function firefox_shim_shimPeerConnection(window) {
  const browserDetails = detectBrowser(window);

  if (typeof window !== 'object' ||
      !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {
    return; // probably media.peerconnection.enabled=false in about:config
  }
  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {
    // very basic support for old versions.
    window.RTCPeerConnection = window.mozRTCPeerConnection;
  }

  if (browserDetails.version < 53) {
    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.
    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate']
        .forEach(function(method) {
          const nativeMethod = window.RTCPeerConnection.prototype[method];
          const methodObj = {[method]() {
            arguments[0] = new ((method === 'addIceCandidate') ?
                window.RTCIceCandidate :
                window.RTCSessionDescription)(arguments[0]);
            return nativeMethod.apply(this, arguments);
          }};
          window.RTCPeerConnection.prototype[method] = methodObj[method];
        });
  }

  // support for addIceCandidate(null or undefined)
  // as well as ignoring {sdpMid, candidate: ""}
  if (browserDetails.version < 68) {
    const nativeAddIceCandidate =
        window.RTCPeerConnection.prototype.addIceCandidate;
    window.RTCPeerConnection.prototype.addIceCandidate =
    function addIceCandidate() {
      if (!arguments[0]) {
        if (arguments[1]) {
          arguments[1].apply(null);
        }
        return Promise.resolve();
      }
      // Firefox 68+ emits and processes {candidate: "", ...}, ignore
      // in older versions.
      if (arguments[0] && arguments[0].candidate === '') {
        return Promise.resolve();
      }
      return nativeAddIceCandidate.apply(this, arguments);
    };
  }

  const modernStatsTypes = {
    inboundrtp: 'inbound-rtp',
    outboundrtp: 'outbound-rtp',
    candidatepair: 'candidate-pair',
    localcandidate: 'local-candidate',
    remotecandidate: 'remote-candidate'
  };

  const nativeGetStats = window.RTCPeerConnection.prototype.getStats;
  window.RTCPeerConnection.prototype.getStats = function getStats() {
    const [selector, onSucc, onErr] = arguments;
    return nativeGetStats.apply(this, [selector || null])
      .then(stats => {
        if (browserDetails.version < 53 && !onSucc) {
          // Shim only promise getStats with spec-hyphens in type names
          // Leave callback version alone; misc old uses of forEach before Map
          try {
            stats.forEach(stat => {
              stat.type = modernStatsTypes[stat.type] || stat.type;
            });
          } catch (e) {
            if (e.name !== 'TypeError') {
              throw e;
            }
            // Avoid TypeError: "type" is read-only, in old versions. 34-43ish
            stats.forEach((stat, i) => {
              stats.set(i, Object.assign({}, stat, {
                type: modernStatsTypes[stat.type] || stat.type
              }));
            });
          }
        }
        return stats;
      })
      .then(onSucc, onErr);
  };
}

function shimSenderGetStats(window) {
  if (!(typeof window === 'object' && window.RTCPeerConnection &&
      window.RTCRtpSender)) {
    return;
  }
  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {
    return;
  }
  const origGetSenders = window.RTCPeerConnection.prototype.getSenders;
  if (origGetSenders) {
    window.RTCPeerConnection.prototype.getSenders = function getSenders() {
      const senders = origGetSenders.apply(this, []);
      senders.forEach(sender => sender._pc = this);
      return senders;
    };
  }

  const origAddTrack = window.RTCPeerConnection.prototype.addTrack;
  if (origAddTrack) {
    window.RTCPeerConnection.prototype.addTrack = function addTrack() {
      const sender = origAddTrack.apply(this, arguments);
      sender._pc = this;
      return sender;
    };
  }
  window.RTCRtpSender.prototype.getStats = function getStats() {
    return this.track ? this._pc.getStats(this.track) :
        Promise.resolve(new Map());
  };
}

function shimReceiverGetStats(window) {
  if (!(typeof window === 'object' && window.RTCPeerConnection &&
      window.RTCRtpSender)) {
    return;
  }
  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {
    return;
  }
  const origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;
  if (origGetReceivers) {
    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {
      const receivers = origGetReceivers.apply(this, []);
      receivers.forEach(receiver => receiver._pc = this);
      return receivers;
    };
  }
  wrapPeerConnectionEvent(window, 'track', e => {
    e.receiver._pc = e.srcElement;
    return e;
  });
  window.RTCRtpReceiver.prototype.getStats = function getStats() {
    return this._pc.getStats(this.track);
  };
}

function shimRemoveStream(window) {
  if (!window.RTCPeerConnection ||
      'removeStream' in window.RTCPeerConnection.prototype) {
    return;
  }
  window.RTCPeerConnection.prototype.removeStream =
    function removeStream(stream) {
      deprecated('removeStream', 'removeTrack');
      this.getSenders().forEach(sender => {
        if (sender.track && stream.getTracks().includes(sender.track)) {
          this.removeTrack(sender);
        }
      });
    };
}

function shimRTCDataChannel(window) {
  // rename DataChannel to RTCDataChannel (native fix in FF60):
  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851
  if (window.DataChannel && !window.RTCDataChannel) {
    window.RTCDataChannel = window.DataChannel;
  }
}

function shimAddTransceiver(window) {
  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647
  // Firefox ignores the init sendEncodings options passed to addTransceiver
  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918
  if (!(typeof window === 'object' && window.RTCPeerConnection)) {
    return;
  }
  const origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;
  if (origAddTransceiver) {
    window.RTCPeerConnection.prototype.addTransceiver =
      function addTransceiver() {
        this.setParametersPromises = [];
        const initParameters = arguments[1];
        const shouldPerformCheck = initParameters &&
                                  'sendEncodings' in initParameters;
        if (shouldPerformCheck) {
          // If sendEncodings params are provided, validate grammar
          initParameters.sendEncodings.forEach((encodingParam) => {
            if ('rid' in encodingParam) {
              const ridRegex = /^[a-z0-9]{0,16}$/i;
              if (!ridRegex.test(encodingParam.rid)) {
                throw new TypeError('Invalid RID value provided.');
              }
            }
            if ('scaleResolutionDownBy' in encodingParam) {
              if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {
                throw new RangeError('scale_resolution_down_by must be >= 1.0');
              }
            }
            if ('maxFramerate' in encodingParam) {
              if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {
                throw new RangeError('max_framerate must be >= 0.0');
              }
            }
          });
        }
        const transceiver = origAddTransceiver.apply(this, arguments);
        if (shouldPerformCheck) {
          // Check if the init options were applied. If not we do this in an
          // asynchronous way and save the promise reference in a global object.
          // This is an ugly hack, but at the same time is way more robust than
          // checking the sender parameters before and after the createOffer
          // Also note that after the createoffer we are not 100% sure that
          // the params were asynchronously applied so we might miss the
          // opportunity to recreate offer.
          const {sender} = transceiver;
          const params = sender.getParameters();
          if (!('encodings' in params)) {
            params.encodings = initParameters.sendEncodings;
            sender.sendEncodings = initParameters.sendEncodings;
            this.setParametersPromises.push(sender.setParameters(params)
              .then(() => {
                delete sender.sendEncodings;
              }).catch(() => {
                delete sender.sendEncodings;
              })
            );
          }
        }
        return transceiver;
      };
  }
}

function shimGetParameters(window) {
  if (!(typeof window === 'object' && window.RTCRtpSender)) {
    return;
  }
  const origGetParameters = window.RTCRtpSender.prototype.getParameters;
  if (origGetParameters) {
    window.RTCRtpSender.prototype.getParameters =
      function getParameters() {
        var params = origGetParameters.apply(this, arguments);
        if (!('sendEncodings' in this)) {
          return params;
        }
        return Object.assign({}, {encodings: this.sendEncodings}, params);
      };
  }
}

function shimCreateOffer(window) {
  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647
  // Firefox ignores the init sendEncodings options passed to addTransceiver
  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918
  if (!(typeof window === 'object' && window.RTCPeerConnection)) {
    return;
  }
  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;
  window.RTCPeerConnection.prototype.createOffer = function createOffer() {
    if (this.setParametersPromises && this.setParametersPromises.length) {
      return Promise.all(this.setParametersPromises)
      .then(() => {
        return origCreateOffer.apply(this, arguments);
      })
      .finally(() => {
        this.setParametersPromises = [];
      });
    }
    return origCreateOffer.apply(this, arguments);
  };
}

function shimCreateAnswer(window) {
  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647
  // Firefox ignores the init sendEncodings options passed to addTransceiver
  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918
  if (!(typeof window === 'object' && window.RTCPeerConnection)) {
    return;
  }
  const origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;
  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {
    if (this.setParametersPromises && this.setParametersPromises.length) {
      return Promise.all(this.setParametersPromises)
      .then(() => {
        return origCreateAnswer.apply(this, arguments);
      })
      .finally(() => {
        this.setParametersPromises = [];
      });
    }
    return origCreateAnswer.apply(this, arguments);
  };
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/safari/safari_shim.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */



function shimLocalStreamsAPI(window) {
  if (typeof window !== 'object' || !window.RTCPeerConnection) {
    return;
  }
  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {
    window.RTCPeerConnection.prototype.getLocalStreams =
      function getLocalStreams() {
        if (!this._localStreams) {
          this._localStreams = [];
        }
        return this._localStreams;
      };
  }
  if (!('addStream' in window.RTCPeerConnection.prototype)) {
    const _addTrack = window.RTCPeerConnection.prototype.addTrack;
    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {
      if (!this._localStreams) {
        this._localStreams = [];
      }
      if (!this._localStreams.includes(stream)) {
        this._localStreams.push(stream);
      }
      // Try to emulate Chrome's behaviour of adding in audio-video order.
      // Safari orders by track id.
      stream.getAudioTracks().forEach(track => _addTrack.call(this, track,
        stream));
      stream.getVideoTracks().forEach(track => _addTrack.call(this, track,
        stream));
    };

    window.RTCPeerConnection.prototype.addTrack =
      function addTrack(track, ...streams) {
        if (streams) {
          streams.forEach((stream) => {
            if (!this._localStreams) {
              this._localStreams = [stream];
            } else if (!this._localStreams.includes(stream)) {
              this._localStreams.push(stream);
            }
          });
        }
        return _addTrack.apply(this, arguments);
      };
  }
  if (!('removeStream' in window.RTCPeerConnection.prototype)) {
    window.RTCPeerConnection.prototype.removeStream =
      function removeStream(stream) {
        if (!this._localStreams) {
          this._localStreams = [];
        }
        const index = this._localStreams.indexOf(stream);
        if (index === -1) {
          return;
        }
        this._localStreams.splice(index, 1);
        const tracks = stream.getTracks();
        this.getSenders().forEach(sender => {
          if (tracks.includes(sender.track)) {
            this.removeTrack(sender);
          }
        });
      };
  }
}

function shimRemoteStreamsAPI(window) {
  if (typeof window !== 'object' || !window.RTCPeerConnection) {
    return;
  }
  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {
    window.RTCPeerConnection.prototype.getRemoteStreams =
      function getRemoteStreams() {
        return this._remoteStreams ? this._remoteStreams : [];
      };
  }
  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {
    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {
      get() {
        return this._onaddstream;
      },
      set(f) {
        if (this._onaddstream) {
          this.removeEventListener('addstream', this._onaddstream);
          this.removeEventListener('track', this._onaddstreampoly);
        }
        this.addEventListener('addstream', this._onaddstream = f);
        this.addEventListener('track', this._onaddstreampoly = (e) => {
          e.streams.forEach(stream => {
            if (!this._remoteStreams) {
              this._remoteStreams = [];
            }
            if (this._remoteStreams.includes(stream)) {
              return;
            }
            this._remoteStreams.push(stream);
            const event = new Event('addstream');
            event.stream = stream;
            this.dispatchEvent(event);
          });
        });
      }
    });
    const origSetRemoteDescription =
      window.RTCPeerConnection.prototype.setRemoteDescription;
    window.RTCPeerConnection.prototype.setRemoteDescription =
      function setRemoteDescription() {
        const pc = this;
        if (!this._onaddstreampoly) {
          this.addEventListener('track', this._onaddstreampoly = function(e) {
            e.streams.forEach(stream => {
              if (!pc._remoteStreams) {
                pc._remoteStreams = [];
              }
              if (pc._remoteStreams.indexOf(stream) >= 0) {
                return;
              }
              pc._remoteStreams.push(stream);
              const event = new Event('addstream');
              event.stream = stream;
              pc.dispatchEvent(event);
            });
          });
        }
        return origSetRemoteDescription.apply(pc, arguments);
      };
  }
}

function shimCallbacksAPI(window) {
  if (typeof window !== 'object' || !window.RTCPeerConnection) {
    return;
  }
  const prototype = window.RTCPeerConnection.prototype;
  const origCreateOffer = prototype.createOffer;
  const origCreateAnswer = prototype.createAnswer;
  const setLocalDescription = prototype.setLocalDescription;
  const setRemoteDescription = prototype.setRemoteDescription;
  const addIceCandidate = prototype.addIceCandidate;

  prototype.createOffer =
    function createOffer(successCallback, failureCallback) {
      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];
      const promise = origCreateOffer.apply(this, [options]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };

  prototype.createAnswer =
    function createAnswer(successCallback, failureCallback) {
      const options = (arguments.length >= 2) ? arguments[2] : arguments[0];
      const promise = origCreateAnswer.apply(this, [options]);
      if (!failureCallback) {
        return promise;
      }
      promise.then(successCallback, failureCallback);
      return Promise.resolve();
    };

  let withCallback = function(description, successCallback, failureCallback) {
    const promise = setLocalDescription.apply(this, [description]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.setLocalDescription = withCallback;

  withCallback = function(description, successCallback, failureCallback) {
    const promise = setRemoteDescription.apply(this, [description]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.setRemoteDescription = withCallback;

  withCallback = function(candidate, successCallback, failureCallback) {
    const promise = addIceCandidate.apply(this, [candidate]);
    if (!failureCallback) {
      return promise;
    }
    promise.then(successCallback, failureCallback);
    return Promise.resolve();
  };
  prototype.addIceCandidate = withCallback;
}

function safari_shim_shimGetUserMedia(window) {
  const navigator = window && window.navigator;

  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    // shim not needed in Safari 12.1
    const mediaDevices = navigator.mediaDevices;
    const _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);
    navigator.mediaDevices.getUserMedia = (constraints) => {
      return _getUserMedia(shimConstraints(constraints));
    };
  }

  if (!navigator.getUserMedia && navigator.mediaDevices &&
    navigator.mediaDevices.getUserMedia) {
    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {
      navigator.mediaDevices.getUserMedia(constraints)
      .then(cb, errcb);
    }.bind(navigator);
  }
}

function shimConstraints(constraints) {
  if (constraints && constraints.video !== undefined) {
    return Object.assign({},
      constraints,
      {video: compactObject(constraints.video)}
    );
  }

  return constraints;
}

function shimRTCIceServerUrls(window) {
  if (!window.RTCPeerConnection) {
    return;
  }
  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls
  const OrigPeerConnection = window.RTCPeerConnection;
  window.RTCPeerConnection =
    function RTCPeerConnection(pcConfig, pcConstraints) {
      if (pcConfig && pcConfig.iceServers) {
        const newIceServers = [];
        for (let i = 0; i < pcConfig.iceServers.length; i++) {
          let server = pcConfig.iceServers[i];
          if (!server.hasOwnProperty('urls') &&
              server.hasOwnProperty('url')) {
            deprecated('RTCIceServer.url', 'RTCIceServer.urls');
            server = JSON.parse(JSON.stringify(server));
            server.urls = server.url;
            delete server.url;
            newIceServers.push(server);
          } else {
            newIceServers.push(pcConfig.iceServers[i]);
          }
        }
        pcConfig.iceServers = newIceServers;
      }
      return new OrigPeerConnection(pcConfig, pcConstraints);
    };
  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;
  // wrap static methods. Currently just generateCertificate.
  if ('generateCertificate' in OrigPeerConnection) {
    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {
      get() {
        return OrigPeerConnection.generateCertificate;
      }
    });
  }
}

function shimTrackEventTransceiver(window) {
  // Add event.transceiver member over deprecated event.receiver
  if (typeof window === 'object' && window.RTCTrackEvent &&
      'receiver' in window.RTCTrackEvent.prototype &&
      !('transceiver' in window.RTCTrackEvent.prototype)) {
    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {
      get() {
        return {receiver: this.receiver};
      }
    });
  }
}

function shimCreateOfferLegacy(window) {
  const origCreateOffer = window.RTCPeerConnection.prototype.createOffer;
  window.RTCPeerConnection.prototype.createOffer =
    function createOffer(offerOptions) {
      if (offerOptions) {
        if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {
          // support bit values
          offerOptions.offerToReceiveAudio =
            !!offerOptions.offerToReceiveAudio;
        }
        const audioTransceiver = this.getTransceivers().find(transceiver =>
          transceiver.receiver.track.kind === 'audio');
        if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {
          if (audioTransceiver.direction === 'sendrecv') {
            if (audioTransceiver.setDirection) {
              audioTransceiver.setDirection('sendonly');
            } else {
              audioTransceiver.direction = 'sendonly';
            }
          } else if (audioTransceiver.direction === 'recvonly') {
            if (audioTransceiver.setDirection) {
              audioTransceiver.setDirection('inactive');
            } else {
              audioTransceiver.direction = 'inactive';
            }
          }
        } else if (offerOptions.offerToReceiveAudio === true &&
            !audioTransceiver) {
          this.addTransceiver('audio');
        }

        if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {
          // support bit values
          offerOptions.offerToReceiveVideo =
            !!offerOptions.offerToReceiveVideo;
        }
        const videoTransceiver = this.getTransceivers().find(transceiver =>
          transceiver.receiver.track.kind === 'video');
        if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {
          if (videoTransceiver.direction === 'sendrecv') {
            if (videoTransceiver.setDirection) {
              videoTransceiver.setDirection('sendonly');
            } else {
              videoTransceiver.direction = 'sendonly';
            }
          } else if (videoTransceiver.direction === 'recvonly') {
            if (videoTransceiver.setDirection) {
              videoTransceiver.setDirection('inactive');
            } else {
              videoTransceiver.direction = 'inactive';
            }
          }
        } else if (offerOptions.offerToReceiveVideo === true &&
            !videoTransceiver) {
          this.addTransceiver('video');
        }
      }
      return origCreateOffer.apply(this, arguments);
    };
}

function shimAudioContext(window) {
  if (typeof window !== 'object' || window.AudioContext) {
    return;
  }
  window.AudioContext = window.webkitAudioContext;
}

// EXTERNAL MODULE: ./node_modules/sdp/sdp.js
var sdp = __webpack_require__(985);
var sdp_default = /*#__PURE__*/__webpack_require__.n(sdp);
;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/common_shim.js
/*
 *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */





function shimRTCIceCandidate(window) {
  // foundation is arbitrarily chosen as an indicator for full support for
  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface
  if (!window.RTCIceCandidate || (window.RTCIceCandidate && 'foundation' in
      window.RTCIceCandidate.prototype)) {
    return;
  }

  const NativeRTCIceCandidate = window.RTCIceCandidate;
  window.RTCIceCandidate = function RTCIceCandidate(args) {
    // Remove the a= which shouldn't be part of the candidate string.
    if (typeof args === 'object' && args.candidate &&
        args.candidate.indexOf('a=') === 0) {
      args = JSON.parse(JSON.stringify(args));
      args.candidate = args.candidate.substr(2);
    }

    if (args.candidate && args.candidate.length) {
      // Augment the native candidate with the parsed fields.
      const nativeCandidate = new NativeRTCIceCandidate(args);
      const parsedCandidate = sdp_default().parseCandidate(args.candidate);
      const augmentedCandidate = Object.assign(nativeCandidate,
          parsedCandidate);

      // Add a serializer that does not serialize the extra attributes.
      augmentedCandidate.toJSON = function toJSON() {
        return {
          candidate: augmentedCandidate.candidate,
          sdpMid: augmentedCandidate.sdpMid,
          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,
          usernameFragment: augmentedCandidate.usernameFragment,
        };
      };
      return augmentedCandidate;
    }
    return new NativeRTCIceCandidate(args);
  };
  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;

  // Hook up the augmented candidate in onicecandidate and
  // addEventListener('icecandidate', ...)
  wrapPeerConnectionEvent(window, 'icecandidate', e => {
    if (e.candidate) {
      Object.defineProperty(e, 'candidate', {
        value: new window.RTCIceCandidate(e.candidate),
        writable: 'false'
      });
    }
    return e;
  });
}

function shimMaxMessageSize(window) {
  if (!window.RTCPeerConnection) {
    return;
  }
  const browserDetails = detectBrowser(window);

  if (!('sctp' in window.RTCPeerConnection.prototype)) {
    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {
      get() {
        return typeof this._sctp === 'undefined' ? null : this._sctp;
      }
    });
  }

  const sctpInDescription = function(description) {
    if (!description || !description.sdp) {
      return false;
    }
    const sections = sdp_default().splitSections(description.sdp);
    sections.shift();
    return sections.some(mediaSection => {
      const mLine = sdp_default().parseMLine(mediaSection);
      return mLine && mLine.kind === 'application'
          && mLine.protocol.indexOf('SCTP') !== -1;
    });
  };

  const getRemoteFirefoxVersion = function(description) {
    // TODO: Is there a better solution for detecting Firefox?
    const match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);
    if (match === null || match.length < 2) {
      return -1;
    }
    const version = parseInt(match[1], 10);
    // Test for NaN (yes, this is ugly)
    return version !== version ? -1 : version;
  };

  const getCanSendMaxMessageSize = function(remoteIsFirefox) {
    // Every implementation we know can send at least 64 KiB.
    // Note: Although Chrome is technically able to send up to 256 KiB, the
    //       data does not reach the other peer reliably.
    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419
    let canSendMaxMessageSize = 65536;
    if (browserDetails.browser === 'firefox') {
      if (browserDetails.version < 57) {
        if (remoteIsFirefox === -1) {
          // FF < 57 will send in 16 KiB chunks using the deprecated PPID
          // fragmentation.
          canSendMaxMessageSize = 16384;
        } else {
          // However, other FF (and RAWRTC) can reassemble PPID-fragmented
          // messages. Thus, supporting ~2 GiB when sending.
          canSendMaxMessageSize = 2147483637;
        }
      } else if (browserDetails.version < 60) {
        // Currently, all FF >= 57 will reset the remote maximum message size
        // to the default value when a data channel is created at a later
        // stage. :(
        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831
        canSendMaxMessageSize =
          browserDetails.version === 57 ? 65535 : 65536;
      } else {
        // FF >= 60 supports sending ~2 GiB
        canSendMaxMessageSize = 2147483637;
      }
    }
    return canSendMaxMessageSize;
  };

  const getMaxMessageSize = function(description, remoteIsFirefox) {
    // Note: 65536 bytes is the default value from the SDP spec. Also,
    //       every implementation we know supports receiving 65536 bytes.
    let maxMessageSize = 65536;

    // FF 57 has a slightly incorrect default remote max message size, so
    // we need to adjust it here to avoid a failure when sending.
    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697
    if (browserDetails.browser === 'firefox'
         && browserDetails.version === 57) {
      maxMessageSize = 65535;
    }

    const match = sdp_default().matchPrefix(description.sdp,
      'a=max-message-size:');
    if (match.length > 0) {
      maxMessageSize = parseInt(match[0].substr(19), 10);
    } else if (browserDetails.browser === 'firefox' &&
                remoteIsFirefox !== -1) {
      // If the maximum message size is not present in the remote SDP and
      // both local and remote are Firefox, the remote peer can receive
      // ~2 GiB.
      maxMessageSize = 2147483637;
    }
    return maxMessageSize;
  };

  const origSetRemoteDescription =
      window.RTCPeerConnection.prototype.setRemoteDescription;
  window.RTCPeerConnection.prototype.setRemoteDescription =
    function setRemoteDescription() {
      this._sctp = null;
      // Chrome decided to not expose .sctp in plan-b mode.
      // As usual, adapter.js has to do an 'ugly worakaround'
      // to cover up the mess.
      if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {
        const {sdpSemantics} = this.getConfiguration();
        if (sdpSemantics === 'plan-b') {
          Object.defineProperty(this, 'sctp', {
            get() {
              return typeof this._sctp === 'undefined' ? null : this._sctp;
            },
            enumerable: true,
            configurable: true,
          });
        }
      }

      if (sctpInDescription(arguments[0])) {
        // Check if the remote is FF.
        const isFirefox = getRemoteFirefoxVersion(arguments[0]);

        // Get the maximum message size the local peer is capable of sending
        const canSendMMS = getCanSendMaxMessageSize(isFirefox);

        // Get the maximum message size of the remote peer.
        const remoteMMS = getMaxMessageSize(arguments[0], isFirefox);

        // Determine final maximum message size
        let maxMessageSize;
        if (canSendMMS === 0 && remoteMMS === 0) {
          maxMessageSize = Number.POSITIVE_INFINITY;
        } else if (canSendMMS === 0 || remoteMMS === 0) {
          maxMessageSize = Math.max(canSendMMS, remoteMMS);
        } else {
          maxMessageSize = Math.min(canSendMMS, remoteMMS);
        }

        // Create a dummy RTCSctpTransport object and the 'maxMessageSize'
        // attribute.
        const sctp = {};
        Object.defineProperty(sctp, 'maxMessageSize', {
          get() {
            return maxMessageSize;
          }
        });
        this._sctp = sctp;
      }

      return origSetRemoteDescription.apply(this, arguments);
    };
}

function shimSendThrowTypeError(window) {
  if (!(window.RTCPeerConnection &&
      'createDataChannel' in window.RTCPeerConnection.prototype)) {
    return;
  }

  // Note: Although Firefox >= 57 has a native implementation, the maximum
  //       message size can be reset for all data channels at a later stage.
  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831

  function wrapDcSend(dc, pc) {
    const origDataChannelSend = dc.send;
    dc.send = function send() {
      const data = arguments[0];
      const length = data.length || data.size || data.byteLength;
      if (dc.readyState === 'open' &&
          pc.sctp && length > pc.sctp.maxMessageSize) {
        throw new TypeError('Message too large (can send a maximum of ' +
          pc.sctp.maxMessageSize + ' bytes)');
      }
      return origDataChannelSend.apply(dc, arguments);
    };
  }
  const origCreateDataChannel =
    window.RTCPeerConnection.prototype.createDataChannel;
  window.RTCPeerConnection.prototype.createDataChannel =
    function createDataChannel() {
      const dataChannel = origCreateDataChannel.apply(this, arguments);
      wrapDcSend(dataChannel, this);
      return dataChannel;
    };
  wrapPeerConnectionEvent(window, 'datachannel', e => {
    wrapDcSend(e.channel, e.target);
    return e;
  });
}


/* shims RTCConnectionState by pretending it is the same as iceConnectionState.
 * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12
 * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect
 * since DTLS failures would be hidden. See
 * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827
 * for the Firefox tracking bug.
 */
function shimConnectionState(window) {
  if (!window.RTCPeerConnection ||
      'connectionState' in window.RTCPeerConnection.prototype) {
    return;
  }
  const proto = window.RTCPeerConnection.prototype;
  Object.defineProperty(proto, 'connectionState', {
    get() {
      return {
        completed: 'connected',
        checking: 'connecting'
      }[this.iceConnectionState] || this.iceConnectionState;
    },
    enumerable: true,
    configurable: true
  });
  Object.defineProperty(proto, 'onconnectionstatechange', {
    get() {
      return this._onconnectionstatechange || null;
    },
    set(cb) {
      if (this._onconnectionstatechange) {
        this.removeEventListener('connectionstatechange',
            this._onconnectionstatechange);
        delete this._onconnectionstatechange;
      }
      if (cb) {
        this.addEventListener('connectionstatechange',
            this._onconnectionstatechange = cb);
      }
    },
    enumerable: true,
    configurable: true
  });

  ['setLocalDescription', 'setRemoteDescription'].forEach((method) => {
    const origMethod = proto[method];
    proto[method] = function() {
      if (!this._connectionstatechangepoly) {
        this._connectionstatechangepoly = e => {
          const pc = e.target;
          if (pc._lastConnectionState !== pc.connectionState) {
            pc._lastConnectionState = pc.connectionState;
            const newEvent = new Event('connectionstatechange', e);
            pc.dispatchEvent(newEvent);
          }
          return e;
        };
        this.addEventListener('iceconnectionstatechange',
          this._connectionstatechangepoly);
      }
      return origMethod.apply(this, arguments);
    };
  });
}

function removeAllowExtmapMixed(window) {
  /* remove a=extmap-allow-mixed for webrtc.org < M71 */
  if (!window.RTCPeerConnection) {
    return;
  }
  const browserDetails = detectBrowser(window);
  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {
    return;
  }
  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {
    return;
  }
  const nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;
  window.RTCPeerConnection.prototype.setRemoteDescription =
  function setRemoteDescription(desc) {
    if (desc && desc.sdp && desc.sdp.indexOf('\na=extmap-allow-mixed') !== -1) {
      desc.sdp = desc.sdp.split('\n').filter((line) => {
        return line.trim() !== 'a=extmap-allow-mixed';
      }).join('\n');
    }
    return nativeSRD.apply(this, arguments);
  };
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/adapter_factory.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */


  // Browser shims.






// Shimming starts here.
function adapterFactory({window} = {}, options = {
  shimChrome: true,
  shimFirefox: true,
  shimEdge: true,
  shimSafari: true,
}) {
  // Utils.
  const logging = log;
  const browserDetails = detectBrowser(window);

  const adapter = {
    browserDetails,
    commonShim: common_shim_namespaceObject,
    extractVersion: extractVersion,
    disableLog: disableLog,
    disableWarnings: disableWarnings
  };

  // Shim browser if found.
  switch (browserDetails.browser) {
    case 'chrome':
      if (!chrome_shim_namespaceObject || !shimPeerConnection ||
          !options.shimChrome) {
        logging('Chrome shim is not included in this adapter release.');
        return adapter;
      }
      if (browserDetails.version === null) {
        logging('Chrome shim can not determine version, not shimming.');
        return adapter;
      }
      logging('adapter.js shimming chrome.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = chrome_shim_namespaceObject;

      shimGetUserMedia(window);
      shimMediaStream(window);
      shimPeerConnection(window);
      shimOnTrack(window);
      shimAddTrackRemoveTrack(window);
      shimGetSendersWithDtmf(window);
      shimGetStats(window);
      shimSenderReceiverGetStats(window);
      fixNegotiationNeeded(window);

      shimRTCIceCandidate(window);
      shimConnectionState(window);
      shimMaxMessageSize(window);
      shimSendThrowTypeError(window);
      removeAllowExtmapMixed(window);
      break;
    case 'firefox':
      if (!firefox_shim_namespaceObject || !firefox_shim_shimPeerConnection ||
          !options.shimFirefox) {
        logging('Firefox shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming firefox.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = firefox_shim_namespaceObject;

      firefox_getusermedia_shimGetUserMedia(window);
      firefox_shim_shimPeerConnection(window);
      firefox_shim_shimOnTrack(window);
      shimRemoveStream(window);
      shimSenderGetStats(window);
      shimReceiverGetStats(window);
      shimRTCDataChannel(window);
      shimAddTransceiver(window);
      shimGetParameters(window);
      shimCreateOffer(window);
      shimCreateAnswer(window);

      shimRTCIceCandidate(window);
      shimConnectionState(window);
      shimMaxMessageSize(window);
      shimSendThrowTypeError(window);
      break;
    case 'edge':
      if (!edge_shim_namespaceObject || !edge_shim_shimPeerConnection || !options.shimEdge) {
        logging('MS edge shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming edge.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = edge_shim_namespaceObject;

      getusermedia_shimGetUserMedia(window);
      getdisplaymedia_shimGetDisplayMedia(window);
      edge_shim_shimPeerConnection(window);
      shimReplaceTrack(window);

      // the edge shim implements the full RTCIceCandidate object.

      shimMaxMessageSize(window);
      shimSendThrowTypeError(window);
      break;
    case 'safari':
      if (!safari_shim_namespaceObject || !options.shimSafari) {
        logging('Safari shim is not included in this adapter release.');
        return adapter;
      }
      logging('adapter.js shimming safari.');
      // Export to the adapter global object visible in the browser.
      adapter.browserShim = safari_shim_namespaceObject;

      shimRTCIceServerUrls(window);
      shimCreateOfferLegacy(window);
      shimCallbacksAPI(window);
      shimLocalStreamsAPI(window);
      shimRemoteStreamsAPI(window);
      shimTrackEventTransceiver(window);
      safari_shim_shimGetUserMedia(window);
      shimAudioContext(window);

      shimRTCIceCandidate(window);
      shimMaxMessageSize(window);
      shimSendThrowTypeError(window);
      removeAllowExtmapMixed(window);
      break;
    default:
      logging('Unsupported browser!');
      break;
  }

  return adapter;
}

;// CONCATENATED MODULE: ./node_modules/webrtc-adapter/src/js/adapter_core.js
/*
 *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.
 *
 *  Use of this source code is governed by a BSD-style license
 *  that can be found in the LICENSE file in the root of the source
 *  tree.
 */
/* eslint-env node */





const adapter = adapterFactory({window});
/* harmony default export */ const adapter_core = ((/* unused pure expression or super */ null && (adapter)));

// EXTERNAL MODULE: ../ragnarok-core/dist/ragnarok.js
var ragnarok = __webpack_require__(393);
;// CONCATENATED MODULE: ../ragnarok-core/dist/shim.js
var GridApp = Ragnarok.GridApp
var defaultInputConfigFlags = Ragnarok.defaultInputConfigFlags
var ChooseStreamingSettings = Ragnarok.ChooseStreamingSettings
var ChooseStreamingResolution = Ragnarok.ChooseStreamingResolution
var CalculateMaxBitrateKbps = Ragnarok.CalculateMaxBitrateKbps
var CalculateDataUsage = Ragnarok.CalculateDataUsage
var InitializeUtils = Ragnarok.InitializeUtils
var IsFeatureSupported = Ragnarok.IsFeatureSupported
var GetSupportedAudioChannelCount = Ragnarok.GetSupportedAudioChannelCount
var GetDeviceCapabilities = Ragnarok.GetDeviceCapabilities
var VirtualGamepadHandler = Ragnarok.VirtualGamepadHandler
var ConfigureRagnarokSettings = Ragnarok.ConfigureRagnarokSettings
var RagnarokSettings = Ragnarok.RagnarokSettings
var GridServer = Ragnarok.GridServer
var PassThruServer = Ragnarok.PassThruServer
var ConfigureGridServerSettings = Ragnarok.ConfigureGridServerSettings
var GridServerSettings = Ragnarok.GridServerSettings
var TelemetryEventBase = Ragnarok.TelemetryEventBase
var GridServer_GameLaunch_RequestDef = Ragnarok.GridServer_GameLaunch_RequestDef
var GS_FeatureDef = Ragnarok.GS_FeatureDef
var GS_SystemAPICallResultDef = Ragnarok.GS_SystemAPICallResultDef
var GS_DebugInfoDef = Ragnarok.GS_DebugInfoDef
var GS_ExceptionInfoDef = Ragnarok.GS_ExceptionInfoDef
var GS_ClientMetricEventDef = Ragnarok.GS_ClientMetricEventDef
var GS_ConnectivityCheckDef = Ragnarok.GS_ConnectivityCheckDef
var GS_Sleep_EventDef = Ragnarok.GS_Sleep_EventDef
var GS_HttpCallResultDef = Ragnarok.GS_HttpCallResultDef
var GS_PropertyChange_EventDef = Ragnarok.GS_PropertyChange_EventDef
var GS_CodecError_EventDef = Ragnarok.GS_CodecError_EventDef
var GsTelemetryHandler = Ragnarok.GsTelemetryHandler
var CHANGELIST = Ragnarok.CHANGELIST
var CLIENT_VERSION = Ragnarok.CLIENT_VERSION
var CLIENT_IDENTIFICATION = Ragnarok.CLIENT_IDENTIFICATION
var getPlatformDetails = Ragnarok.getPlatformDetails
var performHttpRequest = Ragnarok.performHttpRequest
var AddPlatformTelemetry = Ragnarok.AddPlatformTelemetry
var LogImpl = Ragnarok.LogImpl
var translatePlatformDetailsForPayload = Ragnarok.translatePlatformDetailsForPayload
var translatePlatformDetailsForClientHeader = Ragnarok.translatePlatformDetailsForClientHeader

;// CONCATENATED MODULE: ./index.js



})();

module.exports = __webpack_exports__;
/******/ })()
;
//# sourceMappingURL=ragnarok.js.map